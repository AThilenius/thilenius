(function(){function a(){this.Diff_Timeout=1;this.Diff_EditCost=4;this.Match_Threshold=.5;this.Match_Distance=1E3;this.Patch_DeleteThreshold=.5;this.Patch_Margin=4;this.Match_MaxBits=32}a.prototype.diff_main=function(a,b,d,e){"undefined"==typeof e&&(e=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1E3*this.Diff_Timeout);if(null==a||null==b)throw Error("Null input. (diff_main)");if(a==b)return a?[[0,a]]:[];"undefined"==typeof d&&(d=!0);var f=d,g=this.diff_commonPrefix(a,b);d=a.substring(0,
g);a=a.substring(g);b=b.substring(g);var g=this.diff_commonSuffix(a,b),h=a.substring(a.length-g);a=a.substring(0,a.length-g);b=b.substring(0,b.length-g);a=this.diff_compute_(a,b,f,e);d&&a.unshift([0,d]);h&&a.push([0,h]);this.diff_cleanupMerge(a);return a};a.prototype.diff_compute_=function(a,b,d,e){if(!a)return[[1,b]];if(!b)return[[-1,a]];var f=a.length>b.length?a:b,g=a.length>b.length?b:a,h=f.indexOf(g);return-1!=h?(d=[[1,f.substring(0,h)],[0,g],[1,f.substring(h+g.length)]],a.length>b.length&&(d[0][0]=
d[2][0]=-1),d):1==g.length?[[-1,a],[1,b]]:(f=this.diff_halfMatch_(a,b))?(g=f[0],a=f[1],h=f[2],b=f[3],f=f[4],g=this.diff_main(g,h,d,e),d=this.diff_main(a,b,d,e),g.concat([[0,f]],d)):d&&100<a.length&&100<b.length?this.diff_lineMode_(a,b,e):this.diff_bisect_(a,b,e)};a.prototype.diff_lineMode_=function(a,b,d){var e=this.diff_linesToChars_(a,b);a=e.chars1;b=e.chars2;e=e.lineArray;a=this.diff_main(a,b,!1,d);this.diff_charsToLines_(a,e);this.diff_cleanupSemantic(a);a.push([0,""]);for(var f=e=b=0,g="",h=
"";b<a.length;){switch(a[b][0]){case 1:f++;h+=a[b][1];break;case -1:e++;g+=a[b][1];break;case 0:if(1<=e&&1<=f){a.splice(b-e-f,e+f);b=b-e-f;e=this.diff_main(g,h,!1,d);for(f=e.length-1;0<=f;f--)a.splice(b,0,e[f]);b+=e.length}e=f=0;h=g=""}b++}a.pop();return a};a.prototype.diff_bisect_=function(a,b,d){for(var e=a.length,f=b.length,g=Math.ceil((e+f)/2),h=2*g,k=Array(h),l=Array(h),m=0;m<h;m++)k[m]=-1,l[m]=-1;k[g+1]=0;l[g+1]=0;for(var m=e-f,v=0!=m%2,t=0,H=0,F=0,y=0,r=0;r<g&&!((new Date).getTime()>d);r++){for(var u=
-r+t;u<=r-H;u+=2){var w=g+u,x;x=u==-r||u!=r&&k[w-1]<k[w+1]?k[w+1]:k[w-1]+1;for(var B=x-u;x<e&&B<f&&a.charAt(x)==b.charAt(B);)x++,B++;k[w]=x;if(x>e)H+=2;else if(B>f)t+=2;else if(v&&(w=g+m-u,0<=w&&w<h&&-1!=l[w])){var I=e-l[w];if(x>=I)return this.diff_bisectSplit_(a,b,x,B,d)}}for(u=-r+F;u<=r-y;u+=2){w=g+u;I=u==-r||u!=r&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1;for(x=I-u;I<e&&x<f&&a.charAt(e-I-1)==b.charAt(f-x-1);)I++,x++;l[w]=I;if(I>e)y+=2;else if(x>f)F+=2;else if(!v&&(w=g+m-u,0<=w&&w<h&&-1!=k[w]&&(x=k[w],B=g+
x-w,I=e-I,x>=I)))return this.diff_bisectSplit_(a,b,x,B,d)}}return[[-1,a],[1,b]]};a.prototype.diff_bisectSplit_=function(a,b,d,e,f){var g=a.substring(0,d),h=b.substring(0,e);a=a.substring(d);b=b.substring(e);g=this.diff_main(g,h,!1,f);f=this.diff_main(a,b,!1,f);return g.concat(f)};a.prototype.diff_linesToChars_=function(a,b){function d(a){for(var c="",b=0,d=-1,g=e.length;d<a.length-1;){d=a.indexOf("\n",b);-1==d&&(d=a.length-1);var h=a.substring(b,d+1),b=d+1;(f.hasOwnProperty?f.hasOwnProperty(h):void 0!==
f[h])?c+=String.fromCharCode(f[h]):(c+=String.fromCharCode(g),f[h]=g,e[g++]=h)}return c}var e=[],f={};e[0]="";var g=d(a),h=d(b);return{chars1:g,chars2:h,lineArray:e}};a.prototype.diff_charsToLines_=function(a,b){for(var d=0;d<a.length;d++){for(var e=a[d][1],f=[],g=0;g<e.length;g++)f[g]=b[e.charCodeAt(g)];a[d][1]=f.join("")}};a.prototype.diff_commonPrefix=function(a,b){if(!a||!b||a.charAt(0)!=b.charAt(0))return 0;for(var d=0,e=Math.min(a.length,b.length),f=e,g=0;d<f;)a.substring(g,f)==b.substring(g,
f)?g=d=f:e=f,f=Math.floor((e-d)/2+d);return f};a.prototype.diff_commonSuffix=function(a,b){if(!a||!b||a.charAt(a.length-1)!=b.charAt(b.length-1))return 0;for(var d=0,e=Math.min(a.length,b.length),f=e,g=0;d<f;)a.substring(a.length-f,a.length-g)==b.substring(b.length-f,b.length-g)?g=d=f:e=f,f=Math.floor((e-d)/2+d);return f};a.prototype.diff_commonOverlap_=function(a,b){var d=a.length,e=b.length;if(0==d||0==e)return 0;d>e?a=a.substring(d-e):d<e&&(b=b.substring(0,d));d=Math.min(d,e);if(a==b)return d;
for(var e=0,f=1;;){var g=a.substring(d-f),g=b.indexOf(g);if(-1==g)return e;f+=g;if(0==g||a.substring(d-f)==b.substring(0,f))e=f,f++}};a.prototype.diff_halfMatch_=function(a,b){function d(a,b,c){for(var d=a.substring(c,c+Math.floor(a.length/4)),e=-1,f="",h,k,l,x;-1!=(e=b.indexOf(d,e+1));){var B=g.diff_commonPrefix(a.substring(c),b.substring(e)),I=g.diff_commonSuffix(a.substring(0,c),b.substring(0,e));f.length<I+B&&(f=b.substring(e-I,e)+b.substring(e,e+B),h=a.substring(0,c-I),k=a.substring(c+B),l=b.substring(0,
e-I),x=b.substring(e+B))}return 2*f.length>=a.length?[h,k,l,x,f]:null}if(0>=this.Diff_Timeout)return null;var e=a.length>b.length?a:b,f=a.length>b.length?b:a;if(4>e.length||2*f.length<e.length)return null;var g=this,h=d(e,f,Math.ceil(e.length/4)),e=d(e,f,Math.ceil(e.length/2)),k;if(!h&&!e)return null;k=e?h?h[4].length>e[4].length?h:e:e:h;var l;a.length>b.length?(h=k[0],e=k[1],f=k[2],l=k[3]):(f=k[0],l=k[1],h=k[2],e=k[3]);k=k[4];return[h,e,f,l,k]};a.prototype.diff_cleanupSemantic=function(a){for(var b=
!1,d=[],e=0,f=null,g=0,h=0,k=0,l=0,m=0;g<a.length;)0==a[g][0]?(d[e++]=g,h=l,k=m,m=l=0,f=a[g][1]):(1==a[g][0]?l+=a[g][1].length:m+=a[g][1].length,f&&f.length<=Math.max(h,k)&&f.length<=Math.max(l,m)&&(a.splice(d[e-1],0,[-1,f]),a[d[e-1]+1][0]=1,e--,e--,g=0<e?d[e-1]:-1,m=l=k=h=0,f=null,b=!0)),g++;b&&this.diff_cleanupMerge(a);this.diff_cleanupSemanticLossless(a);for(g=1;g<a.length;){if(-1==a[g-1][0]&&1==a[g][0]){b=a[g-1][1];d=a[g][1];e=this.diff_commonOverlap_(b,d);f=this.diff_commonOverlap_(d,b);if(e>=
f){if(e>=b.length/2||e>=d.length/2)a.splice(g,0,[0,d.substring(0,e)]),a[g-1][1]=b.substring(0,b.length-e),a[g+1][1]=d.substring(e),g++}else if(f>=b.length/2||f>=d.length/2)a.splice(g,0,[0,b.substring(0,f)]),a[g-1][0]=1,a[g-1][1]=d.substring(0,d.length-f),a[g+1][0]=-1,a[g+1][1]=b.substring(f),g++;g++}g++}};a.prototype.diff_cleanupSemanticLossless=function(c){function b(b,c){if(!b||!c)return 6;var d=b.charAt(b.length-1),e=c.charAt(0),f=d.match(a.nonAlphaNumericRegex_),g=e.match(a.nonAlphaNumericRegex_),
h=f&&d.match(a.whitespaceRegex_),k=g&&e.match(a.whitespaceRegex_),d=h&&d.match(a.linebreakRegex_),e=k&&e.match(a.linebreakRegex_),l=d&&b.match(a.blanklineEndRegex_),m=e&&c.match(a.blanklineStartRegex_);return l||m?5:d||e?4:f&&!h&&k?3:h||k?2:f||g?1:0}for(var d=1;d<c.length-1;){if(0==c[d-1][0]&&0==c[d+1][0]){var e=c[d-1][1],f=c[d][1],g=c[d+1][1],h=this.diff_commonSuffix(e,f);if(h)var k=f.substring(f.length-h),e=e.substring(0,e.length-h),f=k+f.substring(0,f.length-h),g=k+g;for(var h=e,k=f,l=g,m=b(e,
f)+b(f,g);f.charAt(0)===g.charAt(0);){var e=e+f.charAt(0),f=f.substring(1)+g.charAt(0),g=g.substring(1),v=b(e,f)+b(f,g);v>=m&&(m=v,h=e,k=f,l=g)}c[d-1][1]!=h&&(h?c[d-1][1]=h:(c.splice(d-1,1),d--),c[d][1]=k,l?c[d+1][1]=l:(c.splice(d+1,1),d--))}d++}};a.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/;a.whitespaceRegex_=/\s/;a.linebreakRegex_=/[\r\n]/;a.blanklineEndRegex_=/\n\r?\n$/;a.blanklineStartRegex_=/^\r?\n\r?\n/;a.prototype.diff_cleanupEfficiency=function(a){for(var b=!1,d=[],e=0,f=null,g=0,h=!1,k=!1,l=!1,
m=!1;g<a.length;){if(0==a[g][0])a[g][1].length<this.Diff_EditCost&&(l||m)?(d[e++]=g,h=l,k=m,f=a[g][1]):(e=0,f=null),l=m=!1;else if(-1==a[g][0]?m=!0:l=!0,f&&(h&&k&&l&&m||f.length<this.Diff_EditCost/2&&3==h+k+l+m))a.splice(d[e-1],0,[-1,f]),a[d[e-1]+1][0]=1,e--,f=null,h&&k?(l=m=!0,e=0):(e--,g=0<e?d[e-1]:-1,l=m=!1),b=!0;g++}b&&this.diff_cleanupMerge(a)};a.prototype.diff_cleanupMerge=function(a){a.push([0,""]);for(var b=0,d=0,e=0,f="",g="",h;b<a.length;)switch(a[b][0]){case 1:e++;g+=a[b][1];b++;break;
case -1:d++;f+=a[b][1];b++;break;case 0:1<d+e?(0!==d&&0!==e&&(h=this.diff_commonPrefix(g,f),0!==h&&(0<b-d-e&&0==a[b-d-e-1][0]?a[b-d-e-1][1]+=g.substring(0,h):(a.splice(0,0,[0,g.substring(0,h)]),b++),g=g.substring(h),f=f.substring(h)),h=this.diff_commonSuffix(g,f),0!==h&&(a[b][1]=g.substring(g.length-h)+a[b][1],g=g.substring(0,g.length-h),f=f.substring(0,f.length-h))),0===d?a.splice(b-e,d+e,[1,g]):0===e?a.splice(b-d,d+e,[-1,f]):a.splice(b-d-e,d+e,[-1,f],[1,g]),b=b-d-e+(d?1:0)+(e?1:0)+1):0!==b&&0==
a[b-1][0]?(a[b-1][1]+=a[b][1],a.splice(b,1)):b++,d=e=0,g=f=""}""===a[a.length-1][1]&&a.pop();d=!1;for(b=1;b<a.length-1;)0==a[b-1][0]&&0==a[b+1][0]&&(a[b][1].substring(a[b][1].length-a[b-1][1].length)==a[b-1][1]?(a[b][1]=a[b-1][1]+a[b][1].substring(0,a[b][1].length-a[b-1][1].length),a[b+1][1]=a[b-1][1]+a[b+1][1],a.splice(b-1,1),d=!0):a[b][1].substring(0,a[b+1][1].length)==a[b+1][1]&&(a[b-1][1]+=a[b+1][1],a[b][1]=a[b][1].substring(a[b+1][1].length)+a[b+1][1],a.splice(b+1,1),d=!0)),b++;d&&this.diff_cleanupMerge(a)};
a.prototype.diff_xIndex=function(a,b){var d=0,e=0,f=0,g=0,h;for(h=0;h<a.length;h++){1!==a[h][0]&&(d+=a[h][1].length);-1!==a[h][0]&&(e+=a[h][1].length);if(d>b)break;f=d;g=e}return a.length!=h&&-1===a[h][0]?g:g+(b-f)};a.prototype.diff_prettyHtml=function(a){for(var b=[],d=/&/g,e=/</g,f=/>/g,g=/\n/g,h=0;h<a.length;h++){var k=a[h][0],l=a[h][1],l=l.replace(d,"&amp;").replace(e,"&lt;").replace(f,"&gt;").replace(g,"&para;<br>");switch(k){case 1:b[h]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case -1:b[h]=
'<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:b[h]="<span>"+l+"</span>"}}return b.join("")};a.prototype.diff_text1=function(a){for(var b=[],d=0;d<a.length;d++)1!==a[d][0]&&(b[d]=a[d][1]);return b.join("")};a.prototype.diff_text2=function(a){for(var b=[],d=0;d<a.length;d++)-1!==a[d][0]&&(b[d]=a[d][1]);return b.join("")};a.prototype.diff_levenshtein=function(a){for(var b=0,d=0,e=0,f=0;f<a.length;f++){var g=a[f][1];switch(a[f][0]){case 1:d+=g.length;break;case -1:e+=g.length;break;case 0:b+=
Math.max(d,e),e=d=0}}return b+Math.max(d,e)};a.prototype.diff_toDelta=function(a){for(var b=[],d=0;d<a.length;d++)switch(a[d][0]){case 1:b[d]="+"+encodeURI(a[d][1]);break;case -1:b[d]="-"+a[d][1].length;break;case 0:b[d]="="+a[d][1].length}return b.join("\t").replace(/%20/g," ")};a.prototype.diff_fromDelta=function(a,b){for(var d=[],e=0,f=0,g=b.split(/\t/g),h=0;h<g.length;h++){var k=g[h].substring(1);switch(g[h].charAt(0)){case "+":try{d[e++]=[1,decodeURI(k)]}catch(m){throw Error("Illegal escape in diff_fromDelta: "+
k);}break;case "-":case "=":var l=parseInt(k,10);if(isNaN(l)||0>l)throw Error("Invalid number in diff_fromDelta: "+k);k=a.substring(f,f+=l);"="==g[h].charAt(0)?d[e++]=[0,k]:d[e++]=[-1,k];break;default:if(g[h])throw Error("Invalid diff operation in diff_fromDelta: "+g[h]);}}if(f!=a.length)throw Error("Delta length ("+f+") does not equal source text length ("+a.length+").");return d};a.prototype.match_main=function(a,b,d){if(null==a||null==b||null==d)throw Error("Null input. (match_main)");d=Math.max(0,
Math.min(d,a.length));return a==b?0:a.length?a.substring(d,d+b.length)==b?d:this.match_bitap_(a,b,d):-1};a.prototype.match_bitap_=function(a,b,d){function e(a,c){var e=a/b.length,f=Math.abs(d-c);return g.Match_Distance?e+f/g.Match_Distance:f?1:e}if(b.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var f=this.match_alphabet_(b),g=this,h=this.Match_Threshold,k=a.indexOf(b,d);-1!=k&&(h=Math.min(e(0,k),h),k=a.lastIndexOf(b,d+b.length),-1!=k&&(h=Math.min(e(0,k),h)));for(var l=
1<<b.length-1,k=-1,m,v,t=b.length+a.length,H,F=0;F<b.length;F++){m=0;for(v=t;m<v;)e(F,d+v)<=h?m=v:t=v,v=Math.floor((t-m)/2+m);t=v;m=Math.max(1,d-v+1);var y=Math.min(d+v,a.length)+b.length;v=Array(y+2);for(v[y+1]=(1<<F)-1;y>=m;y--){var r=f[a.charAt(y-1)];v[y]=0===F?(v[y+1]<<1|1)&r:(v[y+1]<<1|1)&r|(H[y+1]|H[y])<<1|1|H[y+1];if(v[y]&l&&(r=e(F,y-1),r<=h))if(h=r,k=y-1,k>d)m=Math.max(1,2*d-k);else break}if(e(F+1,d)>h)break;H=v}return k};a.prototype.match_alphabet_=function(a){for(var b={},d=0;d<a.length;d++)b[a.charAt(d)]=
0;for(d=0;d<a.length;d++)b[a.charAt(d)]|=1<<a.length-d-1;return b};a.prototype.patch_addContext_=function(a,b){if(0!=b.length){for(var d=b.substring(a.start2,a.start2+a.length1),e=0;b.indexOf(d)!=b.lastIndexOf(d)&&d.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)e+=this.Patch_Margin,d=b.substring(a.start2-e,a.start2+a.length1+e);e+=this.Patch_Margin;(d=b.substring(a.start2-e,a.start2))&&a.diffs.unshift([0,d]);(e=b.substring(a.start2+a.length1,a.start2+a.length1+e))&&a.diffs.push([0,
e]);a.start1-=d.length;a.start2-=d.length;a.length1+=d.length+e.length;a.length2+=d.length+e.length}};a.prototype.patch_make=function(c,b,d){var e;if("string"==typeof c&&"string"==typeof b&&"undefined"==typeof d)e=c,b=this.diff_main(e,b,!0),2<b.length&&(this.diff_cleanupSemantic(b),this.diff_cleanupEfficiency(b));else if(c&&"object"==typeof c&&"undefined"==typeof b&&"undefined"==typeof d)b=c,e=this.diff_text1(b);else if("string"==typeof c&&b&&"object"==typeof b&&"undefined"==typeof d)e=c;else if("string"==
typeof c&&"string"==typeof b&&d&&"object"==typeof d)e=c,b=d;else throw Error("Unknown call format to patch_make.");if(0===b.length)return[];d=[];c=new a.patch_obj;for(var f=0,g=0,h=0,k=e,l=0;l<b.length;l++){var m=b[l][0],v=b[l][1];!f&&0!==m&&(c.start1=g,c.start2=h);switch(m){case 1:c.diffs[f++]=b[l];c.length2+=v.length;e=e.substring(0,h)+v+e.substring(h);break;case -1:c.length1+=v.length;c.diffs[f++]=b[l];e=e.substring(0,h)+e.substring(h+v.length);break;case 0:v.length<=2*this.Patch_Margin&&f&&b.length!=
l+1?(c.diffs[f++]=b[l],c.length1+=v.length,c.length2+=v.length):v.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(c,k),d.push(c),c=new a.patch_obj,f=0,k=e,g=h)}1!==m&&(g+=v.length);-1!==m&&(h+=v.length)}f&&(this.patch_addContext_(c,k),d.push(c));return d};a.prototype.patch_deepCopy=function(c){for(var b=[],d=0;d<c.length;d++){var e=c[d],f=new a.patch_obj;f.diffs=[];for(var g=0;g<e.diffs.length;g++)f.diffs[g]=e.diffs[g].slice();f.start1=e.start1;f.start2=e.start2;f.length1=e.length1;f.length2=
e.length2;b[d]=f}return b};a.prototype.patch_apply=function(a,b){if(0==a.length)return[b,[]];a=this.patch_deepCopy(a);var d=this.patch_addPadding(a);b=d+b+d;this.patch_splitMax(a);for(var e=0,f=[],g=0;g<a.length;g++){var h=a[g].start2+e,k=this.diff_text1(a[g].diffs),l,m=-1;if(k.length>this.Match_MaxBits){if(l=this.match_main(b,k.substring(0,this.Match_MaxBits),h),-1!=l&&(m=this.match_main(b,k.substring(k.length-this.Match_MaxBits),h+k.length-this.Match_MaxBits),-1==m||l>=m))l=-1}else l=this.match_main(b,
k,h);if(-1==l)f[g]=!1,e-=a[g].length2-a[g].length1;else if(f[g]=!0,e=l-h,h=-1==m?b.substring(l,l+k.length):b.substring(l,m+this.Match_MaxBits),k==h)b=b.substring(0,l)+this.diff_text2(a[g].diffs)+b.substring(l+k.length);else if(h=this.diff_main(k,h,!1),k.length>this.Match_MaxBits&&this.diff_levenshtein(h)/k.length>this.Patch_DeleteThreshold)f[g]=!1;else{this.diff_cleanupSemanticLossless(h);for(var k=0,v,m=0;m<a[g].diffs.length;m++){var t=a[g].diffs[m];0!==t[0]&&(v=this.diff_xIndex(h,k));1===t[0]?b=
b.substring(0,l+v)+t[1]+b.substring(l+v):-1===t[0]&&(b=b.substring(0,l+v)+b.substring(l+this.diff_xIndex(h,k+t[1].length)));-1!==t[0]&&(k+=t[1].length)}}}b=b.substring(d.length,b.length-d.length);return[b,f]};a.prototype.patch_addPadding=function(a){for(var b=this.Patch_Margin,d="",e=1;e<=b;e++)d+=String.fromCharCode(e);for(e=0;e<a.length;e++)a[e].start1+=b,a[e].start2+=b;var e=a[0],f=e.diffs;if(0==f.length||0!=f[0][0])f.unshift([0,d]),e.start1-=b,e.start2-=b,e.length1+=b,e.length2+=b;else if(b>f[0][1].length){var g=
b-f[0][1].length;f[0][1]=d.substring(f[0][1].length)+f[0][1];e.start1-=g;e.start2-=g;e.length1+=g;e.length2+=g}e=a[a.length-1];f=e.diffs;0==f.length||0!=f[f.length-1][0]?(f.push([0,d]),e.length1+=b,e.length2+=b):b>f[f.length-1][1].length&&(g=b-f[f.length-1][1].length,f[f.length-1][1]+=d.substring(0,g),e.length1+=g,e.length2+=g);return d};a.prototype.patch_splitMax=function(c){for(var b=this.Match_MaxBits,d=0;d<c.length;d++)if(!(c[d].length1<=b)){var e=c[d];c.splice(d--,1);for(var f=e.start1,g=e.start2,
h="";0!==e.diffs.length;){var k=new a.patch_obj,l=!0;k.start1=f-h.length;k.start2=g-h.length;for(""!==h&&(k.length1=k.length2=h.length,k.diffs.push([0,h]));0!==e.diffs.length&&k.length1<b-this.Patch_Margin;){var h=e.diffs[0][0],m=e.diffs[0][1];1===h?(k.length2+=m.length,g+=m.length,k.diffs.push(e.diffs.shift()),l=!1):-1===h&&1==k.diffs.length&&0==k.diffs[0][0]&&m.length>2*b?(k.length1+=m.length,f+=m.length,l=!1,k.diffs.push([h,m]),e.diffs.shift()):(m=m.substring(0,b-k.length1-this.Patch_Margin),k.length1+=
m.length,f+=m.length,0===h?(k.length2+=m.length,g+=m.length):l=!1,k.diffs.push([h,m]),m==e.diffs[0][1]?e.diffs.shift():e.diffs[0][1]=e.diffs[0][1].substring(m.length))}h=this.diff_text2(k.diffs);h=h.substring(h.length-this.Patch_Margin);m=this.diff_text1(e.diffs).substring(0,this.Patch_Margin);""!==m&&(k.length1+=m.length,k.length2+=m.length,0!==k.diffs.length&&0===k.diffs[k.diffs.length-1][0]?k.diffs[k.diffs.length-1][1]+=m:k.diffs.push([0,m]));l||c.splice(++d,0,k)}}};a.prototype.patch_toText=function(a){for(var b=
[],d=0;d<a.length;d++)b[d]=a[d];return b.join("")};a.prototype.patch_fromText=function(c){var b=[];if(!c)return b;c=c.split("\n");for(var d=0,e=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;d<c.length;){var f=c[d].match(e);if(!f)throw Error("Invalid patch string: "+c[d]);var g=new a.patch_obj;b.push(g);g.start1=parseInt(f[1],10);""===f[2]?(g.start1--,g.length1=1):"0"==f[2]?g.length1=0:(g.start1--,g.length1=parseInt(f[2],10));g.start2=parseInt(f[3],10);""===f[4]?(g.start2--,g.length2=1):"0"==f[4]?g.length2=
0:(g.start2--,g.length2=parseInt(f[4],10));for(d++;d<c.length;){f=c[d].charAt(0);try{var h=decodeURI(c[d].substring(1))}catch(k){throw Error("Illegal escape in patch_fromText: "+h);}if("-"==f)g.diffs.push([-1,h]);else if("+"==f)g.diffs.push([1,h]);else if(" "==f)g.diffs.push([0,h]);else if("@"==f)break;else if(""!==f)throw Error('Invalid patch mode "'+f+'" in: '+h);d++}}return b};a.patch_obj=function(){this.diffs=[];this.start2=this.start1=null;this.length2=this.length1=0};a.patch_obj.prototype.toString=
function(){var a,b;a=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1;b=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;a=["@@ -"+a+" +"+b+" @@\n"];var d;for(b=0;b<this.diffs.length;b++){switch(this.diffs[b][0]){case 1:d="+";break;case -1:d="-";break;case 0:d=" "}a[b+1]=d+encodeURI(this.diffs[b][1])+"\n"}return a.join("").replace(/%20/g," ")};this.diff_match_patch=a;this.DIFF_DELETE=-1;this.DIFF_INSERT=1;
this.DIFF_EQUAL=0})();function diff_match_patch(){this.Diff_Timeout=1;this.Diff_EditCost=4;this.Match_Threshold=.5;this.Match_Distance=1E3;this.Patch_DeleteThreshold=.5;this.Patch_Margin=4;this.Match_MaxBits=32}var DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;
diff_match_patch.prototype.diff_main=function(a,c,b,d){"undefined"==typeof d&&(d=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1E3*this.Diff_Timeout);if(null==a||null==c)throw Error("Null input. (diff_main)");if(a==c)return a?[[DIFF_EQUAL,a]]:[];"undefined"==typeof b&&(b=!0);var e=b,f=this.diff_commonPrefix(a,c);b=a.substring(0,f);a=a.substring(f);c=c.substring(f);var f=this.diff_commonSuffix(a,c),g=a.substring(a.length-f);a=a.substring(0,a.length-f);c=c.substring(0,c.length-f);a=this.diff_compute_(a,
c,e,d);b&&a.unshift([DIFF_EQUAL,b]);g&&a.push([DIFF_EQUAL,g]);this.diff_cleanupMerge(a);return a};
diff_match_patch.prototype.diff_compute_=function(a,c,b,d){if(!a)return[[DIFF_INSERT,c]];if(!c)return[[DIFF_DELETE,a]];var e=a.length>c.length?a:c,f=a.length>c.length?c:a,g=e.indexOf(f);return-1!=g?(b=[[DIFF_INSERT,e.substring(0,g)],[DIFF_EQUAL,f],[DIFF_INSERT,e.substring(g+f.length)]],a.length>c.length&&(b[0][0]=b[2][0]=DIFF_DELETE),b):1==f.length?[[DIFF_DELETE,a],[DIFF_INSERT,c]]:(e=this.diff_halfMatch_(a,c))?(c=e[1],f=e[3],a=e[4],e=this.diff_main(e[0],e[2],b,d),b=this.diff_main(c,f,b,d),e.concat([[DIFF_EQUAL,
a]],b)):b&&100<a.length&&100<c.length?this.diff_lineMode_(a,c,d):this.diff_bisect_(a,c,d)};
diff_match_patch.prototype.diff_lineMode_=function(a,c,b){var d=this.diff_linesToChars_(a,c);a=d.chars1;c=d.chars2;d=d.lineArray;a=this.diff_main(a,c,!1,b);this.diff_charsToLines_(a,d);this.diff_cleanupSemantic(a);a.push([DIFF_EQUAL,""]);for(var e=d=c=0,f="",g="";c<a.length;){switch(a[c][0]){case DIFF_INSERT:e++;g+=a[c][1];break;case DIFF_DELETE:d++;f+=a[c][1];break;case DIFF_EQUAL:if(1<=d&&1<=e){a.splice(c-d-e,d+e);c=c-d-e;d=this.diff_main(f,g,!1,b);for(e=d.length-1;0<=e;e--)a.splice(c,0,d[e]);c+=
d.length}d=e=0;g=f=""}c++}a.pop();return a};
diff_match_patch.prototype.diff_bisect_=function(a,c,b){for(var d=a.length,e=c.length,f=Math.ceil((d+e)/2),g=2*f,h=Array(g),k=Array(g),l=0;l<g;l++)h[l]=-1,k[l]=-1;h[f+1]=0;k[f+1]=0;for(var l=d-e,m=0!=l%2,v=0,t=0,H=0,F=0,y=0;y<f&&!((new Date).getTime()>b);y++){for(var r=-y+v;r<=y-t;r+=2){var u=f+r,w;w=r==-y||r!=y&&h[u-1]<h[u+1]?h[u+1]:h[u-1]+1;for(var x=w-r;w<d&&x<e&&a.charAt(w)==c.charAt(x);)w++,x++;h[u]=w;if(w>d)t+=2;else if(x>e)v+=2;else if(m&&(u=f+l-r,0<=u&&u<g&&-1!=k[u])){var B=d-k[u];if(w>=B)return this.diff_bisectSplit_(a,
c,w,x,b)}}for(r=-y+H;r<=y-F;r+=2){u=f+r;B=r==-y||r!=y&&k[u-1]<k[u+1]?k[u+1]:k[u-1]+1;for(w=B-r;B<d&&w<e&&a.charAt(d-B-1)==c.charAt(e-w-1);)B++,w++;k[u]=B;if(B>d)F+=2;else if(w>e)H+=2;else if(!m&&(u=f+l-r,0<=u&&u<g&&-1!=h[u]&&(w=h[u],x=f+w-u,B=d-B,w>=B)))return this.diff_bisectSplit_(a,c,w,x,b)}}return[[DIFF_DELETE,a],[DIFF_INSERT,c]]};
diff_match_patch.prototype.diff_bisectSplit_=function(a,c,b,d,e){var f=a.substring(0,b),g=c.substring(0,d);a=a.substring(b);c=c.substring(d);f=this.diff_main(f,g,!1,e);e=this.diff_main(a,c,!1,e);return f.concat(e)};
diff_match_patch.prototype.diff_linesToChars_=function(a,c){function b(a){for(var b="",c=0,f=-1,g=d.length;f<a.length-1;){f=a.indexOf("\n",c);-1==f&&(f=a.length-1);var t=a.substring(c,f+1),c=f+1;(e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t])?b+=String.fromCharCode(e[t]):(b+=String.fromCharCode(g),e[t]=g,d[g++]=t)}return b}var d=[],e={};d[0]="";var f=b(a),g=b(c);return{chars1:f,chars2:g,lineArray:d}};
diff_match_patch.prototype.diff_charsToLines_=function(a,c){for(var b=0;b<a.length;b++){for(var d=a[b][1],e=[],f=0;f<d.length;f++)e[f]=c[d.charCodeAt(f)];a[b][1]=e.join("")}};diff_match_patch.prototype.diff_commonPrefix=function(a,c){if(!a||!c||a.charAt(0)!=c.charAt(0))return 0;for(var b=0,d=Math.min(a.length,c.length),e=d,f=0;b<e;)a.substring(f,e)==c.substring(f,e)?f=b=e:d=e,e=Math.floor((d-b)/2+b);return e};
diff_match_patch.prototype.diff_commonSuffix=function(a,c){if(!a||!c||a.charAt(a.length-1)!=c.charAt(c.length-1))return 0;for(var b=0,d=Math.min(a.length,c.length),e=d,f=0;b<e;)a.substring(a.length-e,a.length-f)==c.substring(c.length-e,c.length-f)?f=b=e:d=e,e=Math.floor((d-b)/2+b);return e};
diff_match_patch.prototype.diff_commonOverlap_=function(a,c){var b=a.length,d=c.length;if(0==b||0==d)return 0;b>d?a=a.substring(b-d):b<d&&(c=c.substring(0,b));b=Math.min(b,d);if(a==c)return b;for(var d=0,e=1;;){var f=a.substring(b-e),f=c.indexOf(f);if(-1==f)return d;e+=f;if(0==f||a.substring(b-e)==c.substring(0,e))d=e,e++}};
diff_match_patch.prototype.diff_halfMatch_=function(a,c){function b(a,b,c){for(var d=a.substring(c,c+Math.floor(a.length/4)),e=-1,g="",h,k,u,w;-1!=(e=b.indexOf(d,e+1));){var x=f.diff_commonPrefix(a.substring(c),b.substring(e)),B=f.diff_commonSuffix(a.substring(0,c),b.substring(0,e));g.length<B+x&&(g=b.substring(e-B,e)+b.substring(e,e+x),h=a.substring(0,c-B),k=a.substring(c+x),u=b.substring(0,e-B),w=b.substring(e+x))}return 2*g.length>=a.length?[h,k,u,w,g]:null}if(0>=this.Diff_Timeout)return null;
var d=a.length>c.length?a:c,e=a.length>c.length?c:a;if(4>d.length||2*e.length<d.length)return null;var f=this,g=b(d,e,Math.ceil(d.length/4)),d=b(d,e,Math.ceil(d.length/2));if(g||d)g=d?g?g[4].length>d[4].length?g:d:d:g;else return null;var h,k;a.length>c.length?(d=g[0],e=g[1],h=g[2],k=g[3]):(h=g[0],k=g[1],d=g[2],e=g[3]);return[d,e,h,k,g[4]]};
diff_match_patch.prototype.diff_cleanupSemantic=function(a){for(var c=!1,b=[],d=0,e=null,f=0,g=0,h=0,k=0,l=0;f<a.length;)a[f][0]==DIFF_EQUAL?(b[d++]=f,g=k,h=l,l=k=0,e=a[f][1]):(a[f][0]==DIFF_INSERT?k+=a[f][1].length:l+=a[f][1].length,e&&e.length<=Math.max(g,h)&&e.length<=Math.max(k,l)&&(a.splice(b[d-1],0,[DIFF_DELETE,e]),a[b[d-1]+1][0]=DIFF_INSERT,d--,d--,f=0<d?b[d-1]:-1,l=k=h=g=0,e=null,c=!0)),f++;c&&this.diff_cleanupMerge(a);this.diff_cleanupSemanticLossless(a);for(f=1;f<a.length;){if(a[f-1][0]==
DIFF_DELETE&&a[f][0]==DIFF_INSERT){c=a[f-1][1];b=a[f][1];d=this.diff_commonOverlap_(c,b);e=this.diff_commonOverlap_(b,c);if(d>=e){if(d>=c.length/2||d>=b.length/2)a.splice(f,0,[DIFF_EQUAL,b.substring(0,d)]),a[f-1][1]=c.substring(0,c.length-d),a[f+1][1]=b.substring(d),f++}else if(e>=c.length/2||e>=b.length/2)a.splice(f,0,[DIFF_EQUAL,c.substring(0,e)]),a[f-1][0]=DIFF_INSERT,a[f-1][1]=b.substring(0,b.length-e),a[f+1][0]=DIFF_DELETE,a[f+1][1]=c.substring(e),f++;f++}f++}};
diff_match_patch.prototype.diff_cleanupSemanticLossless=function(a){function c(a,b){if(!a||!b)return 6;var c=a.charAt(a.length-1),d=b.charAt(0),e=c.match(diff_match_patch.nonAlphaNumericRegex_),f=d.match(diff_match_patch.nonAlphaNumericRegex_),g=e&&c.match(diff_match_patch.whitespaceRegex_),h=f&&d.match(diff_match_patch.whitespaceRegex_),c=g&&c.match(diff_match_patch.linebreakRegex_),d=h&&d.match(diff_match_patch.linebreakRegex_),k=c&&a.match(diff_match_patch.blanklineEndRegex_),l=d&&b.match(diff_match_patch.blanklineStartRegex_);
return k||l?5:c||d?4:e&&!g&&h?3:g||h?2:e||f?1:0}for(var b=1;b<a.length-1;){if(a[b-1][0]==DIFF_EQUAL&&a[b+1][0]==DIFF_EQUAL){var d=a[b-1][1],e=a[b][1],f=a[b+1][1],g=this.diff_commonSuffix(d,e);if(g)var h=e.substring(e.length-g),d=d.substring(0,d.length-g),e=h+e.substring(0,e.length-g),f=h+f;for(var g=d,h=e,k=f,l=c(d,e)+c(e,f);e.charAt(0)===f.charAt(0);){var d=d+e.charAt(0),e=e.substring(1)+f.charAt(0),f=f.substring(1),m=c(d,e)+c(e,f);m>=l&&(l=m,g=d,h=e,k=f)}a[b-1][1]!=g&&(g?a[b-1][1]=g:(a.splice(b-
1,1),b--),a[b][1]=h,k?a[b+1][1]=k:(a.splice(b+1,1),b--))}b++}};diff_match_patch.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/;diff_match_patch.whitespaceRegex_=/\s/;diff_match_patch.linebreakRegex_=/[\r\n]/;diff_match_patch.blanklineEndRegex_=/\n\r?\n$/;diff_match_patch.blanklineStartRegex_=/^\r?\n\r?\n/;
diff_match_patch.prototype.diff_cleanupEfficiency=function(a){for(var c=!1,b=[],d=0,e=null,f=0,g=!1,h=!1,k=!1,l=!1;f<a.length;)a[f][0]==DIFF_EQUAL?(a[f][1].length<this.Diff_EditCost&&(k||l)?(b[d++]=f,g=k,h=l,e=a[f][1]):(d=0,e=null),k=l=!1):(a[f][0]==DIFF_DELETE?l=!0:k=!0,e&&(g&&h&&k&&l||e.length<this.Diff_EditCost/2&&3==g+h+k+l)&&(a.splice(b[d-1],0,[DIFF_DELETE,e]),a[b[d-1]+1][0]=DIFF_INSERT,d--,e=null,g&&h?(k=l=!0,d=0):(d--,f=0<d?b[d-1]:-1,k=l=!1),c=!0)),f++;c&&this.diff_cleanupMerge(a)};
diff_match_patch.prototype.diff_cleanupMerge=function(a){a.push([DIFF_EQUAL,""]);for(var c=0,b=0,d=0,e="",f="",g;c<a.length;)switch(a[c][0]){case DIFF_INSERT:d++;f+=a[c][1];c++;break;case DIFF_DELETE:b++;e+=a[c][1];c++;break;case DIFF_EQUAL:1<b+d?(0!==b&&0!==d&&(g=this.diff_commonPrefix(f,e),0!==g&&(0<c-b-d&&a[c-b-d-1][0]==DIFF_EQUAL?a[c-b-d-1][1]+=f.substring(0,g):(a.splice(0,0,[DIFF_EQUAL,f.substring(0,g)]),c++),f=f.substring(g),e=e.substring(g)),g=this.diff_commonSuffix(f,e),0!==g&&(a[c][1]=f.substring(f.length-
g)+a[c][1],f=f.substring(0,f.length-g),e=e.substring(0,e.length-g))),0===b?a.splice(c-d,b+d,[DIFF_INSERT,f]):0===d?a.splice(c-b,b+d,[DIFF_DELETE,e]):a.splice(c-b-d,b+d,[DIFF_DELETE,e],[DIFF_INSERT,f]),c=c-b-d+(b?1:0)+(d?1:0)+1):0!==c&&a[c-1][0]==DIFF_EQUAL?(a[c-1][1]+=a[c][1],a.splice(c,1)):c++,b=d=0,f=e=""}""===a[a.length-1][1]&&a.pop();b=!1;for(c=1;c<a.length-1;)a[c-1][0]==DIFF_EQUAL&&a[c+1][0]==DIFF_EQUAL&&(a[c][1].substring(a[c][1].length-a[c-1][1].length)==a[c-1][1]?(a[c][1]=a[c-1][1]+a[c][1].substring(0,
a[c][1].length-a[c-1][1].length),a[c+1][1]=a[c-1][1]+a[c+1][1],a.splice(c-1,1),b=!0):a[c][1].substring(0,a[c+1][1].length)==a[c+1][1]&&(a[c-1][1]+=a[c+1][1],a[c][1]=a[c][1].substring(a[c+1][1].length)+a[c+1][1],a.splice(c+1,1),b=!0)),c++;b&&this.diff_cleanupMerge(a)};
diff_match_patch.prototype.diff_xIndex=function(a,c){var b=0,d=0,e=0,f=0,g;for(g=0;g<a.length;g++){a[g][0]!==DIFF_INSERT&&(b+=a[g][1].length);a[g][0]!==DIFF_DELETE&&(d+=a[g][1].length);if(b>c)break;e=b;f=d}return a.length!=g&&a[g][0]===DIFF_DELETE?f:f+(c-e)};
diff_match_patch.prototype.diff_prettyHtml=function(a){for(var c=[],b=/&/g,d=/</g,e=/>/g,f=/\n/g,g=0;g<a.length;g++){var h=a[g][0],k=a[g][1].replace(b,"&amp;").replace(d,"&lt;").replace(e,"&gt;").replace(f,"&para;<br>");switch(h){case DIFF_INSERT:c[g]='<ins style="background:#e6ffe6;">'+k+"</ins>";break;case DIFF_DELETE:c[g]='<del style="background:#ffe6e6;">'+k+"</del>";break;case DIFF_EQUAL:c[g]="<span>"+k+"</span>"}}return c.join("")};
diff_match_patch.prototype.diff_text1=function(a){for(var c=[],b=0;b<a.length;b++)a[b][0]!==DIFF_INSERT&&(c[b]=a[b][1]);return c.join("")};diff_match_patch.prototype.diff_text2=function(a){for(var c=[],b=0;b<a.length;b++)a[b][0]!==DIFF_DELETE&&(c[b]=a[b][1]);return c.join("")};
diff_match_patch.prototype.diff_levenshtein=function(a){for(var c=0,b=0,d=0,e=0;e<a.length;e++){var f=a[e][1];switch(a[e][0]){case DIFF_INSERT:b+=f.length;break;case DIFF_DELETE:d+=f.length;break;case DIFF_EQUAL:c+=Math.max(b,d),d=b=0}}return c+=Math.max(b,d)};
diff_match_patch.prototype.diff_toDelta=function(a){for(var c=[],b=0;b<a.length;b++)switch(a[b][0]){case DIFF_INSERT:c[b]="+"+encodeURI(a[b][1]);break;case DIFF_DELETE:c[b]="-"+a[b][1].length;break;case DIFF_EQUAL:c[b]="="+a[b][1].length}return c.join("\t").replace(/%20/g," ")};
diff_match_patch.prototype.diff_fromDelta=function(a,c){for(var b=[],d=0,e=0,f=c.split(/\t/g),g=0;g<f.length;g++){var h=f[g].substring(1);switch(f[g].charAt(0)){case "+":try{b[d++]=[DIFF_INSERT,decodeURI(h)]}catch(l){throw Error("Illegal escape in diff_fromDelta: "+h);}break;case "-":case "=":var k=parseInt(h,10);if(isNaN(k)||0>k)throw Error("Invalid number in diff_fromDelta: "+h);h=a.substring(e,e+=k);"="==f[g].charAt(0)?b[d++]=[DIFF_EQUAL,h]:b[d++]=[DIFF_DELETE,h];break;default:if(f[g])throw Error("Invalid diff operation in diff_fromDelta: "+
f[g]);}}if(e!=a.length)throw Error("Delta length ("+e+") does not equal source text length ("+a.length+").");return b};diff_match_patch.prototype.match_main=function(a,c,b){if(null==a||null==c||null==b)throw Error("Null input. (match_main)");b=Math.max(0,Math.min(b,a.length));return a==c?0:a.length?a.substring(b,b+c.length)==c?b:this.match_bitap_(a,c,b):-1};
diff_match_patch.prototype.match_bitap_=function(a,c,b){function d(a,d){var e=a/c.length,g=Math.abs(b-d);return f.Match_Distance?e+g/f.Match_Distance:g?1:e}if(c.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var e=this.match_alphabet_(c),f=this,g=this.Match_Threshold,h=a.indexOf(c,b);-1!=h&&(g=Math.min(d(0,h),g),h=a.lastIndexOf(c,b+c.length),-1!=h&&(g=Math.min(d(0,h),g)));for(var k=1<<c.length-1,h=-1,l,m,v=c.length+a.length,t,H=0;H<c.length;H++){l=0;for(m=v;l<m;)d(H,b+
m)<=g?l=m:v=m,m=Math.floor((v-l)/2+l);v=m;l=Math.max(1,b-m+1);var F=Math.min(b+m,a.length)+c.length;m=Array(F+2);for(m[F+1]=(1<<H)-1;F>=l;F--){var y=e[a.charAt(F-1)];m[F]=0===H?(m[F+1]<<1|1)&y:(m[F+1]<<1|1)&y|(t[F+1]|t[F])<<1|1|t[F+1];if(m[F]&k&&(y=d(H,F-1),y<=g))if(g=y,h=F-1,h>b)l=Math.max(1,2*b-h);else break}if(d(H+1,b)>g)break;t=m}return h};
diff_match_patch.prototype.match_alphabet_=function(a){for(var c={},b=0;b<a.length;b++)c[a.charAt(b)]=0;for(b=0;b<a.length;b++)c[a.charAt(b)]|=1<<a.length-b-1;return c};
diff_match_patch.prototype.patch_addContext_=function(a,c){if(0!=c.length){for(var b=c.substring(a.start2,a.start2+a.length1),d=0;c.indexOf(b)!=c.lastIndexOf(b)&&b.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)d+=this.Patch_Margin,b=c.substring(a.start2-d,a.start2+a.length1+d);d+=this.Patch_Margin;(b=c.substring(a.start2-d,a.start2))&&a.diffs.unshift([DIFF_EQUAL,b]);(d=c.substring(a.start2+a.length1,a.start2+a.length1+d))&&a.diffs.push([DIFF_EQUAL,d]);a.start1-=b.length;a.start2-=
b.length;a.length1+=b.length+d.length;a.length2+=b.length+d.length}};
diff_match_patch.prototype.patch_make=function(a,c,b){var d;if("string"==typeof a&&"string"==typeof c&&"undefined"==typeof b)d=a,c=this.diff_main(d,c,!0),2<c.length&&(this.diff_cleanupSemantic(c),this.diff_cleanupEfficiency(c));else if(a&&"object"==typeof a&&"undefined"==typeof c&&"undefined"==typeof b)c=a,d=this.diff_text1(c);else if("string"==typeof a&&c&&"object"==typeof c&&"undefined"==typeof b)d=a;else if("string"==typeof a&&"string"==typeof c&&b&&"object"==typeof b)d=a,c=b;else throw Error("Unknown call format to patch_make.");
if(0===c.length)return[];b=[];a=new diff_match_patch.patch_obj;for(var e=0,f=0,g=0,h=d,k=0;k<c.length;k++){var l=c[k][0],m=c[k][1];e||l===DIFF_EQUAL||(a.start1=f,a.start2=g);switch(l){case DIFF_INSERT:a.diffs[e++]=c[k];a.length2+=m.length;d=d.substring(0,g)+m+d.substring(g);break;case DIFF_DELETE:a.length1+=m.length;a.diffs[e++]=c[k];d=d.substring(0,g)+d.substring(g+m.length);break;case DIFF_EQUAL:m.length<=2*this.Patch_Margin&&e&&c.length!=k+1?(a.diffs[e++]=c[k],a.length1+=m.length,a.length2+=m.length):
m.length>=2*this.Patch_Margin&&e&&(this.patch_addContext_(a,h),b.push(a),a=new diff_match_patch.patch_obj,e=0,h=d,f=g)}l!==DIFF_INSERT&&(f+=m.length);l!==DIFF_DELETE&&(g+=m.length)}e&&(this.patch_addContext_(a,h),b.push(a));return b};
diff_match_patch.prototype.patch_deepCopy=function(a){for(var c=[],b=0;b<a.length;b++){var d=a[b],e=new diff_match_patch.patch_obj;e.diffs=[];for(var f=0;f<d.diffs.length;f++)e.diffs[f]=d.diffs[f].slice();e.start1=d.start1;e.start2=d.start2;e.length1=d.length1;e.length2=d.length2;c[b]=e}return c};
diff_match_patch.prototype.patch_apply=function(a,c){if(0==a.length)return[c,[]];a=this.patch_deepCopy(a);var b=this.patch_addPadding(a);c=b+c+b;this.patch_splitMax(a);for(var d=0,e=[],f=0;f<a.length;f++){var g=a[f].start2+d,h=this.diff_text1(a[f].diffs),k,l=-1;if(h.length>this.Match_MaxBits){if(k=this.match_main(c,h.substring(0,this.Match_MaxBits),g),-1!=k&&(l=this.match_main(c,h.substring(h.length-this.Match_MaxBits),g+h.length-this.Match_MaxBits),-1==l||k>=l))k=-1}else k=this.match_main(c,h,g);
if(-1==k)e[f]=!1,d-=a[f].length2-a[f].length1;else if(e[f]=!0,d=k-g,g=-1==l?c.substring(k,k+h.length):c.substring(k,l+this.Match_MaxBits),h==g)c=c.substring(0,k)+this.diff_text2(a[f].diffs)+c.substring(k+h.length);else if(g=this.diff_main(h,g,!1),h.length>this.Match_MaxBits&&this.diff_levenshtein(g)/h.length>this.Patch_DeleteThreshold)e[f]=!1;else{this.diff_cleanupSemanticLossless(g);for(var h=0,m,l=0;l<a[f].diffs.length;l++){var v=a[f].diffs[l];v[0]!==DIFF_EQUAL&&(m=this.diff_xIndex(g,h));v[0]===
DIFF_INSERT?c=c.substring(0,k+m)+v[1]+c.substring(k+m):v[0]===DIFF_DELETE&&(c=c.substring(0,k+m)+c.substring(k+this.diff_xIndex(g,h+v[1].length)));v[0]!==DIFF_DELETE&&(h+=v[1].length)}}}c=c.substring(b.length,c.length-b.length);return[c,e]};
diff_match_patch.prototype.patch_addPadding=function(a){for(var c=this.Patch_Margin,b="",d=1;d<=c;d++)b+=String.fromCharCode(d);for(d=0;d<a.length;d++)a[d].start1+=c,a[d].start2+=c;var d=a[0],e=d.diffs;if(0==e.length||e[0][0]!=DIFF_EQUAL)e.unshift([DIFF_EQUAL,b]),d.start1-=c,d.start2-=c,d.length1+=c,d.length2+=c;else if(c>e[0][1].length){var f=c-e[0][1].length;e[0][1]=b.substring(e[0][1].length)+e[0][1];d.start1-=f;d.start2-=f;d.length1+=f;d.length2+=f}d=a[a.length-1];e=d.diffs;0==e.length||e[e.length-
1][0]!=DIFF_EQUAL?(e.push([DIFF_EQUAL,b]),d.length1+=c,d.length2+=c):c>e[e.length-1][1].length&&(f=c-e[e.length-1][1].length,e[e.length-1][1]+=b.substring(0,f),d.length1+=f,d.length2+=f);return b};
diff_match_patch.prototype.patch_splitMax=function(a){for(var c=this.Match_MaxBits,b=0;b<a.length;b++)if(!(a[b].length1<=c)){var d=a[b];a.splice(b--,1);for(var e=d.start1,f=d.start2,g="";0!==d.diffs.length;){var h=new diff_match_patch.patch_obj,k=!0;h.start1=e-g.length;h.start2=f-g.length;""!==g&&(h.length1=h.length2=g.length,h.diffs.push([DIFF_EQUAL,g]));for(;0!==d.diffs.length&&h.length1<c-this.Patch_Margin;){var g=d.diffs[0][0],l=d.diffs[0][1];g===DIFF_INSERT?(h.length2+=l.length,f+=l.length,h.diffs.push(d.diffs.shift()),
k=!1):g===DIFF_DELETE&&1==h.diffs.length&&h.diffs[0][0]==DIFF_EQUAL&&l.length>2*c?(h.length1+=l.length,e+=l.length,k=!1,h.diffs.push([g,l]),d.diffs.shift()):(l=l.substring(0,c-h.length1-this.Patch_Margin),h.length1+=l.length,e+=l.length,g===DIFF_EQUAL?(h.length2+=l.length,f+=l.length):k=!1,h.diffs.push([g,l]),l==d.diffs[0][1]?d.diffs.shift():d.diffs[0][1]=d.diffs[0][1].substring(l.length))}g=this.diff_text2(h.diffs);g=g.substring(g.length-this.Patch_Margin);l=this.diff_text1(d.diffs).substring(0,
this.Patch_Margin);""!==l&&(h.length1+=l.length,h.length2+=l.length,0!==h.diffs.length&&h.diffs[h.diffs.length-1][0]===DIFF_EQUAL?h.diffs[h.diffs.length-1][1]+=l:h.diffs.push([DIFF_EQUAL,l]));k||a.splice(++b,0,h)}}};diff_match_patch.prototype.patch_toText=function(a){for(var c=[],b=0;b<a.length;b++)c[b]=a[b];return c.join("")};
diff_match_patch.prototype.patch_fromText=function(a){var c=[];if(!a)return c;a=a.split("\n");for(var b=0,d=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;b<a.length;){var e=a[b].match(d);if(!e)throw Error("Invalid patch string: "+a[b]);var f=new diff_match_patch.patch_obj;c.push(f);f.start1=parseInt(e[1],10);""===e[2]?(f.start1--,f.length1=1):"0"==e[2]?f.length1=0:(f.start1--,f.length1=parseInt(e[2],10));f.start2=parseInt(e[3],10);""===e[4]?(f.start2--,f.length2=1):"0"==e[4]?f.length2=0:(f.start2--,f.length2=
parseInt(e[4],10));for(b++;b<a.length;){e=a[b].charAt(0);try{var g=decodeURI(a[b].substring(1))}catch(h){throw Error("Illegal escape in patch_fromText: "+g);}if("-"==e)f.diffs.push([DIFF_DELETE,g]);else if("+"==e)f.diffs.push([DIFF_INSERT,g]);else if(" "==e)f.diffs.push([DIFF_EQUAL,g]);else if("@"==e)break;else if(""!==e)throw Error('Invalid patch mode "'+e+'" in: '+g);b++}}return c};diff_match_patch.patch_obj=function(){this.diffs=[];this.start2=this.start1=null;this.length2=this.length1=0};
diff_match_patch.patch_obj.prototype.toString=function(){for(var a=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],c,b=0;b<this.diffs.length;b++){switch(this.diffs[b][0]){case DIFF_INSERT:c="+";break;case DIFF_DELETE:c="-";break;case DIFF_EQUAL:c=" "}a[b+1]=c+encodeURI(this.diffs[b][1])+"\n"}return a.join("").replace(/%20/g," ")};
this.diff_match_patch=diff_match_patch;this.DIFF_DELETE=DIFF_DELETE;this.DIFF_INSERT=DIFF_INSERT;this.DIFF_EQUAL=DIFF_EQUAL;
var saveAs=saveAs||function(a){if("undefined"===typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var c=a.document.createElementNS("http://www.w3.org/1999/xhtml","a"),b="download"in c,d=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),e=a.webkitRequestFileSystem,f=a.requestFileSystem||e||a.mozRequestFileSystem,g=function(b){(a.setImmediate||a.setTimeout)(function(){throw b;},0)},h=0,k=function(b){var c=function(){"string"===typeof b?(a.URL||a.webkitURL||a).revokeObjectURL(b):b.remove()};
a.chrome?c():setTimeout(c,500)},l=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"===typeof e)try{e.call(a,c||a)}catch(f){g(f)}}},m=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a},v=function(g,t,v){v||(g=m(g));var r=this;v=g.type;var u=!1,w,x,B=function(){l(r,["writestart","progress","write","writeend"])},I=function(){if(x&&d&&"undefined"!==typeof FileReader){var b=
new FileReader;b.onloadend=function(){var a=b.result;x.location.href="data:attachment/file"+a.slice(a.search(/[,;]/));r.readyState=r.DONE;B()};b.readAsDataURL(g);r.readyState=r.INIT}else{if(u||!w)w=(a.URL||a.webkitURL||a).createObjectURL(g);x?x.location.href=w:void 0==a.open(w,"_blank")&&d&&(a.location.href=w);r.readyState=r.DONE;B();k(w)}},C=function(a){return function(){if(r.readyState!==r.DONE)return a.apply(this,arguments)}},z={create:!0,exclusive:!1},D;r.readyState=r.INIT;t||(t="download");if(b)w=
(a.URL||a.webkitURL||a).createObjectURL(g),c.href=w,c.download=t,setTimeout(function(){var a=new MouseEvent("click");c.dispatchEvent(a);B();k(w);r.readyState=r.DONE});else{a.chrome&&v&&"application/octet-stream"!==v&&(D=g.slice||g.webkitSlice,g=D.call(g,0,g.size,"application/octet-stream"),u=!0);e&&"download"!==t&&(t+=".download");if("application/octet-stream"===v||e)x=a;f?(h+=g.size,f(a.TEMPORARY,h,C(function(a){a.root.getDirectory("saved",z,C(function(a){var b=function(){a.getFile(t,z,C(function(a){a.createWriter(C(function(b){b.onwriteend=
function(b){x.location.href=a.toURL();r.readyState=r.DONE;l(r,"writeend",b);k(a)};b.onerror=function(){var a=b.error;a.code!==a.ABORT_ERR&&I()};["writestart","progress","write","abort"].forEach(function(a){b["on"+a]=r["on"+a]});b.write(g);r.abort=function(){b.abort();r.readyState=r.DONE};r.readyState=r.WRITING}),I)}),I)};a.getFile(t,{create:!1},C(function(a){a.remove();b()}),C(function(a){a.code===a.NOT_FOUND_ERR?b():I()}))}),I)}),I)):I()}},t=v.prototype;if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)return function(a,
b,c){c||(a=m(a));return navigator.msSaveOrOpenBlob(a,b||"download")};t.abort=function(){this.readyState=this.DONE;l(this,"abort")};t.readyState=t.INIT=0;t.WRITING=1;t.DONE=2;t.error=t.onwritestart=t.onprogress=t.onwrite=t.onabort=t.onerror=t.onwriteend=null;return function(a,b,c){return new v(a,b,c)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);
"undefined"!==typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!==typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var c;"undefined"!=typeof window?c=window:"undefined"!=typeof global?c=global:"undefined"!=typeof self&&(c=self);c.JSZip=a()}}(function(){return function c(b,d,e){function f(h,l){if(!d[h]){if(!b[h]){var m="function"==typeof require&&require;if(!l&&m)return m(h,!0);if(g)return g(h,!0);throw Error("Cannot find module '"+h+"'");}m=d[h]={exports:{}};b[h][0].call(m.exports,
function(c){var d=b[h][1][c];return f(d?d:c)},m,m.exports,c,b,d,e)}return d[h].exports}for(var g="function"==typeof require&&require,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(c,b,d){d.encode=function(b){for(var c,d,h,k,l,m,v="",t=0;t<b.length;)c=b.charCodeAt(t++),d=b.charCodeAt(t++),h=b.charCodeAt(t++),k=c>>2,c=(3&c)<<4|d>>4,l=(15&d)<<2|h>>6,m=63&h,isNaN(d)?l=m=64:isNaN(h)&&(m=64),v=v+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m);return v};d.decode=function(b){var c,d,h,k,l,m="",v=0;for(b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");v<b.length;)c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(v++)),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(v++)),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(v++)),
l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(v++)),c=c<<2|d>>4,d=(15&d)<<4|k>>2,h=(3&k)<<6|l,m+=String.fromCharCode(c),64!=k&&(m+=String.fromCharCode(d)),64!=l&&(m+=String.fromCharCode(h));return m}},{}],2:[function(c,b){function d(){this.crc32=this.uncompressedSize=this.compressedSize=0;this.compressedContent=this.compressionMethod=null}d.prototype={getContent:function(){return null},getCompressedContent:function(){return null}};b.exports=d},{}],3:[function(c,
b,d){d.STORE={magic:"\x00\x00",compress:function(b){return b},uncompress:function(b){return b},compressInputType:null,uncompressInputType:null};d.DEFLATE=c("./flate")},{"./flate":8}],4:[function(c,b){var d=c("./utils"),e=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,
2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,
2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,
702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,
3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,
414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];b.exports=function(b,c){if("undefined"==typeof b||!b.length)return 0;
var h="string"!==d.getTypeOf(b);"undefined"==typeof c&&(c=0);var k=0,k=k=0;c^=-1;for(var l=0,m=b.length;m>l;l++)k=h?b[l]:b.charCodeAt(l),k=255&(c^k),k=e[k],c=c>>>8^k;return-1^c}},{"./utils":21}],5:[function(c,b){function d(){this.data=null;this.index=this.length=0}var e=c("./utils");d.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<b||0>b)throw Error("End of data reached (data length = "+this.length+", asked index = "+b+"). Corrupted zip ?");
},setIndex:function(b){this.checkIndex(b);this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(){},readInt:function(b){var c,d=0;this.checkOffset(b);for(c=this.index+b-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=b,d},readString:function(b){return e.transformTo("string",this.readData(b))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var b=this.readInt(4);return new Date((b>>25&127)+1980,(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,
(31&b)<<1)}};b.exports=d},{"./utils":21}],6:[function(c,b,d){d.base64=!1;d.binary=!1;d.dir=!1;d.createFolders=!1;d.date=null;d.compression=null;d.compressionOptions=null;d.comment=null;d.unixPermissions=null;d.dosPermissions=null},{}],7:[function(c,b,d){var e=c("./utils");d.string2binary=function(b){return e.string2binary(b)};d.string2Uint8Array=function(b){return e.transformTo("uint8array",b)};d.uint8Array2String=function(b){return e.transformTo("string",b)};d.string2Blob=function(b){b=e.transformTo("arraybuffer",
b);return e.arrayBuffer2Blob(b)};d.arrayBuffer2Blob=function(b){return e.arrayBuffer2Blob(b)};d.transformTo=function(b,c){return e.transformTo(b,c)};d.getTypeOf=function(b){return e.getTypeOf(b)};d.checkSupport=function(b){return e.checkSupport(b)};d.MAX_VALUE_16BITS=e.MAX_VALUE_16BITS;d.MAX_VALUE_32BITS=e.MAX_VALUE_32BITS;d.pretty=function(b){return e.pretty(b)};d.findCompression=function(b){return e.findCompression(b)};d.isRegExp=function(b){return e.isRegExp(b)}},{"./utils":21}],8:[function(c,
b,d){b="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array;var e=c("pako");d.uncompressInputType=b?"uint8array":"array";d.compressInputType=b?"uint8array":"array";d.magic="\b\x00";d.compress=function(b,c){return e.deflateRaw(b,{level:c.level||-1})};d.uncompress=function(b){return e.inflateRaw(b)}},{pako:24}],9:[function(c,b){function d(b,c){return this instanceof d?(this.files={},this.comment=null,this.root="",b&&this.load(b,c),void(this.clone=function(){var b=
new d,c;for(c in this)"function"!=typeof this[c]&&(b[c]=this[c]);return b})):new d(b,c)}var e=c("./base64");d.prototype=c("./object");d.prototype.load=c("./load");d.support=c("./support");d.defaults=c("./defaults");d.utils=c("./deprecatedPublicUtils");d.base64={encode:function(b){return e.encode(b)},decode:function(b){return e.decode(b)}};d.compressions=c("./compressions");b.exports=d},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],
10:[function(c,b){var d=c("./base64"),e=c("./zipEntries");b.exports=function(b,c){var h,k,l,m;c=c||{};c.base64&&(b=d.decode(b));k=new e(b,c);h=k.files;for(l=0;l<h.length;l++)m=h[l],this.file(m.fileName,m.decompressed,{binary:!0,optimizedBinaryString:!0,date:m.date,dir:m.dir,comment:m.fileComment.length?m.fileComment:null,unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions,createFolders:c.createFolders});return k.zipComment.length&&(this.comment=k.zipComment),this}},{"./base64":1,"./zipEntries":22}],
11:[function(c,b){(function(c){b.exports=function(b,f){return new c(b,f)};b.exports.test=function(b){return c.isBuffer(b)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],12:[function(c,b){function d(b){this.data=b;this.length=this.data.length;this.index=0}var e=c("./uint8ArrayReader");d.prototype=new e;d.prototype.readData=function(b){this.checkOffset(b);var c=this.data.slice(this.index,this.index+b);return this.index+=b,c};b.exports=d},{"./uint8ArrayReader":18}],13:[function(c,b){var d=
c("./support"),e=c("./utils"),f=c("./crc32"),g=c("./signature"),h=c("./defaults"),k=c("./base64"),l=c("./compressions"),m=c("./compressedObject"),v=c("./nodeBuffer"),t=c("./utf8"),H=c("./stringWriter"),F=c("./uint8ArrayWriter"),y=function(b){if(b._data instanceof m&&(b._data=b._data.getContent(),b.options.binary=!0,b.options.base64=!1,"uint8array"===e.getTypeOf(b._data))){var c=b._data;b._data=new Uint8Array(c.length);0!==c.length&&b._data.set(c,0)}return b._data},r=function(b){var c=y(b);return"string"===
e.getTypeOf(c)?!b.options.binary&&d.nodebuffer?v(c,"utf-8"):b.asBinary():c},u=function(b){var c=y(this);return null===c||"undefined"==typeof c?"":(this.options.base64&&(c=k.decode(c)),c=b&&this.options.binary?D.utf8decode(c):e.transformTo("string",c),b||this.options.binary||(c=e.transformTo("string",D.utf8encode(c))),c)},w=function(b,c,d){this.name=b;this.dir=d.dir;this.date=d.date;this.comment=d.comment;this.unixPermissions=d.unixPermissions;this.dosPermissions=d.dosPermissions;this._data=c;this.options=
d;this._initialMetadata={dir:d.dir,date:d.date}};w.prototype={asText:function(){return u.call(this,!0)},asBinary:function(){return u.call(this,!1)},asNodeBuffer:function(){var b=r(this);return e.transformTo("nodebuffer",b)},asUint8Array:function(){var b=r(this);return e.transformTo("uint8array",b)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var x=function(b,c){var d,e="";for(d=0;c>d;d++)e+=String.fromCharCode(255&b),b>>>=8;return e},B=function(){var b,c,d={};for(b=0;b<arguments.length;b++)for(c in arguments[b])arguments[b].hasOwnProperty(c)&&
"undefined"==typeof d[c]&&(d[c]=arguments[b][c]);return d},I=function(b,c,d){var f,g=e.getTypeOf(c),k=d;d=(k=k||{},!0!==k.base64||null!==k.binary&&void 0!==k.binary||(k.binary=!0),k=B(k,h),k.date=k.date||new Date,null!==k.compression&&(k.compression=k.compression.toUpperCase()),k);"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8));d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0);d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0);d.dir&&(b=C(b));if(k=d.createFolders)f=
b,"/"==f.slice(-1)&&(f=f.substring(0,f.length-1)),k=f.lastIndexOf("/"),k=f=0<k?f.substring(0,k):"";if(k&&z.call(this,f,!0),d.dir||null===c||"undefined"==typeof c)d.base64=!1,d.binary=!1,c=null;else if("string"===g)d.binary&&!d.base64&&!0!==d.optimizedBinaryString&&(c=e.string2binary(c));else{if(d.base64=!1,d.binary=!0,!(g||c instanceof m))throw Error("The data of '"+b+"' is in an unsupported format !");"arraybuffer"===g&&(c=e.transformTo("uint8array",c))}c=new w(b,c,d);return this.files[b]=c,c},C=
function(b){return"/"!=b.slice(-1)&&(b+="/"),b},z=function(b,c){return c="undefined"!=typeof c?c:!1,b=C(b),this.files[b]||I.call(this,b,null,{dir:!0,createFolders:c}),this.files[b]},D={load:function(){throw Error("Load method is not defined. Is the file jszip-load.js included ?");},filter:function(b){var c,d,e,f,g=[];for(c in this.files)this.files.hasOwnProperty(c)&&(e=this.files[c],f=new w(e.name,e._data,B(e.options)),d=c.slice(this.root.length,c.length),c.slice(0,this.root.length)===this.root&&
b(d,f)&&g.push(f));return g},file:function(b,c,d){if(1===arguments.length){if(e.isRegExp(b)){var f=b;return this.filter(function(b,c){return!c.dir&&f.test(b)})}return this.filter(function(c,d){return!d.dir&&c===b})[0]||null}return b=this.root+b,I.call(this,b,c,d),this},folder:function(b){if(!b)return this;if(e.isRegExp(b))return this.filter(function(c,d){return d.dir&&b.test(c)});var c=z.call(this,this.root+b),d=this.clone();return d.root=c.name,d},remove:function(b){b=this.root+b;var c=this.files[b];
if(c||("/"!=b.slice(-1)&&(b+="/"),c=this.files[b]),c&&!c.dir)delete this.files[b];else for(var c=this.filter(function(c,d){return d.name.slice(0,b.length)===b}),d=0;d<c.length;d++)delete this.files[c[d].name];return this},generate:function(b){b=B(b||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip"});e.checkSupport(b.type);"darwin"!==b.platform&&"freebsd"!==b.platform&&"linux"!==b.platform&&"sunos"!==b.platform||(b.platform=
"UNIX");"win32"===b.platform&&(b.platform="DOS");var c,d,h=[];d=c=0;var v=e.transformTo("string",this.utf8encode(b.comment||this.comment||"")),z;for(z in this.files)if(this.files.hasOwnProperty(z)){var y=this.files[z],q=y.options.compression||b.compression.toUpperCase(),p=l[q];if(!p)throw Error(q+" is not a valid compression method !");var q=y,D=y.options.compressionOptions||b.compressionOptions||{},u=void 0,w=new m,q=(q._data instanceof m?(w.uncompressedSize=q._data.uncompressedSize,w.crc32=q._data.crc32,
0===w.uncompressedSize||q.dir?(p=l.STORE,w.compressedContent="",w.crc32=0):q._data.compressionMethod===p.magic?w.compressedContent=q._data.getCompressedContent():(u=q._data.getContent(),w.compressedContent=p.compress(e.transformTo(p.compressInputType,u),D))):(u=r(q),(!u||0===u.length||q.dir)&&(p=l.STORE,u=""),w.uncompressedSize=u.length,w.crc32=f(u),w.compressedContent=p.compress(e.transformTo(p.compressInputType,u),D)),w.compressedSize=w.compressedContent.length,w.compressionMethod=p.magic,w),C=
y,y=q,p=c,J=b.platform,A=void 0,K=void 0,I=A=void 0,u=(y.compressedContent,e.transformTo("string",t.utf8encode(C.name))),T=C.comment||"",D=e.transformTo("string",t.utf8encode(T)),w=u.length!==C.name.length,X=D.length!==T.length,L=C.options,M=T="",V="",A=C._initialMetadata.dir!==C.dir?C.dir:L.dir,I=C._initialMetadata.date!==C.date?C.date:L.date,P=0,L=0;A&&(P|=16);"UNIX"===J?(L=798,J=P,C=P=C.unixPermissions,A=(P||(C=A?16893:33204),(65535&C)<<16),P=J|A):(L=20,P|=63&(C.dosPermissions||0));A=I.getHours();
A<<=6;A|=I.getMinutes();A<<=5;A|=I.getSeconds()/2;K=I.getFullYear()-1980;K<<=4;K|=I.getMonth()+1;K<<=5;K|=I.getDate();w&&(M=x(1,1)+x(f(u),4)+u,T+="up"+x(M.length,2)+M);X&&(V=x(1,1)+x(this.crc32(D),4)+D,T+="uc"+x(V.length,2)+V);M="";M+="\n\x00";M+=w||X?"\x00\b":"\x00\x00";M+=y.compressionMethod;M+=x(A,2);M+=x(K,2);M+=x(y.crc32,4);M+=x(y.compressedSize,4);M+=x(y.uncompressedSize,4);M+=x(u.length,2);M+=x(T.length,2);w=g.LOCAL_FILE_HEADER+M+u+T;p=g.CENTRAL_FILE_HEADER+x(L,2)+M+x(D.length,2)+"\x00\x00\x00\x00"+
x(P,4)+x(p,4)+u+T+D;y={fileRecord:w,dirRecord:p,compressedObject:y};c+=y.fileRecord.length+q.compressedSize;d+=y.dirRecord.length;h.push(y)}z="";z=g.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+x(h.length,2)+x(h.length,2)+x(d,4)+x(c,4)+x(v.length,2)+v;v=b.type.toLowerCase();c="uint8array"===v||"arraybuffer"===v||"blob"===v||"nodebuffer"===v?new F(c+d+z.length):new H(c+d+z.length);for(d=0;d<h.length;d++)c.append(h[d].fileRecord),c.append(h[d].compressedObject.compressedContent);for(d=0;d<h.length;d++)c.append(h[d].dirRecord);
c.append(z);h=c.finalize();switch(b.type.toLowerCase()){case "uint8array":case "arraybuffer":case "nodebuffer":return e.transformTo(b.type.toLowerCase(),h);case "blob":return e.arrayBuffer2Blob(e.transformTo("arraybuffer",h),b.mimeType);case "base64":return b.base64?k.encode(h):h;default:return h}},crc32:function(b,c){return f(b,c)},utf8encode:function(b){return e.transformTo("string",t.utf8encode(b))},utf8decode:function(b){return t.utf8decode(b)}};b.exports=D},{"./base64":1,"./compressedObject":2,
"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(c,b,d){d.LOCAL_FILE_HEADER="PK\u0003\u0004";d.CENTRAL_FILE_HEADER="PK\u0001\u0002";d.CENTRAL_DIRECTORY_END="PK\u0005\u0006";d.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\u0006\u0007";d.ZIP64_CENTRAL_DIRECTORY_END="PK\u0006\u0006";d.DATA_DESCRIPTOR="PK\u0007\b"},{}],15:[function(c,b){function d(b,c){this.data=b;c||(this.data=f.string2binary(this.data));
this.length=this.data.length;this.index=0}var e=c("./dataReader"),f=c("./utils");d.prototype=new e;d.prototype.byteAt=function(b){return this.data.charCodeAt(b)};d.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)};d.prototype.readData=function(b){this.checkOffset(b);var c=this.data.slice(this.index,this.index+b);return this.index+=b,c};b.exports=d},{"./dataReader":5,"./utils":21}],16:[function(c,b){var d=c("./utils"),e=function(){this.data=[]};e.prototype={append:function(b){b=
d.transformTo("string",b);this.data.push(b)},finalize:function(){return this.data.join("")}};b.exports=e},{"./utils":21}],17:[function(c,b,d){c="undefined"!=typeof Buffer?Buffer:void 0;if(d.base64=!0,d.array=!0,d.string=!0,d.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,d.nodebuffer="undefined"!=typeof c,d.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)d.blob=!1;else{c=new ArrayBuffer(0);try{d.blob=0===(new Blob([c],{type:"application/zip"})).size}catch(f){try{var e=
new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);e.append(c);d.blob=0===e.getBlob("application/zip").size}catch(g){d.blob=!1}}}},{}],18:[function(c,b){function d(b){b&&(this.data=b,this.length=this.data.length,this.index=0)}var e=c("./dataReader");d.prototype=new e;d.prototype.byteAt=function(b){return this.data[b]};d.prototype.lastIndexOfSignature=function(b){var c=b.charCodeAt(0),d=b.charCodeAt(1),e=b.charCodeAt(2);b=b.charCodeAt(3);for(var l=this.length-
4;0<=l;--l)if(this.data[l]===c&&this.data[l+1]===d&&this.data[l+2]===e&&this.data[l+3]===b)return l;return-1};d.prototype.readData=function(b){if(this.checkOffset(b),0===b)return new Uint8Array(0);var c=this.data.subarray(this.index,this.index+b);return this.index+=b,c};b.exports=d},{"./dataReader":5}],19:[function(c,b){var d=c("./utils"),e=function(b){this.data=new Uint8Array(b);this.index=0};e.prototype={append:function(b){0!==b.length&&(b=d.transformTo("uint8array",b),this.data.set(b,this.index),
this.index+=b.length)},finalize:function(){return this.data}};b.exports=e},{"./utils":21}],20:[function(c,b,d){var e=c("./utils"),f=c("./support"),g=c("./nodeBuffer"),h=Array(256);for(c=0;256>c;c++)h[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;h[254]=h[254]=1;var k=function(b){var c,d,f,g,k=b.length,y=Array(2*k);for(c=d=0;k>c;)if(f=b[c++],128>f)y[d++]=f;else if(g=h[f],4<g)y[d++]=65533,c+=g-1;else{for(f&=2===g?31:3===g?15:7;1<g&&k>c;)f=f<<6|63&b[c++],g--;1<g?y[d++]=65533:65536>f?y[d++]=f:(f-=
65536,y[d++]=55296|f>>10&1023,y[d++]=56320|1023&f)}return y.length!==d&&(y.subarray?y=y.subarray(0,d):y.length=d),e.applyFromCharCode(y)};d.utf8encode=function(b){if(f.nodebuffer)b=g(b,"utf-8");else{var c,d,e,h,k,y=b.length,r=0;for(h=0;y>h;h++)d=b.charCodeAt(h),55296===(64512&d)&&y>h+1&&(e=b.charCodeAt(h+1),56320===(64512&e)&&(d=65536+(d-55296<<10)+(e-56320),h++)),r+=128>d?1:2048>d?2:65536>d?3:4;c=f.uint8array?new Uint8Array(r):Array(r);for(h=k=0;r>k;h++)d=b.charCodeAt(h),55296===(64512&d)&&y>h+1&&
(e=b.charCodeAt(h+1),56320===(64512&e)&&(d=65536+(d-55296<<10)+(e-56320),h++)),128>d?c[k++]=d:2048>d?(c[k++]=192|d>>>6,c[k++]=128|63&d):65536>d?(c[k++]=224|d>>>12,c[k++]=128|d>>>6&63,c[k++]=128|63&d):(c[k++]=240|d>>>18,c[k++]=128|d>>>12&63,c[k++]=128|d>>>6&63,c[k++]=128|63&d);b=c}return b};d.utf8decode=function(b){if(f.nodebuffer)return e.transformTo("nodebuffer",b).toString("utf-8");b=e.transformTo(f.uint8array?"uint8array":"array",b);for(var c=[],d=0,g=b.length;g>d;){var H;H=Math.min(d+65536,g);
var F=void 0;H=H||b.length;H>b.length&&(H=b.length);for(F=H-1;0<=F&&128===(192&b[F]);)F--;H=0>F?H:0===F?H:F+h[b[F]]>H?F:H;c.push(f.uint8array?k(b.subarray(d,H)):k(b.slice(d,H)));d=H}return c.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(c,b,d){function e(b){return b}function f(b,c){for(var d=0;d<b.length;++d)c[d]=255&b.charCodeAt(d);return c}function g(b){var c=65536,e=[],f=b.length,g=d.getTypeOf(b),h=0,k=!0;try{switch(g){case "uint8array":String.fromCharCode.apply(null,
new Uint8Array(0));break;case "nodebuffer":String.fromCharCode.apply(null,m(0))}}catch(l){k=!1}if(!k){c="";for(e=0;e<b.length;e++)c+=String.fromCharCode(b[e]);return c}for(;f>h&&1<c;)try{e.push("array"===g||"nodebuffer"===g?String.fromCharCode.apply(null,b.slice(h,Math.min(h+c,f))):String.fromCharCode.apply(null,b.subarray(h,Math.min(h+c,f)))),h+=c}catch(l){c=Math.floor(c/2)}return e.join("")}function h(b,c){for(var d=0;d<b.length;d++)c[d]=b[d];return c}var k=c("./support"),l=c("./compressions"),
m=c("./nodeBuffer");d.string2binary=function(b){for(var c="",d=0;d<b.length;d++)c+=String.fromCharCode(255&b.charCodeAt(d));return c};d.arrayBuffer2Blob=function(b,c){d.checkSupport("blob");c=c||"application/zip";try{return new Blob([b],{type:c})}catch(e){try{var f=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return f.append(b),f.getBlob(c)}catch(g){throw Error("Bug : can't construct the Blob.");}}};d.applyFromCharCode=g;var v={};v.string={string:e,
array:function(b){return f(b,Array(b.length))},arraybuffer:function(b){return v.string.uint8array(b).buffer},uint8array:function(b){return f(b,new Uint8Array(b.length))},nodebuffer:function(b){return f(b,m(b.length))}};v.array={string:g,array:e,arraybuffer:function(b){return(new Uint8Array(b)).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return m(b)}};v.arraybuffer={string:function(b){return g(new Uint8Array(b))},array:function(b){return h(new Uint8Array(b),Array(b.byteLength))},
arraybuffer:e,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return m(new Uint8Array(b))}};v.uint8array={string:g,array:function(b){return h(b,Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:e,nodebuffer:function(b){return m(b)}};v.nodebuffer={string:g,array:function(b){return h(b,Array(b.length))},arraybuffer:function(b){return v.nodebuffer.uint8array(b).buffer},uint8array:function(b){return h(b,new Uint8Array(b.length))},nodebuffer:e};d.transformTo=
function(b,c){if(c||(c=""),!b)return c;d.checkSupport(b);var e=d.getTypeOf(c);return v[e][b](c)};d.getTypeOf=function(b){return"string"==typeof b?"string":"[object Array]"===Object.prototype.toString.call(b)?"array":k.nodebuffer&&m.test(b)?"nodebuffer":k.uint8array&&b instanceof Uint8Array?"uint8array":k.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0};d.checkSupport=function(b){if(!k[b.toLowerCase()])throw Error(b+" is not supported by this browser");};d.MAX_VALUE_16BITS=65535;d.MAX_VALUE_32BITS=
-1;d.pretty=function(b){var c,d,e="";for(d=0;d<(b||"").length;d++)c=b.charCodeAt(d),e+="\\x"+(16>c?"0":"")+c.toString(16).toUpperCase();return e};d.findCompression=function(b){for(var c in l)if(l.hasOwnProperty(c)&&l[c].magic===b)return l[c];return null};d.isRegExp=function(b){return"[object RegExp]"===Object.prototype.toString.call(b)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(c,b){function d(b,c){this.files=[];this.loadOptions=c;b&&this.load(b)}var e=c("./stringReader"),
f=c("./nodeBufferReader"),g=c("./uint8ArrayReader"),h=c("./utils"),k=c("./signature"),l=c("./zipEntry"),m=c("./support"),v=c("./object");d.prototype={checkSignature:function(b){var c=this.reader.readString(4);if(c!==b)throw Error("Corrupted zip or bug : unexpected signature ("+h.pretty(c)+", expected "+h.pretty(b)+")");},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);
this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);this.zipComment=this.reader.readString(this.zipCommentLength);this.zipComment=v.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.versionMadeBy=this.reader.readString(2);this.versionNeeded=this.reader.readInt(2);this.diskNumber=this.reader.readInt(4);
this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};for(var b,c,d,e=this.zip64EndOfCentralSize-44;0<e;)b=this.reader.readInt(2),c=this.reader.readInt(4),d=this.reader.readString(c),this.zip64ExtensibleData[b]={id:b,length:c,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=
this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw Error("Multi-volumes zip are not supported");},readLocalFiles:function(){var b,c;for(b=0;b<this.files.length;b++)c=this.files[b],this.reader.setIndex(c.localHeaderOffset),this.checkSignature(k.LOCAL_FILE_HEADER),c.readLocalPart(this.reader),c.handleUTF8(),c.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===
k.CENTRAL_FILE_HEADER;)b=new l({zip64:this.zip64},this.loadOptions),b.readCentralPart(this.reader),this.files.push(b)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(k.CENTRAL_DIRECTORY_END);if(-1===b){b=!0;try{this.reader.setIndex(0),this.checkSignature(k.LOCAL_FILE_HEADER),b=!1}catch(c){}throw Error(b?"Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html":"Corrupted zip : can't find end of central directory");
}if(this.reader.setIndex(b),this.checkSignature(k.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,b=this.reader.lastIndexOfSignature(k.ZIP64_CENTRAL_DIRECTORY_LOCATOR),-1===b)throw Error("Corrupted zip : can't find the ZIP64 end of central directory locator");
this.reader.setIndex(b);this.checkSignature(k.ZIP64_CENTRAL_DIRECTORY_LOCATOR);this.readBlockZip64EndOfCentralLocator();this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(k.ZIP64_CENTRAL_DIRECTORY_END);this.readBlockZip64EndOfCentral()}},prepareReader:function(b){var c=h.getTypeOf(b);this.reader="string"!==c||m.uint8array?"nodebuffer"===c?new f(b):new g(h.transformTo("uint8array",b)):new e(b,this.loadOptions.optimizedBinaryString)},load:function(b){this.prepareReader(b);
this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};b.exports=d},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(c,b){function d(b,c){this.options=b;this.loadOptions=c}var e=c("./stringReader"),f=c("./utils"),g=c("./compressedObject"),h=c("./object");d.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(b,
c,d){return function(){var e=b.index;b.setIndex(c);var f=b.readData(d);return b.setIndex(e),f}},prepareContent:function(b,c,d,e,g){return function(){var b=f.transformTo(e.uncompressInputType,this.getCompressedContent()),b=e.uncompress(b);if(b.length!==g)throw Error("Bug : uncompressed data size mismatch");return b}},readLocalPart:function(b){var c,d;if(b.skip(22),this.fileNameLength=b.readInt(2),d=b.readInt(2),this.fileName=b.readString(this.fileNameLength),b.skip(d),-1==this.compressedSize||-1==
this.uncompressedSize)throw Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(c=f.findCompression(this.compressionMethod),null===c)throw Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new g,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=
this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(b,b.index,this.compressedSize,c),this.decompressed.getContent=this.prepareContent(b,b.index,this.compressedSize,c,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=f.transformTo("string",this.decompressed.getContent()),h.crc32(this.decompressed)!==this.crc32))throw Error("Corrupted zip : CRC32 mismatch");},readCentralPart:function(b){if(this.versionMadeBy=
b.readInt(2),this.versionNeeded=b.readInt(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4),this.fileNameLength=b.readInt(2),this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw Error("Encrypted zip are not supported");
this.fileName=b.readString(this.fileNameLength);this.readExtraFields(b);this.parseZIP64ExtraField(b);this.fileComment=b.readString(this.fileCommentLength)},processAttributes:function(){this.dosPermissions=this.unixPermissions=null;var b=this.versionMadeBy>>8;this.dir=16&this.externalFileAttributes?!0:!1;0===b&&(this.dosPermissions=63&this.externalFileAttributes);3===b&&(this.unixPermissions=this.externalFileAttributes>>16&65535);this.dir||"/"!==this.fileName.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=
new e(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8));this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8));this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8));this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var c,d,e,f=b.index;for(this.extraFields=this.extraFields||{};b.index<f+this.extraFieldsLength;)c=b.readInt(2),d=b.readInt(2),
e=b.readString(d),this.extraFields[c]={id:c,length:d,value:e}},handleUTF8:function(){if(this.useUTF8())this.fileName=h.utf8decode(this.fileName),this.fileComment=h.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();null!==b&&(this.fileName=b);b=this.findExtraFieldUnicodeComment();null!==b&&(this.fileComment=b)}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var c=new e(b.value);return 1!==c.readInt(1)?null:h.crc32(this.fileName)!==c.readInt(4)?null:
h.utf8decode(c.readString(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var c=new e(b.value);return 1!==c.readInt(1)?null:h.crc32(this.fileComment)!==c.readInt(4)?null:h.utf8decode(c.readString(b.length-5))}return null}};b.exports=d},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(c,b){var d=c("./lib/utils/common").assign,e=c("./lib/deflate"),f=c("./lib/inflate"),g=c("./lib/zlib/constants"),h={};d(h,e,f,
g);b.exports=h},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(c,b,d){function e(b,c){var d=new m(c);if(d.push(b,!0),d.err)throw d.msg;return d.result}var f=c("./zlib/deflate.js"),g=c("./utils/common"),h=c("./utils/strings"),k=c("./zlib/messages"),l=c("./zlib/zstream"),m=function(b){b=this.options=g.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},b||{});b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&
0<b.windowBits&&16>b.windowBits&&(b.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new l;this.strm.avail_out=0;var c=f.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(0!==c)throw Error(k[c]);b.header&&f.deflateSetHeader(this.strm,b.header)};m.prototype.push=function(b,c){var d,e,k=this.strm,l=this.options.chunkSize;if(this.ended)return!1;e=c===~~c?c:!0===c?4:0;k.input="string"==typeof b?h.string2buf(b):b;k.next_in=0;k.avail_in=k.input.length;
do{if(0===k.avail_out&&(k.output=new g.Buf8(l),k.next_out=0,k.avail_out=l),d=f.deflate(k,e),1!==d&&0!==d)return this.onEnd(d),this.ended=!0,!1;(0===k.avail_out||0===k.avail_in&&4===e)&&this.onData("string"===this.options.to?h.buf2binstring(g.shrinkBuf(k.output,k.next_out)):g.shrinkBuf(k.output,k.next_out))}while((0<k.avail_in||0===k.avail_out)&&1!==d);return 4===e?(d=f.deflateEnd(this.strm),this.onEnd(d),this.ended=!0,0===d):!0};m.prototype.onData=function(b){this.chunks.push(b)};m.prototype.onEnd=
function(b){0===b&&(this.result="string"===this.options.to?this.chunks.join(""):g.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};d.Deflate=m;d.deflate=e;d.deflateRaw=function(b,c){return c=c||{},c.raw=!0,e(b,c)};d.gzip=function(b,c){return c=c||{},c.gzip=!0,e(b,c)}},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(c,b,d){function e(b,c){var d=new t(c);if(d.push(b,!0),d.err)throw d.msg;return d.result}
var f=c("./zlib/inflate.js"),g=c("./utils/common"),h=c("./utils/strings"),k=c("./zlib/constants"),l=c("./zlib/messages"),m=c("./zlib/zstream"),v=c("./zlib/gzheader"),t=function(b){var c=this.options=g.assign({chunkSize:16384,windowBits:0,to:""},b||{});c.raw&&0<=c.windowBits&&16>c.windowBits&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=-15));!(0<=c.windowBits&&16>c.windowBits)||b&&b.windowBits||(c.windowBits+=32);15<c.windowBits&&48>c.windowBits&&0===(15&c.windowBits)&&(c.windowBits|=
15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new m;this.strm.avail_out=0;b=f.inflateInit2(this.strm,c.windowBits);if(b!==k.Z_OK)throw Error(l[b]);this.header=new v;f.inflateGetHeader(this.strm,this.header)};t.prototype.push=function(b,c){var d,e,l,m,v,t=this.strm,I=this.options.chunkSize;if(this.ended)return!1;e=c===~~c?c:!0===c?k.Z_FINISH:k.Z_NO_FLUSH;t.input="string"==typeof b?h.binstring2buf(b):b;t.next_in=0;t.avail_in=t.input.length;do{if(0===t.avail_out&&(t.output=new g.Buf8(I),
t.next_out=0,t.avail_out=I),d=f.inflate(t,k.Z_NO_FLUSH),d!==k.Z_STREAM_END&&d!==k.Z_OK)return this.onEnd(d),this.ended=!0,!1;t.next_out&&(0===t.avail_out||d===k.Z_STREAM_END||0===t.avail_in&&e===k.Z_FINISH)&&("string"===this.options.to?(l=h.utf8border(t.output,t.next_out),m=t.next_out-l,v=h.buf2string(t.output,l),t.next_out=m,t.avail_out=I-m,m&&g.arraySet(t.output,t.output,l,m,0),this.onData(v)):this.onData(g.shrinkBuf(t.output,t.next_out)))}while(0<t.avail_in&&d!==k.Z_STREAM_END);return d===k.Z_STREAM_END&&
(e=k.Z_FINISH),e===k.Z_FINISH?(d=f.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===k.Z_OK):!0};t.prototype.onData=function(b){this.chunks.push(b)};t.prototype.onEnd=function(b){b===k.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):g.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};d.Inflate=t;d.inflate=e;d.inflateRaw=function(b,c){return c=c||{},c.raw=!0,e(b,c)};d.ungzip=e},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,
"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(c,b,d){c="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;d.assign=function(b){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if("object"!=typeof d)throw new TypeError(d+"must be non-object");for(var e in d)d.hasOwnProperty(e)&&(b[e]=d[e])}}return b};d.shrinkBuf=function(b,c){return b.length===c?b:b.subarray?b.subarray(0,c):(b.length=c,b)};
var e={arraySet:function(b,c,d,e,f){if(c.subarray&&b.subarray)return void b.set(c.subarray(d,d+e),f);for(var v=0;e>v;v++)b[f+v]=c[d+v]},flattenChunks:function(b){var c,d,e,f,v;c=e=0;for(d=b.length;d>c;c++)e+=b[c].length;v=new Uint8Array(e);c=e=0;for(d=b.length;d>c;c++)f=b[c],v.set(f,e),e+=f.length;return v}},f={arraySet:function(b,c,d,e,f){for(var v=0;e>v;v++)b[f+v]=c[d+v]},flattenChunks:function(b){return[].concat.apply([],b)}};d.setTyped=function(b){b?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=
Int32Array,d.assign(d,e)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,f))};d.setTyped(c)},{}],28:[function(c,b,d){function e(b,c){if(65537>c&&(b.subarray&&h||!b.subarray&&g))return String.fromCharCode.apply(null,f.shrinkBuf(b,c));for(var d="",e=0;c>e;e++)d+=String.fromCharCode(b[e]);return d}var f=c("./common"),g=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch(l){g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){h=!1}var k=new f.Buf8(256);for(c=0;256>c;c++)k[c]=252<=
c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;k[254]=k[254]=1;d.string2buf=function(b){var c,d,e,g,h,k=b.length,r=0;for(g=0;k>g;g++)d=b.charCodeAt(g),55296===(64512&d)&&k>g+1&&(e=b.charCodeAt(g+1),56320===(64512&e)&&(d=65536+(d-55296<<10)+(e-56320),g++)),r+=128>d?1:2048>d?2:65536>d?3:4;c=new f.Buf8(r);for(g=h=0;r>h;g++)d=b.charCodeAt(g),55296===(64512&d)&&k>g+1&&(e=b.charCodeAt(g+1),56320===(64512&e)&&(d=65536+(d-55296<<10)+(e-56320),g++)),128>d?c[h++]=d:2048>d?(c[h++]=192|d>>>6,c[h++]=128|63&d):65536>
d?(c[h++]=224|d>>>12,c[h++]=128|d>>>6&63,c[h++]=128|63&d):(c[h++]=240|d>>>18,c[h++]=128|d>>>12&63,c[h++]=128|d>>>6&63,c[h++]=128|63&d);return c};d.buf2binstring=function(b){return e(b,b.length)};d.binstring2buf=function(b){for(var c=new f.Buf8(b.length),d=0,e=c.length;e>d;d++)c[d]=b.charCodeAt(d);return c};d.buf2string=function(b,c){var d,f,g,h,y=c||b.length,r=Array(2*y);for(d=f=0;y>d;)if(g=b[d++],128>g)r[f++]=g;else if(h=k[g],4<h)r[f++]=65533,d+=h-1;else{for(g&=2===h?31:3===h?15:7;1<h&&y>d;)g=g<<
6|63&b[d++],h--;1<h?r[f++]=65533:65536>g?r[f++]=g:(g-=65536,r[f++]=55296|g>>10&1023,r[f++]=56320|1023&g)}return e(r,f)};d.utf8border=function(b,c){var d;c=c||b.length;c>b.length&&(c=b.length);for(d=c-1;0<=d&&128===(192&b[d]);)d--;return 0>d?c:0===d?c:d+k[b[d]]>c?d:c}},{"./common":27}],29:[function(c,b){b.exports=function(b,c,f,g){var h=65535&b|0;b=b>>>16&65535|0;for(var k=0;0!==f;){k=2E3<f?2E3:f;f-=k;do h=h+c[g++]|0,b=b+h|0;while(--k);h%=65521;b%=65521}return h|b<<16|0}},{}],30:[function(c,b){b.exports=
{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(c,b){var d=function(){for(var b,c=[],d=0;256>d;d++){b=d;for(var h=0;8>h;h++)b=1&b?3988292384^b>>>1:
b>>>1;c[d]=b}return c}();b.exports=function(b,c,g,h){g=h+g;for(b^=-1;g>h;h++)b=b>>>8^d[255&(b^c[h])];return-1^b}},{}],32:[function(c,b,d){function e(b,c){return b.msg=z[c],c}function f(b){for(var c=b.length;0<=--c;)b[c]=0}function g(b){var c=b.state,d=c.pending;d>b.avail_out&&(d=b.avail_out);0!==d&&(x.arraySet(b.output,c.pending_buf,c.pending_out,d,b.next_out),b.next_out+=d,c.pending_out+=d,b.total_out+=d,b.avail_out-=d,c.pending-=d,0===c.pending&&(c.pending_out=0))}function h(b,c){B._tr_flush_block(b,
0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,c);b.block_start=b.strstart;g(b.strm)}function k(b,c){b.pending_buf[b.pending++]=c}function l(b,c){b.pending_buf[b.pending++]=c>>>8&255;b.pending_buf[b.pending++]=255&c}function m(b,c){var d,e,f=b.max_chain_length,g=b.strstart,h=b.prev_length,k=b.nice_match,E=b.strstart>b.w_size-S?b.strstart-(b.w_size-S):0,l=b.window,m=b.w_mask,q=b.prev,z=b.strstart+K,p=l[g+h-1],r=l[g+h];b.prev_length>=b.good_match&&(f>>=2);k>b.lookahead&&(k=b.lookahead);
do if(d=c,l[d+h]===r&&l[d+h-1]===p&&l[d]===l[g]&&l[++d]===l[g+1]){g+=2;for(d++;l[++g]===l[++d]&&l[++g]===l[++d]&&l[++g]===l[++d]&&l[++g]===l[++d]&&l[++g]===l[++d]&&l[++g]===l[++d]&&l[++g]===l[++d]&&l[++g]===l[++d]&&z>g;);if(e=K-(z-g),g=z-K,e>h){if(b.match_start=c,h=e,e>=k)break;p=l[g+h-1];r=l[g+h]}}while((c=q[c&m])>E&&0!==--f);return h<=b.lookahead?h:b.lookahead}function v(b){var c,d,e,f,g=b.w_size;do{if(f=b.window_size-b.lookahead-b.strstart,b.strstart>=g+(g-S)){x.arraySet(b.window,b.window,g,g,
0);b.match_start-=g;b.strstart-=g;b.block_start-=g;c=d=b.hash_size;do e=b.head[--c],b.head[c]=e>=g?e-g:0;while(--d);c=d=g;do e=b.prev[--c],b.prev[c]=e>=g?e-g:0;while(--d);f+=g}if(0===b.strm.avail_in)break;c=b.strm;e=b.window;var h=b.strstart+b.lookahead,k=c.avail_in;if(d=(k>f&&(k=f),0===k?0:(c.avail_in-=k,x.arraySet(e,c.input,c.next_in,k,h),1===c.state.wrap?c.adler=I(c.adler,e,k,h):2===c.state.wrap&&(c.adler=C(c.adler,e,k,h)),c.next_in+=k,c.total_in+=k,k)),b.lookahead+=d,b.lookahead+b.insert>=A)for(f=
b.strstart-b.insert,b.ins_h=b.window[f],b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+A-1])&b.hash_mask,b.prev[f&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=f,f++,b.insert--,!(b.lookahead+b.insert<A)););}while(b.lookahead<S&&0!==b.strm.avail_in)}function t(b,c){for(var d,e;;){if(b.lookahead<S){if(v(b),b.lookahead<S&&c===D)return L;if(0===b.lookahead)break}if(d=0,b.lookahead>=A&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+A-1])&
b.hash_mask,d=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),0!==d&&b.strstart-d<=b.w_size-S&&(b.match_length=m(b,d)),b.match_length>=A)if(e=B._tr_tally(b,b.strstart-b.match_start,b.match_length-A),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=A){b.match_length--;do b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+A-1])&b.hash_mask,d=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(0!==--b.match_length);
b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else e=B._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(e&&(h(b,!1),0===b.strm.avail_out))return L}return b.insert=b.strstart<A-1?b.strstart:A-1,c===E?(h(b,!0),0===b.strm.avail_out?V:P):b.last_lit&&(h(b,!1),0===b.strm.avail_out)?L:M}function H(b,c){for(var d,e,f;;){if(b.lookahead<S){if(v(b),b.lookahead<S&&c===D)return L;if(0===
b.lookahead)break}if(d=0,b.lookahead>=A&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+A-1])&b.hash_mask,d=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=A-1,0!==d&&b.prev_length<b.max_lazy_match&&b.strstart-d<=b.w_size-S&&(b.match_length=m(b,d),5>=b.match_length&&(b.strategy===U||b.match_length===A&&4096<b.strstart-b.match_start)&&(b.match_length=A-1)),b.prev_length>=A&&b.match_length<=b.prev_length){f=
b.strstart+b.lookahead-A;e=B._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-A);b.lookahead-=b.prev_length-1;b.prev_length-=2;do++b.strstart<=f&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+A-1])&b.hash_mask,d=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(0!==--b.prev_length);if(b.match_available=0,b.match_length=A-1,b.strstart++,e&&(h(b,!1),0===b.strm.avail_out))return L}else if(b.match_available){if(e=B._tr_tally(b,0,b.window[b.strstart-1]),e&&h(b,!1),
b.strstart++,b.lookahead--,0===b.strm.avail_out)return L}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(B._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<A-1?b.strstart:A-1,c===E?(h(b,!0),0===b.strm.avail_out?V:P):b.last_lit&&(h(b,!1),0===b.strm.avail_out)?L:M}function F(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=q;this.last_flush=
-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new x.Buf16(2*aa);this.dyn_dtree=new x.Buf16(2*(2*O+1));this.bl_tree=new x.Buf16(2*
(2*G+1));f(this.dyn_ltree);f(this.dyn_dtree);f(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new x.Buf16(J+1);this.heap=new x.Buf16(2*ba+1);f(this.heap);this.heap_max=this.heap_len=0;this.depth=new x.Buf16(2*ba+1);f(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function y(b){var c;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=Z,c=b.state,c.pending=0,c.pending_out=
0,0>c.wrap&&(c.wrap=-c.wrap),c.status=c.wrap?T:X,b.adler=2===c.wrap?0:1,c.last_flush=D,B._tr_init(c),Q):e(b,R)}function r(b){var c=y(b);c===Q&&(b=b.state,b.window_size=2*b.w_size,f(b.head),b.max_lazy_match=w[b.level].max_lazy,b.good_match=w[b.level].good_length,b.nice_match=w[b.level].nice_length,b.max_chain_length=w[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=A-1,b.match_available=0,b.ins_h=0);return c}function u(b,c,d,f,g,h){if(!b)return R;
var k=1;if(c===N&&(c=6),0>f?(k=0,f=-f):15<f&&(k=2,f-=16),1>g||g>p||d!==q||8>f||15<f||0>c||9<c||0>h||h>Y)return e(b,R);8===f&&(f=9);var E=new F;return b.state=E,E.strm=b,E.wrap=k,E.gzhead=null,E.w_bits=f,E.w_size=1<<E.w_bits,E.w_mask=E.w_size-1,E.hash_bits=g+7,E.hash_size=1<<E.hash_bits,E.hash_mask=E.hash_size-1,E.hash_shift=~~((E.hash_bits+A-1)/A),E.window=new x.Buf8(2*E.w_size),E.head=new x.Buf16(E.hash_size),E.prev=new x.Buf16(E.w_size),E.lit_bufsize=1<<g+6,E.pending_buf_size=4*E.lit_bufsize,E.pending_buf=
new x.Buf8(E.pending_buf_size),E.d_buf=E.lit_bufsize>>1,E.l_buf=3*E.lit_bufsize,E.level=c,E.strategy=h,E.method=d,r(b)}var w,x=c("../utils/common"),B=c("./trees"),I=c("./adler32"),C=c("./crc32"),z=c("./messages"),D=0,E=4,Q=0,R=-2,N=-1,U=1,Y=4,Z=2,q=8,p=9,ba=286,O=30,G=19,aa=2*ba+1,J=15,A=3,K=258,S=K+A+1,T=42,X=113,L=1,M=2,V=3,P=4;c=function(b,c,d,e,f){this.good_length=b;this.max_lazy=c;this.nice_length=d;this.max_chain=e;this.func=f};w=[new c(0,0,0,0,function(b,c){var d=65535;for(d>b.pending_buf_size-
5&&(d=b.pending_buf_size-5);;){if(1>=b.lookahead){if(v(b),0===b.lookahead&&c===D)return L;if(0===b.lookahead)break}b.strstart+=b.lookahead;b.lookahead=0;var e=b.block_start+d;if((0===b.strstart||b.strstart>=e)&&(b.lookahead=b.strstart-e,b.strstart=e,h(b,!1),0===b.strm.avail_out)||b.strstart-b.block_start>=b.w_size-S&&(h(b,!1),0===b.strm.avail_out))return L}return b.insert=0,c===E?(h(b,!0),0===b.strm.avail_out?V:P):(b.strstart>b.block_start&&h(b,!1),L)}),new c(4,4,8,4,t),new c(4,5,16,8,t),new c(4,
6,32,32,t),new c(4,4,16,16,H),new c(8,16,32,32,H),new c(8,16,128,128,H),new c(8,32,128,256,H),new c(32,128,258,1024,H),new c(32,258,258,4096,H)];d.deflateInit=function(b,c){return u(b,c,q,15,8,0)};d.deflateInit2=u;d.deflateReset=r;d.deflateResetKeep=y;d.deflateSetHeader=function(b,c){return b&&b.state?2!==b.state.wrap?R:(b.state.gzhead=c,Q):R};d.deflate=function(b,c){var d,n,m,z;if(!b||!b.state||5<c||0>c)return b?e(b,R):R;if(n=b.state,!b.output||!b.input&&0!==b.avail_in||666===n.status&&c!==E)return e(b,
0===b.avail_out?-5:R);if(n.strm=b,d=n.last_flush,n.last_flush=c,n.status===T)2===n.wrap?(b.adler=0,k(n,31),k(n,139),k(n,8),n.gzhead?(k(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),k(n,255&n.gzhead.time),k(n,n.gzhead.time>>8&255),k(n,n.gzhead.time>>16&255),k(n,n.gzhead.time>>24&255),k(n,9===n.level?2:2<=n.strategy||2>n.level?4:0),k(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(k(n,255&n.gzhead.extra.length),k(n,n.gzhead.extra.length>>
8&255)),n.gzhead.hcrc&&(b.adler=C(b.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(k(n,0),k(n,0),k(n,0),k(n,0),k(n,0),k(n,9===n.level?2:2<=n.strategy||2>n.level?4:0),k(n,3),n.status=X)):(m=q+(n.w_bits-8<<4)<<8,z=-1,z=2<=n.strategy||2>n.level?0:6>n.level?1:6===n.level?2:3,m|=z<<6,0!==n.strstart&&(m|=32),n.status=X,l(n,m+(31-m%31)),0!==n.strstart&&(l(n,b.adler>>>16),l(n,65535&b.adler)),b.adler=1);if(69===n.status)if(n.gzhead.extra){for(m=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&
(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>m&&(b.adler=C(b.adler,n.pending_buf,n.pending-m,m)),g(b),m=n.pending,n.pending!==n.pending_buf_size));)k(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>m&&(b.adler=C(b.adler,n.pending_buf,n.pending-m,m));n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){m=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>m&&(b.adler=C(b.adler,n.pending_buf,
n.pending-m,m)),g(b),m=n.pending,n.pending===n.pending_buf_size)){z=1;break}z=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0;k(n,z)}while(0!==z);n.gzhead.hcrc&&n.pending>m&&(b.adler=C(b.adler,n.pending_buf,n.pending-m,m));0===z&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){m=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>m&&(b.adler=C(b.adler,n.pending_buf,n.pending-m,m)),g(b),m=n.pending,n.pending===n.pending_buf_size)){z=
1;break}z=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0;k(n,z)}while(0!==z);n.gzhead.hcrc&&n.pending>m&&(b.adler=C(b.adler,n.pending_buf,n.pending-m,m));0===z&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&g(b),n.pending+2<=n.pending_buf_size&&(k(n,255&b.adler),k(n,b.adler>>8&255),b.adler=0,n.status=X)):n.status=X),0!==n.pending){if(g(b),0===b.avail_out)return n.last_flush=-1,Q}else if(0===b.avail_in&&(c<<1)-
(4<c?9:0)<=(d<<1)-(4<d?9:0)&&c!==E)return e(b,-5);if(666===n.status&&0!==b.avail_in)return e(b,-5);if(0!==b.avail_in||0!==n.lookahead||c!==D&&666!==n.status){var p;if(2===n.strategy)a:{for(var r;;){if(0===n.lookahead&&(v(n),0===n.lookahead)){if(c===D){p=L;break a}break}if(n.match_length=0,r=B._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,r&&(h(n,!1),0===n.strm.avail_out)){p=L;break a}}p=(n.insert=0,c===E?(h(n,!0),0===n.strm.avail_out?V:P):n.last_lit&&(h(n,!1),0===n.strm.avail_out)?
L:M)}else if(3===n.strategy)a:{var t,u;for(r=n.window;;){if(n.lookahead<=K){if(v(n),n.lookahead<=K&&c===D){p=L;break a}if(0===n.lookahead)break}if(n.match_length=0,n.lookahead>=A&&0<n.strstart&&(u=n.strstart-1,t=r[u],t===r[++u]&&t===r[++u]&&t===r[++u])){for(d=n.strstart+K;t===r[++u]&&t===r[++u]&&t===r[++u]&&t===r[++u]&&t===r[++u]&&t===r[++u]&&t===r[++u]&&t===r[++u]&&d>u;);n.match_length=K-(d-u);n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=A?(p=B._tr_tally(n,1,n.match_length-
A),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(p=B._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),p&&(h(n,!1),0===n.strm.avail_out)){p=L;break a}}p=(n.insert=0,c===E?(h(n,!0),0===n.strm.avail_out?V:P):n.last_lit&&(h(n,!1),0===n.strm.avail_out)?L:M)}else p=w[n.level].func(n,c);if((p===V||p===P)&&(n.status=666),p===L||p===V)return 0===b.avail_out&&(n.last_flush=-1),Q;if(p===M&&(1===c?B._tr_align(n):5!==c&&(B._tr_stored_block(n,0,0,!1),3===c&&(f(n.head),
0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),g(b),0===b.avail_out))return n.last_flush=-1,Q}return c!==E?Q:0>=n.wrap?1:(2===n.wrap?(k(n,255&b.adler),k(n,b.adler>>8&255),k(n,b.adler>>16&255),k(n,b.adler>>24&255),k(n,255&b.total_in),k(n,b.total_in>>8&255),k(n,b.total_in>>16&255),k(n,b.total_in>>24&255)):(l(n,b.adler>>>16),l(n,65535&b.adler)),g(b),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?Q:1)};d.deflateEnd=function(b){var c;return b&&b.state?(c=b.state.status,c!==T&&69!==c&&73!==c&&91!==
c&&103!==c&&c!==X&&666!==c?e(b,R):(b.state=null,c===X?e(b,-3):Q)):R};d.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(c,b){b.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],34:[function(c,b){b.exports=function(b,c){var f,g,h,k,l,m,v,t,H,F,y,r,u,w,x,B,I,C,z,D,E,Q,R,N;f=b.state;g=b.next_in;R=b.input;h=
g+(b.avail_in-5);k=b.next_out;N=b.output;l=k-(c-b.avail_out);m=k+(b.avail_out-257);v=f.dmax;t=f.wsize;H=f.whave;F=f.wnext;y=f.window;r=f.hold;u=f.bits;w=f.lencode;x=f.distcode;B=(1<<f.lenbits)-1;I=(1<<f.distbits)-1;a:do b:for(15>u&&(r+=R[g++]<<u,u+=8,r+=R[g++]<<u,u+=8),C=w[r&B];;){if(z=C>>>24,r>>>=z,u-=z,z=C>>>16&255,0===z)N[k++]=65535&C;else{if(!(16&z)){if(0===(64&z)){C=w[(65535&C)+(r&(1<<z)-1)];continue b}if(32&z){f.mode=12;break a}b.msg="invalid literal/length code";f.mode=30;break a}D=65535&C;
(z&=15)&&(z>u&&(r+=R[g++]<<u,u+=8),D+=r&(1<<z)-1,r>>>=z,u-=z);15>u&&(r+=R[g++]<<u,u+=8,r+=R[g++]<<u,u+=8);C=x[r&I];c:for(;;){if(z=C>>>24,r>>>=z,u-=z,z=C>>>16&255,!(16&z)){if(0===(64&z)){C=x[(65535&C)+(r&(1<<z)-1)];continue c}b.msg="invalid distance code";f.mode=30;break a}if(E=65535&C,z&=15,z>u&&(r+=R[g++]<<u,u+=8,z>u&&(r+=R[g++]<<u,u+=8)),E+=r&(1<<z)-1,E>v){b.msg="invalid distance too far back";f.mode=30;break a}if(r>>>=z,u-=z,z=k-l,E>z){if(z=E-z,z>H&&f.sane){b.msg="invalid distance too far back";
f.mode=30;break a}if(C=0,Q=y,0===F){if(C+=t-z,D>z){D-=z;do N[k++]=y[C++];while(--z);C=k-E;Q=N}}else if(z>F){if(C+=t+F-z,z-=F,D>z){D-=z;do N[k++]=y[C++];while(--z);if(C=0,D>F){z=F;D-=z;do N[k++]=y[C++];while(--z);C=k-E;Q=N}}}else if(C+=F-z,D>z){D-=z;do N[k++]=y[C++];while(--z);C=k-E;Q=N}for(;2<D;)N[k++]=Q[C++],N[k++]=Q[C++],N[k++]=Q[C++],D-=3;D&&(N[k++]=Q[C++],1<D&&(N[k++]=Q[C++]))}else{C=k-E;do N[k++]=N[C++],N[k++]=N[C++],N[k++]=N[C++],D-=3;while(2<D);D&&(N[k++]=N[C++],1<D&&(N[k++]=N[C++]))}break}}break}while(h>
g&&m>k);D=u>>3;g-=D;u-=D<<3;b.next_in=g;b.next_out=k;b.avail_in=h>g?5+(h-g):5-(g-h);b.avail_out=m>k?257+(m-k):257-(k-m);f.hold=r&(1<<u)-1;f.bits=u}},{}],35:[function(c,b,d){function e(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function f(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=
this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new t.Buf16(320);this.work=new t.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function g(b){var c;return b&&b.state?(c=b.state,b.total_in=b.total_out=c.total=0,b.msg="",c.wrap&&(b.adler=1&c.wrap),c.mode=x,c.last=0,c.havedict=0,c.dmax=32768,c.head=null,c.hold=0,c.bits=0,c.lencode=c.lendyn=new t.Buf32(B),c.distcode=c.distdyn=new t.Buf32(I),c.sane=1,c.back=-1,u):
w}function h(b){var c;return b&&b.state?(c=b.state,c.wsize=0,c.whave=0,c.wnext=0,g(b)):w}function k(b,c){var d,e;return b&&b.state?(e=b.state,0>c?(d=0,c=-c):(d=(c>>4)+1,48>c&&(c&=15)),c&&(8>c||15<c)?w:(null!==e.window&&e.wbits!==c&&(e.window=null),e.wrap=d,e.wbits=c,h(b))):w}function l(b,c){var d,e;return b?(e=new f,b.state=e,e.window=null,d=k(b,c),d!==u&&(b.state=null),d):w}var m,v,t=c("../utils/common"),H=c("./adler32"),F=c("./crc32"),y=c("./inffast"),r=c("./inftrees"),u=0,w=-2,x=1,B=852,I=592,
C=!0;d.inflateReset=h;d.inflateReset2=k;d.inflateResetKeep=g;d.inflateInit=function(b){return l(b,15)};d.inflateInit2=l;d.inflate=function(b,c){var d,f,g,h,k,l,B,q,p,I,O,G,aa,J,A,K,S,T,X,L,M,V,P=0,W=new t.Buf8(4),da=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&0!==b.avail_in)return w;d=b.state;12===d.mode&&(d.mode=13);k=b.next_out;g=b.output;B=b.avail_out;h=b.next_in;f=b.input;l=b.avail_in;q=d.hold;p=d.bits;I=l;O=B;M=u;a:for(;;)switch(d.mode){case x:if(0===
d.wrap){d.mode=13;break}for(;16>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}if(2&d.wrap&&35615===q){d.check=0;W[0]=255&q;W[1]=q>>>8&255;d.check=F(d.check,W,2,0);p=q=0;d.mode=2;break}if(d.flags=0,d.head&&(d.head.done=!1),!(1&d.wrap)||(((255&q)<<8)+(q>>8))%31){b.msg="incorrect header check";d.mode=30;break}if(8!==(15&q)){b.msg="unknown compression method";d.mode=30;break}if(q>>>=4,p-=4,L=(15&q)+8,0===d.wbits)d.wbits=L;else if(L>d.wbits){b.msg="invalid window size";d.mode=30;break}d.dmax=1<<L;b.adler=
d.check=1;d.mode=512&q?10:12;p=q=0;break;case 2:for(;16>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}if(d.flags=q,8!==(255&d.flags)){b.msg="unknown compression method";d.mode=30;break}if(57344&d.flags){b.msg="unknown header flags set";d.mode=30;break}d.head&&(d.head.text=q>>8&1);512&d.flags&&(W[0]=255&q,W[1]=q>>>8&255,d.check=F(d.check,W,2,0));p=q=0;d.mode=3;case 3:for(;32>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}d.head&&(d.head.time=q);512&d.flags&&(W[0]=255&q,W[1]=q>>>8&255,W[2]=q>>>16&255,W[3]=
q>>>24&255,d.check=F(d.check,W,4,0));p=q=0;d.mode=4;case 4:for(;16>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}d.head&&(d.head.xflags=255&q,d.head.os=q>>8);512&d.flags&&(W[0]=255&q,W[1]=q>>>8&255,d.check=F(d.check,W,2,0));p=q=0;d.mode=5;case 5:if(1024&d.flags){for(;16>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}d.length=q;d.head&&(d.head.extra_len=q);512&d.flags&&(W[0]=255&q,W[1]=q>>>8&255,d.check=F(d.check,W,2,0));p=q=0}else d.head&&(d.head.extra=null);d.mode=6;case 6:if(1024&d.flags&&(G=d.length,
G>l&&(G=l),G&&(d.head&&(L=d.head.extra_len-d.length,d.head.extra||(d.head.extra=Array(d.head.extra_len)),t.arraySet(d.head.extra,f,h,G,L)),512&d.flags&&(d.check=F(d.check,f,G,h)),l-=G,h+=G,d.length-=G),d.length))break a;d.length=0;d.mode=7;case 7:if(2048&d.flags){if(0===l)break a;G=0;do L=f[h+G++],d.head&&L&&65536>d.length&&(d.head.name+=String.fromCharCode(L));while(L&&l>G);if(512&d.flags&&(d.check=F(d.check,f,G,h)),l-=G,h+=G,L)break a}else d.head&&(d.head.name=null);d.length=0;d.mode=8;case 8:if(4096&
d.flags){if(0===l)break a;G=0;do L=f[h+G++],d.head&&L&&65536>d.length&&(d.head.comment+=String.fromCharCode(L));while(L&&l>G);if(512&d.flags&&(d.check=F(d.check,f,G,h)),l-=G,h+=G,L)break a}else d.head&&(d.head.comment=null);d.mode=9;case 9:if(512&d.flags){for(;16>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}if(q!==(65535&d.check)){b.msg="header crc mismatch";d.mode=30;break}p=q=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0);b.adler=d.check=0;d.mode=12;break;case 10:for(;32>p;){if(0===l)break a;
l--;q+=f[h++]<<p;p+=8}b.adler=d.check=e(q);p=q=0;d.mode=11;case 11:if(0===d.havedict)return b.next_out=k,b.avail_out=B,b.next_in=h,b.avail_in=l,d.hold=q,d.bits=p,2;b.adler=d.check=1;d.mode=12;case 12:if(5===c||6===c)break a;case 13:if(d.last){q>>>=7&p;p-=7&p;d.mode=27;break}for(;3>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}switch(d.last=1&q,q>>>=1,--p,3&q){case 0:d.mode=14;break;case 1:J=d;if(C){K=void 0;m=new t.Buf32(512);v=new t.Buf32(32);for(K=0;144>K;)J.lens[K++]=8;for(;256>K;)J.lens[K++]=9;for(;280>
K;)J.lens[K++]=7;for(;288>K;)J.lens[K++]=8;r(1,J.lens,0,288,m,0,J.work,{bits:9});for(K=0;32>K;)J.lens[K++]=5;r(2,J.lens,0,32,v,0,J.work,{bits:5});C=!1}J.lencode=m;J.lenbits=9;J.distcode=v;J.distbits=5;if(d.mode=20,6===c){q>>>=2;p-=2;break a}break;case 2:d.mode=17;break;case 3:b.msg="invalid block type",d.mode=30}q>>>=2;p-=2;break;case 14:q>>>=7&p;for(p-=7&p;32>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}if((65535&q)!==(q>>>16^65535)){b.msg="invalid stored block lengths";d.mode=30;break}if(d.length=
65535&q,q=0,p=0,d.mode=15,6===c)break a;case 15:d.mode=16;case 16:if(G=d.length){if(G>l&&(G=l),G>B&&(G=B),0===G)break a;t.arraySet(g,f,h,G,k);l-=G;h+=G;B-=G;k+=G;d.length-=G;break}d.mode=12;break;case 17:for(;14>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}if(d.nlen=(31&q)+257,q>>>=5,p-=5,d.ndist=(31&q)+1,q>>>=5,p-=5,d.ncode=(15&q)+4,q>>>=4,p-=4,286<d.nlen||30<d.ndist){b.msg="too many length or distance symbols";d.mode=30;break}d.have=0;d.mode=18;case 18:for(;d.have<d.ncode;){for(;3>p;){if(0===l)break a;
l--;q+=f[h++]<<p;p+=8}d.lens[da[d.have++]]=7&q;q>>>=3;p-=3}for(;19>d.have;)d.lens[da[d.have++]]=0;if(d.lencode=d.lendyn,d.lenbits=7,V={bits:d.lenbits},M=r(0,d.lens,0,19,d.lencode,0,d.work,V),d.lenbits=V.bits,M){b.msg="invalid code lengths set";d.mode=30;break}d.have=0;d.mode=19;case 19:for(;d.have<d.nlen+d.ndist;){for(;P=d.lencode[q&(1<<d.lenbits)-1],A=P>>>24,K=65535&P,!(p>=A);){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}if(16>K)q>>>=A,p-=A,d.lens[d.have++]=K;else{if(16===K){for(J=A+2;J>p;){if(0===l)break a;
l--;q+=f[h++]<<p;p+=8}if(q>>>=A,p-=A,0===d.have){b.msg="invalid bit length repeat";d.mode=30;break}L=d.lens[d.have-1];G=3+(3&q);q>>>=2;p-=2}else if(17===K){for(J=A+3;J>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}q>>>=A;p-=A;L=0;G=3+(7&q);q>>>=3;p-=3}else{for(J=A+7;J>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}q>>>=A;p-=A;L=0;G=11+(127&q);q>>>=7;p-=7}if(d.have+G>d.nlen+d.ndist){b.msg="invalid bit length repeat";d.mode=30;break}for(;G--;)d.lens[d.have++]=L}}if(30===d.mode)break;if(0===d.lens[256]){b.msg=
"invalid code -- missing end-of-block";d.mode=30;break}if(d.lenbits=9,V={bits:d.lenbits},M=r(1,d.lens,0,d.nlen,d.lencode,0,d.work,V),d.lenbits=V.bits,M){b.msg="invalid literal/lengths set";d.mode=30;break}if(d.distbits=6,d.distcode=d.distdyn,V={bits:d.distbits},M=r(2,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,V),d.distbits=V.bits,M){b.msg="invalid distances set";d.mode=30;break}if(d.mode=20,6===c)break a;case 20:d.mode=21;case 21:if(6<=l&&258<=B){b.next_out=k;b.avail_out=B;b.next_in=h;b.avail_in=l;
d.hold=q;d.bits=p;y(b,O);k=b.next_out;g=b.output;B=b.avail_out;h=b.next_in;f=b.input;l=b.avail_in;q=d.hold;p=d.bits;12===d.mode&&(d.back=-1);break}for(d.back=0;P=d.lencode[q&(1<<d.lenbits)-1],A=P>>>24,J=P>>>16&255,K=65535&P,!(p>=A);){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}if(J&&0===(240&J)){S=A;T=J;for(X=K;P=d.lencode[X+((q&(1<<S+T)-1)>>S)],A=P>>>24,J=P>>>16&255,K=65535&P,!(p>=S+A);){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}q>>>=S;p-=S;d.back+=S}if(q>>>=A,p-=A,d.back+=A,d.length=K,0===J){d.mode=26;
break}if(32&J){d.back=-1;d.mode=12;break}if(64&J){b.msg="invalid literal/length code";d.mode=30;break}d.extra=15&J;d.mode=22;case 22:if(d.extra){for(J=d.extra;J>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}d.length+=q&(1<<d.extra)-1;q>>>=d.extra;p-=d.extra;d.back+=d.extra}d.was=d.length;d.mode=23;case 23:for(;P=d.distcode[q&(1<<d.distbits)-1],A=P>>>24,J=P>>>16&255,K=65535&P,!(p>=A);){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}if(0===(240&J)){S=A;T=J;for(X=K;P=d.distcode[X+((q&(1<<S+T)-1)>>S)],A=P>>>24,
J=P>>>16&255,K=65535&P,!(p>=S+A);){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}q>>>=S;p-=S;d.back+=S}if(q>>>=A,p-=A,d.back+=A,64&J){b.msg="invalid distance code";d.mode=30;break}d.offset=K;d.extra=15&J;d.mode=24;case 24:if(d.extra){for(J=d.extra;J>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}d.offset+=q&(1<<d.extra)-1;q>>>=d.extra;p-=d.extra;d.back+=d.extra}if(d.offset>d.dmax){b.msg="invalid distance too far back";d.mode=30;break}d.mode=25;case 25:if(0===B)break a;if(G=O-B,d.offset>G){if(G=d.offset-G,G>
d.whave&&d.sane){b.msg="invalid distance too far back";d.mode=30;break}G>d.wnext?(G-=d.wnext,aa=d.wsize-G):aa=d.wnext-G;G>d.length&&(G=d.length);J=d.window}else J=g,aa=k-d.offset,G=d.length;G>B&&(G=B);B-=G;d.length-=G;do g[k++]=J[aa++];while(--G);0===d.length&&(d.mode=21);break;case 26:if(0===B)break a;g[k++]=d.length;B--;d.mode=21;break;case 27:if(d.wrap){for(;32>p;){if(0===l)break a;l--;q|=f[h++]<<p;p+=8}if(O-=B,b.total_out+=O,d.total+=O,O&&(b.adler=d.check=d.flags?F(d.check,g,O,k-O):H(d.check,
g,O,k-O)),O=B,(d.flags?q:e(q))!==d.check){b.msg="incorrect data check";d.mode=30;break}p=q=0}d.mode=28;case 28:if(d.wrap&&d.flags){for(;32>p;){if(0===l)break a;l--;q+=f[h++]<<p;p+=8}if(q!==(4294967295&d.total)){b.msg="incorrect length check";d.mode=30;break}p=q=0}d.mode=29;case 29:M=1;break a;case 30:M=-3;break a;case 31:return-4;default:return w}b.next_out=k;b.avail_out=B;b.next_in=h;b.avail_in=l;d.hold=q;d.bits=p;if(h=d.wsize||O!==b.avail_out&&30>d.mode&&(27>d.mode||4!==c)){h=b.output;k=b.next_out;
f=O-b.avail_out;var ca;l=b.state;h=(null===l.window&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new t.Buf8(l.wsize)),f>=l.wsize?(t.arraySet(l.window,h,k-l.wsize,l.wsize,0),l.wnext=0,l.whave=l.wsize):(ca=l.wsize-l.wnext,ca>f&&(ca=f),t.arraySet(l.window,h,k-f,ca,l.wnext),f-=ca,f?(t.arraySet(l.window,h,k-f,f,0),l.wnext=f,l.whave=l.wsize):(l.wnext+=ca,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=ca))),0)}return h?(d.mode=31,-4):(I-=b.avail_in,O-=b.avail_out,b.total_in+=I,b.total_out+=
O,d.total+=O,d.wrap&&O&&(b.adler=d.check=d.flags?F(d.check,g,O,b.next_out-O):H(d.check,g,O,b.next_out-O)),b.data_type=d.bits+(d.last?64:0)+(12===d.mode?128:0)+(20===d.mode||15===d.mode?256:0),(0===I&&0===O||4===c)&&M===u&&(M=-5),M)};d.inflateEnd=function(b){if(!b||!b.state)return w;var c=b.state;return c.window&&(c.window=null),b.state=null,u};d.inflateGetHeader=function(b,c){var d;return b&&b.state?(d=b.state,0===(2&d.wrap)?w:(d.head=c,c.done=!1,u)):w};d.inflateInfo="pako inflate (from Nodeca project)"},
{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(c,b){var d=c("../utils/common"),e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,
25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(b,c,m,v,t,H,F,y){var r,u,w,x,B,I,C,z;x=y.bits;for(var D=0,E=0,Q=0,R=0,N=0,U=0,Y=0,Z=r=0,q=0,p=null,ba=0,O=new d.Buf16(16),U=new d.Buf16(16),G=null,aa=0,D=0;15>=D;D++)O[D]=0;for(E=0;v>E;E++)O[c[m+E]]++;N=x;for(R=15;1<=R&&0===O[R];R--);if(N>R&&(N=R),0===R)return t[H++]=20971520,t[H++]=20971520,y.bits=1,0;for(Q=1;R>Q&&0===O[Q];Q++);Q>N&&(N=Q);for(D=r=1;15>=D;D++)if(r<<=1,r-=O[D],0>r)return-1;if(0<r&&(0===b||1!==R))return-1;U[1]=0;for(D=1;15>D;D++)U[D+
1]=U[D]+O[D];for(E=0;v>E;E++)0!==c[m+E]&&(F[U[c[m+E]]++]=E);if(0===b?(p=G=F,B=19):1===b?(p=e,ba-=257,G=f,aa-=257,B=256):(p=g,G=h,B=-1),q=0,E=0,D=Q,x=H,U=N,Y=0,w=-1,Z=1<<N,v=Z-1,1===b&&852<Z||2===b&&592<Z)return 1;for(var J=0;;){J++;I=D-Y;F[E]<B?(C=0,z=F[E]):F[E]>B?(C=G[aa+F[E]],z=p[ba+F[E]]):(C=96,z=0);r=1<<D-Y;Q=u=1<<U;do u-=r,t[x+(q>>Y)+u]=I<<24|C<<16|z|0;while(0!==u);for(r=1<<D-1;q&r;)r>>=1;if(0!==r?(q&=r-1,q+=r):q=0,E++,0===--O[D]){if(D===R)break;D=c[m+F[E]]}if(D>N&&(q&v)!==w){0===Y&&(Y=N);x+=
Q;U=D-Y;for(r=1<<U;R>U+Y&&(r-=O[U+Y],!(0>=r));)U++,r<<=1;if(Z+=1<<U,1===b&&852<Z||2===b&&592<Z)return 1;w=q&v;t[w]=N<<24|U<<16|x-H|0}}return 0!==q&&(t[x+q]=D-Y<<24|4194304),y.bits=N,0}},{"../utils/common":27}],37:[function(c,b){b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(c,b,d){function e(b){for(var c=b.length;0<=--c;)b[c]=0}function f(b,c){b.pending_buf[b.pending++]=
255&c;b.pending_buf[b.pending++]=c>>>8&255}function g(b,c,d){b.bi_valid>Y-d?(b.bi_buf|=c<<b.bi_valid&65535,f(b,b.bi_buf),b.bi_buf=c>>Y-b.bi_valid,b.bi_valid+=d-Y):(b.bi_buf|=c<<b.bi_valid&65535,b.bi_valid+=d)}function h(b,c,d){g(b,d[2*c],d[2*c+1])}function k(b,c){var d=0;do d|=1&b,b>>>=1,d<<=1;while(0<--c);return d>>>1}function l(b,c,d){var e,f=Array(U+1),g=0;for(e=1;U>=e;e++)f[e]=g=g+d[e-1]<<1;for(d=0;c>=d;d++)e=b[2*d+1],0!==e&&(b[2*d]=k(f[e]++,e))}function m(b){var c;for(c=0;E>c;c++)b.dyn_ltree[2*
c]=0;for(c=0;Q>c;c++)b.dyn_dtree[2*c]=0;for(c=0;R>c;c++)b.bl_tree[2*c]=0;b.dyn_ltree[2*Z]=1;b.opt_len=b.static_len=0;b.last_lit=b.matches=0}function v(b){8<b.bi_valid?f(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf);b.bi_buf=0;b.bi_valid=0}function t(b,c,d,e){var f=2*c,g=2*d;return b[f]<b[g]||b[f]===b[g]&&e[c]<=e[d]}function H(b,c,d){for(var e=b.heap[d],f=d<<1;f<=b.heap_len&&(f<b.heap_len&&t(c,b.heap[f+1],b.heap[f],b.depth)&&f++,!t(c,e,b.heap[f],b.depth));)b.heap[d]=b.heap[f],d=f,
f<<=1;b.heap[d]=e}function F(b,c,d){var e,f,k,l,m=0;if(0!==b.last_lit){do e=b.pending_buf[b.d_buf+2*m]<<8|b.pending_buf[b.d_buf+2*m+1],f=b.pending_buf[b.l_buf+m],m++,0===e?h(b,f,c):(k=T[f],h(b,k+D+1,c),l=O[k],0!==l&&(f-=X[k],g(b,f,l)),e--,k=256>e?S[e]:S[256+(e>>>7)],h(b,k,d),l=G[k],0!==l&&(e-=L[k],g(b,e,l)));while(m<b.last_lit)}h(b,Z,c)}function y(b,c){var d,e,f,g=c.dyn_tree;e=c.stat_desc.static_tree;var h=c.stat_desc.has_stree,k=c.stat_desc.elems,m=-1;b.heap_len=0;b.heap_max=N;for(d=0;k>d;d++)0!==
g[2*d]?(b.heap[++b.heap_len]=m=d,b.depth[d]=0):g[2*d+1]=0;for(;2>b.heap_len;)f=b.heap[++b.heap_len]=2>m?++m:0,g[2*f]=1,b.depth[f]=0,b.opt_len--,h&&(b.static_len-=e[2*f+1]);c.max_code=m;for(d=b.heap_len>>1;1<=d;d--)H(b,g,d);f=k;do d=b.heap[1],b.heap[1]=b.heap[b.heap_len--],H(b,g,1),e=b.heap[1],b.heap[--b.heap_max]=d,b.heap[--b.heap_max]=e,g[2*f]=g[2*d]+g[2*e],b.depth[f]=(b.depth[d]>=b.depth[e]?b.depth[d]:b.depth[e])+1,g[2*d+1]=g[2*e+1]=f,b.heap[1]=f++,H(b,g,1);while(2<=b.heap_len);b.heap[--b.heap_max]=
b.heap[1];var p,q,h=c.dyn_tree,k=c.max_code,r=c.stat_desc.static_tree,t=c.stat_desc.has_stree,v=c.stat_desc.extra_bits,u=c.stat_desc.extra_base,w=c.stat_desc.max_length,x=0;for(e=0;U>=e;e++)b.bl_count[e]=0;h[2*b.heap[b.heap_max]+1]=0;for(d=b.heap_max+1;N>d;d++)f=b.heap[d],e=h[2*h[2*f+1]+1]+1,e>w&&(e=w,x++),h[2*f+1]=e,f>k||(b.bl_count[e]++,p=0,f>=u&&(p=v[f-u]),q=h[2*f],b.opt_len+=q*(e+p),t&&(b.static_len+=q*(r[2*f+1]+p)));if(0!==x){do{for(e=w-1;0===b.bl_count[e];)e--;b.bl_count[e]--;b.bl_count[e+1]+=
2;b.bl_count[w]--;x-=2}while(0<x);for(e=w;0!==e;e--)for(f=b.bl_count[e];0!==f;)p=b.heap[--d],p>k||(h[2*p+1]!==e&&(b.opt_len+=(e-h[2*p+1])*h[2*p],h[2*p+1]=e),f--)}l(g,m,b.bl_count)}function r(b,c,d){var e,f,g=-1,h=c[1],k=0,l=7,m=4;0===h&&(l=138,m=3);c[2*(d+1)+1]=65535;for(e=0;d>=e;e++)f=h,h=c[2*(e+1)+1],++k<l&&f===h||(m>k?b.bl_tree[2*f]+=k:0!==f?(f!==g&&b.bl_tree[2*f]++,b.bl_tree[2*q]++):10>=k?b.bl_tree[2*p]++:b.bl_tree[2*ba]++,k=0,g=f,0===h?(l=138,m=3):f===h?(l=6,m=3):(l=7,m=4))}function u(b,c,d){var e,
f,k=-1,l=c[1],m=0,r=7,t=4;0===l&&(r=138,t=3);for(e=0;d>=e;e++)if(f=l,l=c[2*(e+1)+1],!(++m<r&&f===l)){if(t>m){do h(b,f,b.bl_tree);while(0!==--m)}else 0!==f?(f!==k&&(h(b,f,b.bl_tree),m--),h(b,q,b.bl_tree),g(b,m-3,2)):10>=m?(h(b,p,b.bl_tree),g(b,m-3,3)):(h(b,ba,b.bl_tree),g(b,m-11,7));m=0;k=f;0===l?(r=138,t=3):f===l?(r=6,t=3):(r=7,t=4)}}function w(b){var c,d=4093624447;for(c=0;31>=c;c++,d>>>=1)if(1&d&&0!==b.dyn_ltree[2*c])return I;if(0!==b.dyn_ltree[18]||0!==b.dyn_ltree[20]||0!==b.dyn_ltree[26])return C;
for(c=32;D>c;c++)if(0!==b.dyn_ltree[2*c])return C;return I}function x(b,c,d,e){g(b,(z<<1)+(e?1:0),3);v(b);f(b,d);f(b,~d);B.arraySet(b.pending_buf,b.window,c,d,b.pending);b.pending+=d}var B=c("../utils/common"),I=0,C=1,z=0,D=256,E=D+1+29,Q=30,R=19,N=2*E+1,U=15,Y=16,Z=256,q=16,p=17,ba=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],G=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],aa=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,
13,2,14,1,15],A=Array(2*(E+2));e(A);var K=Array(2*Q);e(K);var S=Array(512);e(S);var T=Array(256);e(T);var X=Array(29);e(X);var L=Array(Q);e(L);var M,V,P,W=function(b,c,d,e,f){this.static_tree=b;this.extra_bits=c;this.extra_base=d;this.elems=e;this.max_length=f;this.has_stree=b&&b.length},da=function(b,c){this.dyn_tree=b;this.max_code=0;this.stat_desc=c},ca=!1;d._tr_init=function(b){if(!ca){var c,d,e,f=Array(U+1);for(e=d=0;28>e;e++)for(X[e]=d,c=0;c<1<<O[e];c++)T[d++]=e;T[d-1]=e;for(e=d=0;16>e;e++)for(L[e]=
d,c=0;c<1<<G[e];c++)S[d++]=e;for(d>>=7;Q>e;e++)for(L[e]=d<<7,c=0;c<1<<G[e]-7;c++)S[256+d++]=e;for(c=0;U>=c;c++)f[c]=0;for(c=0;143>=c;)A[2*c+1]=8,c++,f[8]++;for(;255>=c;)A[2*c+1]=9,c++,f[9]++;for(;279>=c;)A[2*c+1]=7,c++,f[7]++;for(;287>=c;)A[2*c+1]=8,c++,f[8]++;l(A,E+1,f);for(c=0;Q>c;c++)K[2*c+1]=5,K[2*c]=k(c,5);M=new W(A,O,D+1,E,U);V=new W(K,G,0,Q,U);P=new W([],aa,0,R,7);ca=!0}b.l_desc=new da(b.dyn_ltree,M);b.d_desc=new da(b.dyn_dtree,V);b.bl_desc=new da(b.bl_tree,P);b.bi_buf=0;b.bi_valid=0;m(b)};
d._tr_stored_block=x;d._tr_flush_block=function(b,c,d,e){var f,h,k=0;if(0<b.level){2===b.strm.data_type&&(b.strm.data_type=w(b));y(b,b.l_desc);y(b,b.d_desc);r(b,b.dyn_ltree,b.l_desc.max_code);r(b,b.dyn_dtree,b.d_desc.max_code);y(b,b.bl_desc);for(k=R-1;3<=k&&0===b.bl_tree[2*J[k]+1];k--);k=(b.opt_len+=3*(k+1)+14,k);f=b.opt_len+3+7>>>3;h=b.static_len+3+7>>>3;f>=h&&(f=h)}else f=h=d+5;if(f>=d+4&&-1!==c)x(b,c,d,e);else if(4===b.strategy||h===f)g(b,2+(e?1:0),3),F(b,A,K);else{g(b,4+(e?1:0),3);c=b.l_desc.max_code+
1;d=b.d_desc.max_code+1;k+=1;g(b,c-257,5);g(b,d-1,5);g(b,k-4,4);for(f=0;k>f;f++)g(b,b.bl_tree[2*J[f]+1],3);u(b,b.dyn_ltree,c-1);u(b,b.dyn_dtree,d-1);F(b,b.dyn_ltree,b.dyn_dtree)}m(b);e&&v(b)};d._tr_tally=function(b,c,d){return b.pending_buf[b.d_buf+2*b.last_lit]=c>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&c,b.pending_buf[b.l_buf+b.last_lit]=255&d,b.last_lit++,0===c?b.dyn_ltree[2*d]++:(b.matches++,c--,b.dyn_ltree[2*(T[d]+D+1)]++,b.dyn_dtree[2*(256>c?S[c]:S[256+(c>>>7)])]++),b.last_lit===b.lit_bufsize-
1};d._tr_align=function(b){g(b,2,3);h(b,Z,A);16===b.bi_valid?(f(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):8<=b.bi_valid&&(b.pending_buf[b.pending++]=255&b.bi_buf,b.bi_buf>>=8,b.bi_valid-=8)}},{"../utils/common":27}],39:[function(c,b){b.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}]},{},[9])(9)});
var Thrift={Version:"0.9.2",Type:{STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,UTF7:11,STRUCT:12,MAP:13,SET:14,LIST:15,UTF8:16,UTF16:17},MessageType:{CALL:1,REPLY:2,EXCEPTION:3,ONEWAY:4},objectLength:function(a){var c=0,b;for(b in a)a.hasOwnProperty(b)&&c++;return c},inherits:function(a,c,b){function d(){}d.prototype=c.prototype;a.prototype=new d;a.prototype.name=b||""},TException:function(a){this.message=a}};Thrift.inherits(Thrift.TException,Error,"TException");
Thrift.TException.prototype.getMessage=function(){return this.message};Thrift.TApplicationExceptionType={UNKNOWN:0,UNKNOWN_METHOD:1,INVALID_MESSAGE_TYPE:2,WRONG_METHOD_NAME:3,BAD_SEQUENCE_ID:4,MISSING_RESULT:5,INTERNAL_ERROR:6,PROTOCOL_ERROR:7,INVALID_TRANSFORM:8,INVALID_PROTOCOL:9,UNSUPPORTED_CLIENT_TYPE:10};Thrift.TApplicationException=function(a,c){this.message=a;this.code="number"==typeof c?c:0};Thrift.inherits(Thrift.TApplicationException,Thrift.TException,"TApplicationException");
Thrift.TApplicationException.prototype.read=function(a){for(;;){var c=a.readFieldBegin();if(c.ftype==Thrift.Type.STOP)break;switch(c.fid){case 1:c.ftype==Thrift.Type.STRING?(c=a.readString(),this.message=c.value):a.skip(c.ftype);break;case 2:c.ftype==Thrift.Type.I32?(c=a.readI32(),this.code=c.value):a.skip(c.ftype);break;default:a.skip(c.ftype)}a.readFieldEnd()}a.readStructEnd()};
Thrift.TApplicationException.prototype.write=function(a){a.writeStructBegin("TApplicationException");this.message&&(a.writeFieldBegin("message",Thrift.Type.STRING,1),a.writeString(this.getMessage()),a.writeFieldEnd());this.code&&(a.writeFieldBegin("type",Thrift.Type.I32,2),a.writeI32(this.code),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};Thrift.TApplicationException.prototype.getCode=function(){return this.code};
Thrift.Transport=Thrift.TXHRTransport=function(a,c){this.url=a;this.rpos=this.wpos=0;this.useCORS=c&&c.useCORS;this.recv_buf=this.send_buf=""};
Thrift.TXHRTransport.prototype={getXmlHttpRequestObject:function(){try{return new XMLHttpRequest}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}throw"Your browser doesn't support XHR.";},flush:function(a,c){var b=this;if(a&&!c||void 0===this.url||""===this.url)return this.send_buf;var d=this.getXmlHttpRequestObject();if(d.overrideMimeType&&d.overrideMimeType("application/json"),c&&(d.onreadystatechange=function(){return function(){4==
this.readyState&&200==this.status&&(b.setRecvBuffer(this.responseText),c())}}()),d.open("POST",this.url,!!a),d.send(this.send_buf),!a||!c){if(4!=d.readyState)throw"encountered an unknown ajax ready state: "+d.readyState;if(200!=d.status)throw"encountered a unknown request status: "+d.status;this.recv_buf=d.responseText;this.wpos=this.recv_buf_sz=this.recv_buf.length;this.rpos=0}},jqRequest:function(a,c,b,d){if("undefined"==typeof jQuery||"undefined"==typeof jQuery.Deferred)throw"Thrift.js requires jQuery 1.5+ to use asynchronous requests";
var e=this;return jQuery.ajax({url:this.url,data:c,type:"POST",cache:!1,contentType:"application/json",dataType:"text thrift",converters:{"text thrift":function(b){e.setRecvBuffer(b);return d.call(a)}},context:a,success:jQuery.makeArray(b).pop()})},setRecvBuffer:function(a){this.recv_buf=a;this.wpos=this.recv_buf_sz=this.recv_buf.length;this.rpos=0},isOpen:function(){return!0},open:function(){},close:function(){},read:function(a){var c=this.wpos-this.rpos;if(0===c)return"";var b=a;a>c&&(b=c);a=this.read_buf.substr(this.rpos,
b);return this.rpos+=b,a},readAll:function(){return this.recv_buf},write:function(a){this.send_buf=a},getSendBuffer:function(){return this.send_buf}};Thrift.TWebSocketTransport=function(a){this.__reset(a)};
Thrift.TWebSocketTransport.prototype={__reset:function(a){this.url=a;this.socket=null;this.callbacks=[];this.send_pending=[];this.recv_buf=this.send_buf="";this.rb_rpos=this.rb_wpos=0},flush:function(a,c){var b=this;this.isOpen()?(this.socket.send(this.send_buf),this.callbacks.push(function(){return function(a){b.setRecvBuffer(a);c()}}())):this.send_pending.push({buf:this.send_buf,cb:c})},__onOpen:function(){var a=this;0<this.send_pending.length&&(this.send_pending.forEach(function(c){this.socket.send(c.buf);
this.callbacks.push(function(){var b=c.cb;return function(c){a.setRecvBuffer(c);b()}}())}),this.send_pending=[])},__onClose:function(){this.__reset(this.url)},__onMessage:function(a){this.callbacks.length&&this.callbacks.shift()(a.data)},__onError:function(a){console.log("Thrift WebSocket Error: "+a.toString());this.socket.close()},setRecvBuffer:function(a){this.recv_buf=a;this.wpos=this.recv_buf_sz=this.recv_buf.length;this.rpos=0},isOpen:function(){return this.socket&&this.socket.readyState==this.socket.OPEN},
open:function(){this.socket&&this.socket.readyState!=this.socket.CLOSED||(this.socket=new WebSocket(this.url),this.socket.onopen=this.__onOpen.bind(this),this.socket.onmessage=this.__onMessage.bind(this),this.socket.onerror=this.__onError.bind(this),this.socket.onclose=this.__onClose.bind(this))},close:function(){this.socket.close()},read:function(a){var c=this.wpos-this.rpos;if(0===c)return"";var b=a;a>c&&(b=c);a=this.read_buf.substr(this.rpos,b);return this.rpos+=b,a},readAll:function(){return this.recv_buf},
write:function(a){this.send_buf=a},getSendBuffer:function(){return this.send_buf}};Thrift.TJSONProtocol=Thrift.Protocol=function(a){this.transport=a};Thrift.Protocol.Type={};Thrift.Protocol.Type[Thrift.Type.BOOL]='"tf"';Thrift.Protocol.Type[Thrift.Type.BYTE]='"i8"';Thrift.Protocol.Type[Thrift.Type.I16]='"i16"';Thrift.Protocol.Type[Thrift.Type.I32]='"i32"';Thrift.Protocol.Type[Thrift.Type.I64]='"i64"';Thrift.Protocol.Type[Thrift.Type.DOUBLE]='"dbl"';Thrift.Protocol.Type[Thrift.Type.STRUCT]='"rec"';
Thrift.Protocol.Type[Thrift.Type.STRING]='"str"';Thrift.Protocol.Type[Thrift.Type.MAP]='"map"';Thrift.Protocol.Type[Thrift.Type.LIST]='"lst"';Thrift.Protocol.Type[Thrift.Type.SET]='"set"';Thrift.Protocol.RType={};Thrift.Protocol.RType.tf=Thrift.Type.BOOL;Thrift.Protocol.RType.i8=Thrift.Type.BYTE;Thrift.Protocol.RType.i16=Thrift.Type.I16;Thrift.Protocol.RType.i32=Thrift.Type.I32;Thrift.Protocol.RType.i64=Thrift.Type.I64;Thrift.Protocol.RType.dbl=Thrift.Type.DOUBLE;Thrift.Protocol.RType.rec=Thrift.Type.STRUCT;
Thrift.Protocol.RType.str=Thrift.Type.STRING;Thrift.Protocol.RType.map=Thrift.Type.MAP;Thrift.Protocol.RType.lst=Thrift.Type.LIST;Thrift.Protocol.RType.set=Thrift.Type.SET;Thrift.Protocol.Version=1;
Thrift.Protocol.prototype={getTransport:function(){return this.transport},writeMessageBegin:function(a,c,b){this.tstack=[];this.tpos=[];this.tstack.push([Thrift.Protocol.Version,'"'+a+'"',c,b])},writeMessageEnd:function(){var a=this.tstack.pop();this.wobj=this.tstack.pop();this.wobj.push(a);this.wbuf="["+this.wobj.join(",")+"]";this.transport.write(this.wbuf)},writeStructBegin:function(){this.tpos.push(this.tstack.length);this.tstack.push({})},writeStructEnd:function(){var a=this.tpos.pop(),c=this.tstack[a],
b="{",d=!0,e;for(e in c)d?d=!1:b+=",",b+=e+":"+c[e];this.tstack[a]=b+"}"},writeFieldBegin:function(a,c,b){this.tpos.push(this.tstack.length);this.tstack.push({fieldId:'"'+b+'"',fieldType:Thrift.Protocol.Type[c]})},writeFieldEnd:function(){var a=this.tstack.pop(),c=this.tstack.pop();this.tstack[this.tstack.length-1][c.fieldId]="{"+c.fieldType+":"+a+"}";this.tpos.pop()},writeFieldStop:function(){},writeMapBegin:function(a,c){this.tpos.push(this.tstack.length);this.tstack.push([Thrift.Protocol.Type[a],
Thrift.Protocol.Type[c],0])},writeMapEnd:function(){var a=this.tpos.pop();if(a!=this.tstack.length){0!==(this.tstack.length-a-1)%2&&this.tstack.push("");this.tstack[a][this.tstack[a].length-1]=(this.tstack.length-a-1)/2;for(var c="}",b=!0;this.tstack.length>a+1;){var d=this.tstack.pop(),e=this.tstack.pop();b?b=!1:c=","+c;isNaN(e)||(e='"'+e+'"');c=e+":"+d+c}this.tstack[a].push("{"+c);this.tstack[a]="["+this.tstack[a].join(",")+"]"}},writeListBegin:function(a,c){this.tpos.push(this.tstack.length);this.tstack.push([Thrift.Protocol.Type[a],
c])},writeListEnd:function(){for(var a=this.tpos.pop();this.tstack.length>a+1;){var c=this.tstack[a+1];this.tstack.splice(a+1,1);this.tstack[a].push(c)}this.tstack[a]="["+this.tstack[a].join(",")+"]"},writeSetBegin:function(a,c){this.tpos.push(this.tstack.length);this.tstack.push([Thrift.Protocol.Type[a],c])},writeSetEnd:function(){for(var a=this.tpos.pop();this.tstack.length>a+1;){var c=this.tstack[a+1];this.tstack.splice(a+1,1);this.tstack[a].push(c)}this.tstack[a]="["+this.tstack[a].join(",")+
"]"},writeBool:function(a){this.tstack.push(a?1:0)},writeByte:function(a){this.tstack.push(a)},writeI16:function(a){this.tstack.push(a)},writeI32:function(a){this.tstack.push(a)},writeI64:function(a){this.tstack.push(a)},writeDouble:function(a){this.tstack.push(a)},writeString:function(a){if(null===a)this.tstack.push(null);else{for(var c="",b=0;b<a.length;b++)var d=a.charAt(b),c=c+('"'===d?'\\"':"\\"===d?"\\\\":"\b"===d?"\\b":"\f"===d?"\\f":"\n"===d?"\\n":"\r"===d?"\\r":"\t"===d?"\\t":d);this.tstack.push('"'+
c+'"')}},writeBinary:function(a){this.writeString(a)},readMessageBegin:function(){this.rstack=[];this.rpos=[];this.robj="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse(this.transport.readAll()):"undefined"!=typeof jQuery?jQuery.parseJSON(this.transport.readAll()):eval(this.transport.readAll());var a={},c=this.robj.shift();if(c!=Thrift.Protocol.Version)throw"Wrong thrift protocol version: "+c;return a.fname=this.robj.shift(),a.mtype=this.robj.shift(),a.rseqid=this.robj.shift(),this.rstack.push(this.robj.shift()),
a},readMessageEnd:function(){},readStructBegin:function(){var a={};return a.fname="",this.rstack[this.rstack.length-1]instanceof Array&&this.rstack.push(this.rstack[this.rstack.length-1].shift()),a},readStructEnd:function(){this.rstack[this.rstack.length-2]instanceof Array&&this.rstack.pop()},readFieldBegin:function(){var a={},c=-1,b=Thrift.Type.STOP,d;for(d in this.rstack[this.rstack.length-1])if(null!==d){c=parseInt(d,10);this.rpos.push(this.rstack.length);d=this.rstack[this.rstack.length-1][c];
delete this.rstack[this.rstack.length-1][c];this.rstack.push(d);break}if(-1!=c)for(var e in this.rstack[this.rstack.length-1])null!==Thrift.Protocol.RType[e]&&(b=Thrift.Protocol.RType[e],this.rstack[this.rstack.length-1]=this.rstack[this.rstack.length-1][e]);return a.fname="",a.ftype=b,a.fid=c,a},readFieldEnd:function(){for(var a=this.rpos.pop();this.rstack.length>a;)this.rstack.pop()},readMapBegin:function(){var a=this.rstack.pop(),c=a.shift();c instanceof Array&&(this.rstack.push(a),a=c,c=a.shift());
var b={};return b.ktype=Thrift.Protocol.RType[c],b.vtype=Thrift.Protocol.RType[a.shift()],b.size=a.shift(),this.rpos.push(this.rstack.length),this.rstack.push(a.shift()),b},readMapEnd:function(){this.readFieldEnd()},readListBegin:function(){var a=this.rstack[this.rstack.length-1],c={};return c.etype=Thrift.Protocol.RType[a.shift()],c.size=a.shift(),this.rpos.push(this.rstack.length),this.rstack.push(a),c},readListEnd:function(){this.readFieldEnd()},readSetBegin:function(a,c){return this.readListBegin(a,
c)},readSetEnd:function(){return this.readListEnd()},readBool:function(){var a=this.readI32();return a.value=null!==a&&"1"==a.value?!0:!1,a},readByte:function(){return this.readI32()},readI16:function(){return this.readI32()},readI32:function(a){void 0===a&&(a=this.rstack[this.rstack.length-1]);var c={};if(a instanceof Array)c.value=0===a.length?void 0:a.shift();else if(a instanceof Object)for(var b in a){if(null!==b){this.rstack.push(a[b]);delete a[b];c.value=b;break}}else c.value=a,this.rstack.pop();
return c},readI64:function(){return this.readI32()},readDouble:function(){return this.readI32()},readString:function(){return this.readI32()},readBinary:function(){return this.readString()},skip:function(a){var c;switch(a){case Thrift.Type.STOP:return null;case Thrift.Type.BOOL:return this.readBool();case Thrift.Type.BYTE:return this.readByte();case Thrift.Type.I16:return this.readI16();case Thrift.Type.I32:return this.readI32();case Thrift.Type.I64:return this.readI64();case Thrift.Type.DOUBLE:return this.readDouble();
case Thrift.Type.STRING:return this.readString();case Thrift.Type.STRUCT:for(this.readStructBegin();c=this.readFieldBegin(),c.ftype!=Thrift.Type.STOP;)this.skip(c.ftype),this.readFieldEnd();return this.readStructEnd(),null;case Thrift.Type.MAP:c=this.readMapBegin();for(a=0;a<c.size;a++)0<a&&this.rstack.length>this.rpos[this.rpos.length-1]+1&&this.rstack.pop(),this.skip(c.ktype),this.skip(c.vtype);return this.readMapEnd(),null;case Thrift.Type.SET:c=this.readSetBegin();for(a=0;a<c.size;a++)this.skip(c.etype);
return this.readSetEnd(),null;case Thrift.Type.LIST:c=this.readListBegin();for(a=0;a<c.size;a++)this.skip(c.etype);return this.readListEnd(),null}}};Thrift.MultiplexProtocol=function(a,c,b,d){Thrift.Protocol.call(this,c,b,d);this.serviceName=a};Thrift.inherits(Thrift.MultiplexProtocol,Thrift.Protocol,"multiplexProtocol");
Thrift.MultiplexProtocol.prototype.writeMessageBegin=function(a,c,b){c===Thrift.MessageType.CALL||c===Thrift.MessageType.ONEWAY?Thrift.Protocol.prototype.writeMessageBegin.call(this,this.serviceName+":"+a,c,b):Thrift.Protocol.prototype.writeMessageBegin.call(this,a,c,b)};Thrift.Multiplexer=function(){this.seqid=0};
Thrift.Multiplexer.prototype.createClient=function(a,c,b){c.Client&&(c=c.Client);var d=this;c.prototype.new_seqid=function(){return d.seqid+=1,d.seqid};return new c(new Thrift.MultiplexProtocol(a,b))};var Differencer=function(){this.dmp=new diff_match_patch};
Differencer.prototype.patchesFromStrings=function(a,c){var b=this.dmp.diff_main(a,c);this.dmp.diff_cleanupSemantic(b);for(var b=this.dmp.patch_make(b),d=[],e=0;e<b.length;e++){var f=b[e],g=new Patch;g.diffs=[];g.from_span=new Span;g.from_span.from=f.start1;g.from_span.length=f.length1;g.to_span=new Span;g.to_span.from=f.start2;g.to_span.length=f.length2;for(var h=0;h<f.diffs.length;h++){var k=f.diffs[h],l=new Diff;k[0]==DIFF_INSERT?l.diff_type=DIFF_TYPE_INSERT:k[0]==DIFF_DELETE?l.diff_type=DIFF_TYPE_DELETE:
k[0]==DIFF_EQUAL&&(l.diff_type=DIFF_TYPE_EQUAL);l.text=k[1];g.diffs.push(l)}d.push(g)}return d};
Differencer.prototype.applyPatches=function(a,c){for(var b=[],d=0;d<c.length;d++){var e=c[d],f=new diff_match_patch.patch_obj;f.start1=e.from_span.from;f.length1=e.from_span.length;f.start2=e.to_span.from;f.length2=e.to_span.length;for(var g=0;g<e.diffs.length;g++){var h=e.diffs[g];h.diff_type==DIFF_TYPE_INSERT?f.diffs.push([DIFF_INSERT,h.text]):h.diff_type==DIFF_TYPE_DELETE?f.diffs.push([DIFF_DELETE,h.text]):h.diff_type==DIFF_TYPE_EQUAL&&f.diffs.push([DIFF_EQUAL,h.text])}b.push(f)}return this.dmp.patch_apply(b,
a)[0]};Billet_SyncAndExec_args=function(a){this.shell_command=this.repo_header=this.token=null;a&&(void 0!==a.token&&(this.token=a.token),void 0!==a.repo_header&&(this.repo_header=a.repo_header),void 0!==a.shell_command&&(this.shell_command=a.shell_command))};Billet_SyncAndExec_args.prototype={};
Billet_SyncAndExec_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.token=new Token,this.token.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRUCT?(this.repo_header=new RepoHeader,this.repo_header.read(a)):a.skip(b);break;case 3:b==Thrift.Type.STRING?this.shell_command=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Billet_SyncAndExec_args.prototype.write=function(a){a.writeStructBegin("Billet_SyncAndExec_args");null!==this.token&&void 0!==this.token&&(a.writeFieldBegin("token",Thrift.Type.STRUCT,1),this.token.write(a),a.writeFieldEnd());null!==this.repo_header&&void 0!==this.repo_header&&(a.writeFieldBegin("repo_header",Thrift.Type.STRUCT,2),this.repo_header.write(a),a.writeFieldEnd());null!==this.shell_command&&void 0!==this.shell_command&&(a.writeFieldBegin("shell_command",Thrift.Type.STRING,3),a.writeString(this.shell_command),
a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};Billet_SyncAndExec_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Billet_SyncAndExec_result.prototype={};
Billet_SyncAndExec_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new Cord,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Billet_SyncAndExec_result.prototype.write=function(a){a.writeStructBegin("Billet_SyncAndExec_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Billet_TerminateSession_args=function(a){this.token=null;a&&void 0!==a.token&&(this.token=a.token)};Billet_TerminateSession_args.prototype={};Billet_TerminateSession_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.token=new Token,this.token.read(a)):a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Billet_TerminateSession_args.prototype.write=function(a){a.writeStructBegin("Billet_TerminateSession_args");null!==this.token&&void 0!==this.token&&(a.writeFieldBegin("token",Thrift.Type.STRUCT,1),this.token.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};Billet_TerminateSession_result=function(a){this.operation_failure=null;a instanceof OperationFailure?this.operation_failure=a:a&&void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure)};
Billet_TerminateSession_result.prototype={};Billet_TerminateSession_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Billet_TerminateSession_result.prototype.write=function(a){a.writeStructBegin("Billet_TerminateSession_result");null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};Billet_GetSessionStatus_args=function(a){this.token=null;a&&void 0!==a.token&&(this.token=a.token)};Billet_GetSessionStatus_args.prototype={};
Billet_GetSessionStatus_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.token=new Token,this.token.read(a)):a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Billet_GetSessionStatus_args.prototype.write=function(a){a.writeStructBegin("Billet_GetSessionStatus_args");null!==this.token&&void 0!==this.token&&(a.writeFieldBegin("token",Thrift.Type.STRUCT,1),this.token.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Billet_GetSessionStatus_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Billet_GetSessionStatus_result.prototype={};
Billet_GetSessionStatus_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new SessionStatus,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Billet_GetSessionStatus_result.prototype.write=function(a){a.writeStructBegin("Billet_GetSessionStatus_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Billet_ClangFormat_args=function(a){this.source=null;a&&void 0!==a.source&&(this.source=a.source)};Billet_ClangFormat_args.prototype={};Billet_ClangFormat_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.source=a.readString().value:a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Billet_ClangFormat_args.prototype.write=function(a){a.writeStructBegin("Billet_ClangFormat_args");null!==this.source&&void 0!==this.source&&(a.writeFieldBegin("source",Thrift.Type.STRING,1),a.writeString(this.source),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Billet_ClangFormat_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Billet_ClangFormat_result.prototype={};
Billet_ClangFormat_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRING?this.success=a.readString().value:a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Billet_ClangFormat_result.prototype.write=function(a){a.writeStructBegin("Billet_ClangFormat_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRING,0),a.writeString(this.success),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
BilletClient=function(a,c){this.input=a;this.output=c?c:a;this.seqid=0};BilletClient.prototype={};BilletClient.prototype.SyncAndExec=function(a,c,b,d){if(void 0===d)return this.send_SyncAndExec(a,c,b),this.recv_SyncAndExec();var e=this.send_SyncAndExec(a,c,b,!0);return this.output.getTransport().jqRequest(this,e,arguments,this.recv_SyncAndExec)};
BilletClient.prototype.send_SyncAndExec=function(a,c,b,d){this.output.writeMessageBegin("SyncAndExec",Thrift.MessageType.CALL,this.seqid);var e=new Billet_SyncAndExec_args;e.token=a;e.repo_header=c;e.shell_command=b;e.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(d)};
BilletClient.prototype.recv_SyncAndExec=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Billet_SyncAndExec_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"SyncAndExec failed: unknown result";};
BilletClient.prototype.TerminateSession=function(a,c){if(void 0===c)this.send_TerminateSession(a),this.recv_TerminateSession();else{var b=this.send_TerminateSession(a,!0);return this.output.getTransport().jqRequest(this,b,arguments,this.recv_TerminateSession)}};
BilletClient.prototype.send_TerminateSession=function(a,c){this.output.writeMessageBegin("TerminateSession",Thrift.MessageType.CALL,this.seqid);var b=new Billet_TerminateSession_args;b.token=a;b.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(c)};
BilletClient.prototype.recv_TerminateSession=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Billet_TerminateSession_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;};
BilletClient.prototype.GetSessionStatus=function(a,c){if(void 0===c)return this.send_GetSessionStatus(a),this.recv_GetSessionStatus();var b=this.send_GetSessionStatus(a,!0);return this.output.getTransport().jqRequest(this,b,arguments,this.recv_GetSessionStatus)};
BilletClient.prototype.send_GetSessionStatus=function(a,c){this.output.writeMessageBegin("GetSessionStatus",Thrift.MessageType.CALL,this.seqid);var b=new Billet_GetSessionStatus_args;b.token=a;b.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(c)};
BilletClient.prototype.recv_GetSessionStatus=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Billet_GetSessionStatus_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"GetSessionStatus failed: unknown result";};
BilletClient.prototype.ClangFormat=function(a,c){if(void 0===c)return this.send_ClangFormat(a),this.recv_ClangFormat();var b=this.send_ClangFormat(a,!0);return this.output.getTransport().jqRequest(this,b,arguments,this.recv_ClangFormat)};BilletClient.prototype.send_ClangFormat=function(a,c){this.output.writeMessageBegin("ClangFormat",Thrift.MessageType.CALL,this.seqid);var b=new Billet_ClangFormat_args;b.source=a;b.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(c)};
BilletClient.prototype.recv_ClangFormat=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Billet_ClangFormat_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"ClangFormat failed: unknown result";};
SessionStatus=function(a){this.current_or_last_cord=this.is_running=null;a&&(void 0!==a.is_running&&(this.is_running=a.is_running),void 0!==a.current_or_last_cord&&(this.current_or_last_cord=a.current_or_last_cord))};SessionStatus.prototype={};
SessionStatus.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.BOOL?this.is_running=a.readBool().value:a.skip(b);break;case 2:b==Thrift.Type.STRUCT?(this.current_or_last_cord=new Cord,this.current_or_last_cord.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
SessionStatus.prototype.write=function(a){a.writeStructBegin("SessionStatus");null!==this.is_running&&void 0!==this.is_running&&(a.writeFieldBegin("is_running",Thrift.Type.BOOL,1),a.writeBool(this.is_running),a.writeFieldEnd());null!==this.current_or_last_cord&&void 0!==this.current_or_last_cord&&(a.writeFieldBegin("current_or_last_cord",Thrift.Type.STRUCT,2),this.current_or_last_cord.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
SessionBusy=function(a){this.session_busy=!0;a&&void 0!==a.session_busy&&(this.session_busy=a.session_busy)};Thrift.inherits(SessionBusy,Thrift.TException);SessionBusy.prototype.name="SessionBusy";SessionBusy.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.BOOL?this.session_busy=a.readBool().value:a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
SessionBusy.prototype.write=function(a){a.writeStructBegin("SessionBusy");null!==this.session_busy&&void 0!==this.session_busy&&(a.writeFieldBegin("session_busy",Thrift.Type.BOOL,1),a.writeBool(this.session_busy),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};OperationFailure=function(a){this.user_message=null;a&&void 0!==a.user_message&&(this.user_message=a.user_message)};Thrift.inherits(OperationFailure,Thrift.TException);OperationFailure.prototype.name="OperationFailure";
OperationFailure.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.user_message=a.readString().value:a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
OperationFailure.prototype.write=function(a){a.writeStructBegin("OperationFailure");null!==this.user_message&&void 0!==this.user_message&&(a.writeFieldBegin("user_message",Thrift.Type.STRING,1),a.writeString(this.user_message),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Blaze_ProcessBlazeRequest_args=function(a){this.args_json=this.command_name=this.token=null;a&&(void 0!==a.token&&(this.token=a.token),void 0!==a.command_name&&(this.command_name=a.command_name),void 0!==a.args_json&&(this.args_json=a.args_json))};Blaze_ProcessBlazeRequest_args.prototype={};
Blaze_ProcessBlazeRequest_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.token=new Token,this.token.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRING?this.command_name=a.readString().value:a.skip(b);break;case 3:if(b==Thrift.Type.LIST){c=0;this.args_json=[];c=a.readListBegin().size;for(b=0;b<c;++b){var d=null,d=a.readString().value;this.args_json.push(d)}a.readListEnd()}else a.skip(b);
break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Blaze_ProcessBlazeRequest_args.prototype.write=function(a){a.writeStructBegin("Blaze_ProcessBlazeRequest_args");null!==this.token&&void 0!==this.token&&(a.writeFieldBegin("token",Thrift.Type.STRUCT,1),this.token.write(a),a.writeFieldEnd());null!==this.command_name&&void 0!==this.command_name&&(a.writeFieldBegin("command_name",Thrift.Type.STRING,2),a.writeString(this.command_name),a.writeFieldEnd());if(null!==this.args_json&&void 0!==this.args_json){a.writeFieldBegin("args_json",Thrift.Type.LIST,3);
a.writeListBegin(Thrift.Type.STRING,this.args_json.length);for(var c in this.args_json)this.args_json.hasOwnProperty(c)&&(c=this.args_json[c],a.writeString(c));a.writeListEnd();a.writeFieldEnd()}a.writeFieldStop();a.writeStructEnd()};Blaze_ProcessBlazeRequest_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};
Blaze_ProcessBlazeRequest_result.prototype={};Blaze_ProcessBlazeRequest_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRING?this.success=a.readString().value:a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Blaze_ProcessBlazeRequest_result.prototype.write=function(a){a.writeStructBegin("Blaze_ProcessBlazeRequest_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRING,0),a.writeString(this.success),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Blaze_GetMinecraftAccount_args=function(a){this.token=null;a&&void 0!==a.token&&(this.token=a.token)};Blaze_GetMinecraftAccount_args.prototype={};Blaze_GetMinecraftAccount_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.token=new Token,this.token.read(a)):a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Blaze_GetMinecraftAccount_args.prototype.write=function(a){a.writeStructBegin("Blaze_GetMinecraftAccount_args");null!==this.token&&void 0!==this.token&&(a.writeFieldBegin("token",Thrift.Type.STRUCT,1),this.token.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Blaze_GetMinecraftAccount_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Blaze_GetMinecraftAccount_result.prototype={};
Blaze_GetMinecraftAccount_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new MinecraftAccount,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Blaze_GetMinecraftAccount_result.prototype.write=function(a){a.writeStructBegin("Blaze_GetMinecraftAccount_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Blaze_SetMinecraftAccount_args=function(a){this.minecraft_account=this.token=null;a&&(void 0!==a.token&&(this.token=a.token),void 0!==a.minecraft_account&&(this.minecraft_account=a.minecraft_account))};Blaze_SetMinecraftAccount_args.prototype={};
Blaze_SetMinecraftAccount_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.token=new Token,this.token.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRUCT?(this.minecraft_account=new MinecraftAccount,this.minecraft_account.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Blaze_SetMinecraftAccount_args.prototype.write=function(a){a.writeStructBegin("Blaze_SetMinecraftAccount_args");null!==this.token&&void 0!==this.token&&(a.writeFieldBegin("token",Thrift.Type.STRUCT,1),this.token.write(a),a.writeFieldEnd());null!==this.minecraft_account&&void 0!==this.minecraft_account&&(a.writeFieldBegin("minecraft_account",Thrift.Type.STRUCT,2),this.minecraft_account.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Blaze_SetMinecraftAccount_result=function(a){this.operation_failure=null;a instanceof OperationFailure?this.operation_failure=a:a&&void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure)};Blaze_SetMinecraftAccount_result.prototype={};
Blaze_SetMinecraftAccount_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Blaze_SetMinecraftAccount_result.prototype.write=function(a){a.writeStructBegin("Blaze_SetMinecraftAccount_result");null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};BlazeClient=function(a,c){this.input=a;this.output=c?c:a;this.seqid=0};BlazeClient.prototype={};
BlazeClient.prototype.ProcessBlazeRequest=function(a,c,b,d){if(void 0===d)return this.send_ProcessBlazeRequest(a,c,b),this.recv_ProcessBlazeRequest();var e=this.send_ProcessBlazeRequest(a,c,b,!0);return this.output.getTransport().jqRequest(this,e,arguments,this.recv_ProcessBlazeRequest)};
BlazeClient.prototype.send_ProcessBlazeRequest=function(a,c,b,d){this.output.writeMessageBegin("ProcessBlazeRequest",Thrift.MessageType.CALL,this.seqid);var e=new Blaze_ProcessBlazeRequest_args;e.token=a;e.command_name=c;e.args_json=b;e.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(d)};
BlazeClient.prototype.recv_ProcessBlazeRequest=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Blaze_ProcessBlazeRequest_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"ProcessBlazeRequest failed: unknown result";};
BlazeClient.prototype.GetMinecraftAccount=function(a,c){if(void 0===c)return this.send_GetMinecraftAccount(a),this.recv_GetMinecraftAccount();var b=this.send_GetMinecraftAccount(a,!0);return this.output.getTransport().jqRequest(this,b,arguments,this.recv_GetMinecraftAccount)};
BlazeClient.prototype.send_GetMinecraftAccount=function(a,c){this.output.writeMessageBegin("GetMinecraftAccount",Thrift.MessageType.CALL,this.seqid);var b=new Blaze_GetMinecraftAccount_args;b.token=a;b.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(c)};
BlazeClient.prototype.recv_GetMinecraftAccount=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Blaze_GetMinecraftAccount_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"GetMinecraftAccount failed: unknown result";};
BlazeClient.prototype.SetMinecraftAccount=function(a,c,b){if(void 0===b)this.send_SetMinecraftAccount(a,c),this.recv_SetMinecraftAccount();else{var d=this.send_SetMinecraftAccount(a,c,!0);return this.output.getTransport().jqRequest(this,d,arguments,this.recv_SetMinecraftAccount)}};
BlazeClient.prototype.send_SetMinecraftAccount=function(a,c,b){this.output.writeMessageBegin("SetMinecraftAccount",Thrift.MessageType.CALL,this.seqid);var d=new Blaze_SetMinecraftAccount_args;d.token=a;d.minecraft_account=c;d.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(b)};
BlazeClient.prototype.recv_SetMinecraftAccount=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Blaze_SetMinecraftAccount_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;};
MinecraftAccount=function(a){this.minecraft_username=this.user_uuid=null;a&&(void 0!==a.user_uuid&&(this.user_uuid=a.user_uuid),void 0!==a.minecraft_username&&(this.minecraft_username=a.minecraft_username))};MinecraftAccount.prototype={};
MinecraftAccount.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.user_uuid=a.readString().value:a.skip(b);break;case 2:b==Thrift.Type.STRING?this.minecraft_username=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
MinecraftAccount.prototype.write=function(a){a.writeStructBegin("MinecraftAccount");null!==this.user_uuid&&void 0!==this.user_uuid&&(a.writeFieldBegin("user_uuid",Thrift.Type.STRING,1),a.writeString(this.user_uuid),a.writeFieldEnd());null!==this.minecraft_username&&void 0!==this.minecraft_username&&(a.writeFieldBegin("minecraft_username",Thrift.Type.STRING,2),a.writeString(this.minecraft_username),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
BlazeRequestWrapper=function(a){this.args_json=this.command_name=this.minecraft_username=this.user_uuid=null;a&&(void 0!==a.user_uuid&&(this.user_uuid=a.user_uuid),void 0!==a.minecraft_username&&(this.minecraft_username=a.minecraft_username),void 0!==a.command_name&&(this.command_name=a.command_name),void 0!==a.args_json&&(this.args_json=a.args_json))};BlazeRequestWrapper.prototype={};
BlazeRequestWrapper.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.user_uuid=a.readString().value:a.skip(b);break;case 2:b==Thrift.Type.STRING?this.minecraft_username=a.readString().value:a.skip(b);break;case 3:b==Thrift.Type.STRING?this.command_name=a.readString().value:a.skip(b);break;case 4:if(b==Thrift.Type.LIST){c=0;this.args_json=[];c=a.readListBegin().size;for(b=0;b<c;++b){var d=
null,d=a.readString().value;this.args_json.push(d)}a.readListEnd()}else a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
BlazeRequestWrapper.prototype.write=function(a){a.writeStructBegin("BlazeRequestWrapper");null!==this.user_uuid&&void 0!==this.user_uuid&&(a.writeFieldBegin("user_uuid",Thrift.Type.STRING,1),a.writeString(this.user_uuid),a.writeFieldEnd());null!==this.minecraft_username&&void 0!==this.minecraft_username&&(a.writeFieldBegin("minecraft_username",Thrift.Type.STRING,2),a.writeString(this.minecraft_username),a.writeFieldEnd());null!==this.command_name&&void 0!==this.command_name&&(a.writeFieldBegin("command_name",
Thrift.Type.STRING,3),a.writeString(this.command_name),a.writeFieldEnd());if(null!==this.args_json&&void 0!==this.args_json){a.writeFieldBegin("args_json",Thrift.Type.LIST,4);a.writeListBegin(Thrift.Type.STRING,this.args_json.length);for(var c in this.args_json)this.args_json.hasOwnProperty(c)&&(c=this.args_json[c],a.writeString(c));a.writeListEnd();a.writeFieldEnd()}a.writeFieldStop();a.writeStructEnd()};
BlazeResponseWrapper=function(a){this.json=this.is_exception=null;a&&(void 0!==a.is_exception&&(this.is_exception=a.is_exception),void 0!==a.json&&(this.json=a.json))};BlazeResponseWrapper.prototype={};
BlazeResponseWrapper.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.BOOL?this.is_exception=a.readBool().value:a.skip(b);break;case 2:b==Thrift.Type.STRING?this.json=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
BlazeResponseWrapper.prototype.write=function(a){a.writeStructBegin("BlazeResponseWrapper");null!==this.is_exception&&void 0!==this.is_exception&&(a.writeFieldBegin("is_exception",Thrift.Type.BOOL,1),a.writeBool(this.is_exception),a.writeFieldEnd());null!==this.json&&void 0!==this.json&&(a.writeFieldBegin("json",Thrift.Type.STRING,2),a.writeString(this.json),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
OperationFailure=function(a){this.user_message=null;a&&void 0!==a.user_message&&(this.user_message=a.user_message)};Thrift.inherits(OperationFailure,Thrift.TException);OperationFailure.prototype.name="OperationFailure";OperationFailure.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.user_message=a.readString().value:a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
OperationFailure.prototype.write=function(a){a.writeStructBegin("OperationFailure");null!==this.user_message&&void 0!==this.user_message&&(a.writeFieldBegin("user_message",Thrift.Type.STRING,1),a.writeString(this.user_message),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};BlazeCommandProcessor_Process_args=function(a){this.blaze_request=null;a&&void 0!==a.blaze_request&&(this.blaze_request=a.blaze_request)};BlazeCommandProcessor_Process_args.prototype={};
BlazeCommandProcessor_Process_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.blaze_request=new BlazeRequestWrapper,this.blaze_request.read(a)):a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
BlazeCommandProcessor_Process_args.prototype.write=function(a){a.writeStructBegin("BlazeCommandProcessor_Process_args");null!==this.blaze_request&&void 0!==this.blaze_request&&(a.writeFieldBegin("blaze_request",Thrift.Type.STRUCT,1),this.blaze_request.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
BlazeCommandProcessor_Process_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};BlazeCommandProcessor_Process_result.prototype={};
BlazeCommandProcessor_Process_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new BlazeResponseWrapper,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
BlazeCommandProcessor_Process_result.prototype.write=function(a){a.writeStructBegin("BlazeCommandProcessor_Process_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
BlazeCommandProcessorClient=function(a,c){this.input=a;this.output=c?c:a;this.seqid=0};BlazeCommandProcessorClient.prototype={};BlazeCommandProcessorClient.prototype.Process=function(a,c){if(void 0===c)return this.send_Process(a),this.recv_Process();var b=this.send_Process(a,!0);return this.output.getTransport().jqRequest(this,b,arguments,this.recv_Process)};
BlazeCommandProcessorClient.prototype.send_Process=function(a,c){this.output.writeMessageBegin("Process",Thrift.MessageType.CALL,this.seqid);var b=new BlazeCommandProcessor_Process_args;b.blaze_request=a;b.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(c)};
BlazeCommandProcessorClient.prototype.recv_Process=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new BlazeCommandProcessor_Process_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"Process failed: unknown result";};
Crucible_CreateBaseRepo_args=function(a){this.repo_name=this.user_stoken=null;a&&(void 0!==a.user_stoken&&(this.user_stoken=a.user_stoken),void 0!==a.repo_name&&(this.repo_name=a.repo_name))};Crucible_CreateBaseRepo_args.prototype={};
Crucible_CreateBaseRepo_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.user_stoken=new Token,this.user_stoken.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRING?this.repo_name=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Crucible_CreateBaseRepo_args.prototype.write=function(a){a.writeStructBegin("Crucible_CreateBaseRepo_args");null!==this.user_stoken&&void 0!==this.user_stoken&&(a.writeFieldBegin("user_stoken",Thrift.Type.STRUCT,1),this.user_stoken.write(a),a.writeFieldEnd());null!==this.repo_name&&void 0!==this.repo_name&&(a.writeFieldBegin("repo_name",Thrift.Type.STRING,2),a.writeString(this.repo_name),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Crucible_CreateBaseRepo_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Crucible_CreateBaseRepo_result.prototype={};
Crucible_CreateBaseRepo_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new Repo,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Crucible_CreateBaseRepo_result.prototype.write=function(a){a.writeStructBegin("Crucible_CreateBaseRepo_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Crucible_CreateForkedRepo_args=function(a){this.base_repo_name=this.user_stoken=null;a&&(void 0!==a.user_stoken&&(this.user_stoken=a.user_stoken),void 0!==a.base_repo_name&&(this.base_repo_name=a.base_repo_name))};Crucible_CreateForkedRepo_args.prototype={};
Crucible_CreateForkedRepo_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.user_stoken=new Token,this.user_stoken.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRING?this.base_repo_name=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Crucible_CreateForkedRepo_args.prototype.write=function(a){a.writeStructBegin("Crucible_CreateForkedRepo_args");null!==this.user_stoken&&void 0!==this.user_stoken&&(a.writeFieldBegin("user_stoken",Thrift.Type.STRUCT,1),this.user_stoken.write(a),a.writeFieldEnd());null!==this.base_repo_name&&void 0!==this.base_repo_name&&(a.writeFieldBegin("base_repo_name",Thrift.Type.STRING,2),a.writeString(this.base_repo_name),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Crucible_CreateForkedRepo_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Crucible_CreateForkedRepo_result.prototype={};
Crucible_CreateForkedRepo_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new Repo,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Crucible_CreateForkedRepo_result.prototype.write=function(a){a.writeStructBegin("Crucible_CreateForkedRepo_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Crucible_GetRepoHeadersByUser_args=function(a){this.user_stoken=null;a&&void 0!==a.user_stoken&&(this.user_stoken=a.user_stoken)};Crucible_GetRepoHeadersByUser_args.prototype={};Crucible_GetRepoHeadersByUser_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.user_stoken=new Token,this.user_stoken.read(a)):a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Crucible_GetRepoHeadersByUser_args.prototype.write=function(a){a.writeStructBegin("Crucible_GetRepoHeadersByUser_args");null!==this.user_stoken&&void 0!==this.user_stoken&&(a.writeFieldBegin("user_stoken",Thrift.Type.STRUCT,1),this.user_stoken.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Crucible_GetRepoHeadersByUser_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Crucible_GetRepoHeadersByUser_result.prototype={};
Crucible_GetRepoHeadersByUser_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:if(b==Thrift.Type.LIST){c=0;this.success=[];c=a.readListBegin().size;for(b=0;b<c;++b){var d=null,d=new RepoHeader;d.read(a);this.success.push(d)}a.readListEnd()}else a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Crucible_GetRepoHeadersByUser_result.prototype.write=function(a){a.writeStructBegin("Crucible_GetRepoHeadersByUser_result");if(null!==this.success&&void 0!==this.success){a.writeFieldBegin("success",Thrift.Type.LIST,0);a.writeListBegin(Thrift.Type.STRUCT,this.success.length);for(var c in this.success)this.success.hasOwnProperty(c)&&(c=this.success[c],c.write(a));a.writeListEnd();a.writeFieldEnd()}null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",
Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};Crucible_GetRepoById_args=function(a){this.repo_uuid=null;a&&void 0!==a.repo_uuid&&(this.repo_uuid=a.repo_uuid)};Crucible_GetRepoById_args.prototype={};
Crucible_GetRepoById_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.repo_uuid=a.readString().value:a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Crucible_GetRepoById_args.prototype.write=function(a){a.writeStructBegin("Crucible_GetRepoById_args");null!==this.repo_uuid&&void 0!==this.repo_uuid&&(a.writeFieldBegin("repo_uuid",Thrift.Type.STRING,1),a.writeString(this.repo_uuid),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Crucible_GetRepoById_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Crucible_GetRepoById_result.prototype={};
Crucible_GetRepoById_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new Repo,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Crucible_GetRepoById_result.prototype.write=function(a){a.writeStructBegin("Crucible_GetRepoById_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Crucible_GetRepoHeaderById_args=function(a){this.repo_uuid=this.user_stoken=null;a&&(void 0!==a.user_stoken&&(this.user_stoken=a.user_stoken),void 0!==a.repo_uuid&&(this.repo_uuid=a.repo_uuid))};Crucible_GetRepoHeaderById_args.prototype={};
Crucible_GetRepoHeaderById_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.user_stoken=new Token,this.user_stoken.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRING?this.repo_uuid=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Crucible_GetRepoHeaderById_args.prototype.write=function(a){a.writeStructBegin("Crucible_GetRepoHeaderById_args");null!==this.user_stoken&&void 0!==this.user_stoken&&(a.writeFieldBegin("user_stoken",Thrift.Type.STRUCT,1),this.user_stoken.write(a),a.writeFieldEnd());null!==this.repo_uuid&&void 0!==this.repo_uuid&&(a.writeFieldBegin("repo_uuid",Thrift.Type.STRING,2),a.writeString(this.repo_uuid),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Crucible_GetRepoHeaderById_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Crucible_GetRepoHeaderById_result.prototype={};
Crucible_GetRepoHeaderById_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new RepoHeader,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Crucible_GetRepoHeaderById_result.prototype.write=function(a){a.writeStructBegin("Crucible_GetRepoHeaderById_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Crucible_CommitAndDownstream_args=function(a){this.change_list=this.repo_header=this.user_stoken=null;a&&(void 0!==a.user_stoken&&(this.user_stoken=a.user_stoken),void 0!==a.repo_header&&(this.repo_header=a.repo_header),void 0!==a.change_list&&(this.change_list=a.change_list))};Crucible_CommitAndDownstream_args.prototype={};
Crucible_CommitAndDownstream_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.user_stoken=new Token,this.user_stoken.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRUCT?(this.repo_header=new RepoHeader,this.repo_header.read(a)):a.skip(b);break;case 3:b==Thrift.Type.STRUCT?(this.change_list=new ChangeList,this.change_list.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Crucible_CommitAndDownstream_args.prototype.write=function(a){a.writeStructBegin("Crucible_CommitAndDownstream_args");null!==this.user_stoken&&void 0!==this.user_stoken&&(a.writeFieldBegin("user_stoken",Thrift.Type.STRUCT,1),this.user_stoken.write(a),a.writeFieldEnd());null!==this.repo_header&&void 0!==this.repo_header&&(a.writeFieldBegin("repo_header",Thrift.Type.STRUCT,2),this.repo_header.write(a),a.writeFieldEnd());null!==this.change_list&&void 0!==this.change_list&&(a.writeFieldBegin("change_list",
Thrift.Type.STRUCT,3),this.change_list.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};Crucible_CommitAndDownstream_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Crucible_CommitAndDownstream_result.prototype={};
Crucible_CommitAndDownstream_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new ChangeList,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Crucible_CommitAndDownstream_result.prototype.write=function(a){a.writeStructBegin("Crucible_CommitAndDownstream_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
CrucibleClient=function(a,c){this.input=a;this.output=c?c:a;this.seqid=0};CrucibleClient.prototype={};CrucibleClient.prototype.CreateBaseRepo=function(a,c,b){if(void 0===b)return this.send_CreateBaseRepo(a,c),this.recv_CreateBaseRepo();var d=this.send_CreateBaseRepo(a,c,!0);return this.output.getTransport().jqRequest(this,d,arguments,this.recv_CreateBaseRepo)};
CrucibleClient.prototype.send_CreateBaseRepo=function(a,c,b){this.output.writeMessageBegin("CreateBaseRepo",Thrift.MessageType.CALL,this.seqid);var d=new Crucible_CreateBaseRepo_args;d.user_stoken=a;d.repo_name=c;d.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(b)};
CrucibleClient.prototype.recv_CreateBaseRepo=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Crucible_CreateBaseRepo_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"CreateBaseRepo failed: unknown result";};
CrucibleClient.prototype.CreateForkedRepo=function(a,c,b){if(void 0===b)return this.send_CreateForkedRepo(a,c),this.recv_CreateForkedRepo();var d=this.send_CreateForkedRepo(a,c,!0);return this.output.getTransport().jqRequest(this,d,arguments,this.recv_CreateForkedRepo)};
CrucibleClient.prototype.send_CreateForkedRepo=function(a,c,b){this.output.writeMessageBegin("CreateForkedRepo",Thrift.MessageType.CALL,this.seqid);var d=new Crucible_CreateForkedRepo_args;d.user_stoken=a;d.base_repo_name=c;d.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(b)};
CrucibleClient.prototype.recv_CreateForkedRepo=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Crucible_CreateForkedRepo_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"CreateForkedRepo failed: unknown result";};
CrucibleClient.prototype.GetRepoHeadersByUser=function(a,c){if(void 0===c)return this.send_GetRepoHeadersByUser(a),this.recv_GetRepoHeadersByUser();var b=this.send_GetRepoHeadersByUser(a,!0);return this.output.getTransport().jqRequest(this,b,arguments,this.recv_GetRepoHeadersByUser)};
CrucibleClient.prototype.send_GetRepoHeadersByUser=function(a,c){this.output.writeMessageBegin("GetRepoHeadersByUser",Thrift.MessageType.CALL,this.seqid);var b=new Crucible_GetRepoHeadersByUser_args;b.user_stoken=a;b.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(c)};
CrucibleClient.prototype.recv_GetRepoHeadersByUser=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Crucible_GetRepoHeadersByUser_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"GetRepoHeadersByUser failed: unknown result";};
CrucibleClient.prototype.GetRepoById=function(a,c){if(void 0===c)return this.send_GetRepoById(a),this.recv_GetRepoById();var b=this.send_GetRepoById(a,!0);return this.output.getTransport().jqRequest(this,b,arguments,this.recv_GetRepoById)};CrucibleClient.prototype.send_GetRepoById=function(a,c){this.output.writeMessageBegin("GetRepoById",Thrift.MessageType.CALL,this.seqid);var b=new Crucible_GetRepoById_args;b.repo_uuid=a;b.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(c)};
CrucibleClient.prototype.recv_GetRepoById=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Crucible_GetRepoById_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"GetRepoById failed: unknown result";};
CrucibleClient.prototype.GetRepoHeaderById=function(a,c,b){if(void 0===b)return this.send_GetRepoHeaderById(a,c),this.recv_GetRepoHeaderById();var d=this.send_GetRepoHeaderById(a,c,!0);return this.output.getTransport().jqRequest(this,d,arguments,this.recv_GetRepoHeaderById)};
CrucibleClient.prototype.send_GetRepoHeaderById=function(a,c,b){this.output.writeMessageBegin("GetRepoHeaderById",Thrift.MessageType.CALL,this.seqid);var d=new Crucible_GetRepoHeaderById_args;d.user_stoken=a;d.repo_uuid=c;d.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(b)};
CrucibleClient.prototype.recv_GetRepoHeaderById=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Crucible_GetRepoHeaderById_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"GetRepoHeaderById failed: unknown result";};
CrucibleClient.prototype.CommitAndDownstream=function(a,c,b,d){if(void 0===d)return this.send_CommitAndDownstream(a,c,b),this.recv_CommitAndDownstream();var e=this.send_CommitAndDownstream(a,c,b,!0);return this.output.getTransport().jqRequest(this,e,arguments,this.recv_CommitAndDownstream)};
CrucibleClient.prototype.send_CommitAndDownstream=function(a,c,b,d){this.output.writeMessageBegin("CommitAndDownstream",Thrift.MessageType.CALL,this.seqid);var e=new Crucible_CommitAndDownstream_args;e.user_stoken=a;e.repo_header=c;e.change_list=b;e.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(d)};
CrucibleClient.prototype.recv_CommitAndDownstream=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Crucible_CommitAndDownstream_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"CommitAndDownstream failed: unknown result";};
FileInfo=function(a){this.modify_timestamp=this.md5=this.is_locked=this.relative_path=null;a&&(void 0!==a.relative_path&&(this.relative_path=a.relative_path),void 0!==a.is_locked&&(this.is_locked=a.is_locked),void 0!==a.md5&&(this.md5=a.md5),void 0!==a.modify_timestamp&&(this.modify_timestamp=a.modify_timestamp))};FileInfo.prototype={};
FileInfo.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.relative_path=a.readString().value:a.skip(b);break;case 2:b==Thrift.Type.BOOL?this.is_locked=a.readBool().value:a.skip(b);break;case 3:b==Thrift.Type.STRING?this.md5=a.readString().value:a.skip(b);break;case 4:b==Thrift.Type.STRING?this.modify_timestamp=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
FileInfo.prototype.write=function(a){a.writeStructBegin("FileInfo");null!==this.relative_path&&void 0!==this.relative_path&&(a.writeFieldBegin("relative_path",Thrift.Type.STRING,1),a.writeString(this.relative_path),a.writeFieldEnd());null!==this.is_locked&&void 0!==this.is_locked&&(a.writeFieldBegin("is_locked",Thrift.Type.BOOL,2),a.writeBool(this.is_locked),a.writeFieldEnd());null!==this.md5&&void 0!==this.md5&&(a.writeFieldBegin("md5",Thrift.Type.STRING,3),a.writeString(this.md5),a.writeFieldEnd());
null!==this.modify_timestamp&&void 0!==this.modify_timestamp&&(a.writeFieldBegin("modify_timestamp",Thrift.Type.STRING,4),a.writeString(this.modify_timestamp),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};File=function(a){this.source=this.file_type=this.file_info=null;a&&(void 0!==a.file_info&&(this.file_info=a.file_info),void 0!==a.file_type&&(this.file_type=a.file_type),void 0!==a.source&&(this.source=a.source))};File.prototype={};
File.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.file_info=new FileInfo,this.file_info.read(a)):a.skip(b);break;case 2:b==Thrift.Type.I32?this.file_type=a.readI32().value:a.skip(b);break;case 3:b==Thrift.Type.STRING?this.source=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
File.prototype.write=function(a){a.writeStructBegin("File");null!==this.file_info&&void 0!==this.file_info&&(a.writeFieldBegin("file_info",Thrift.Type.STRUCT,1),this.file_info.write(a),a.writeFieldEnd());null!==this.file_type&&void 0!==this.file_type&&(a.writeFieldBegin("file_type",Thrift.Type.I32,2),a.writeI32(this.file_type),a.writeFieldEnd());null!==this.source&&void 0!==this.source&&(a.writeFieldBegin("source",Thrift.Type.STRING,3),a.writeString(this.source),a.writeFieldEnd());a.writeFieldStop();
a.writeStructEnd()};FileDelta=function(a){this.patches=this.file_info=null;a&&(void 0!==a.file_info&&(this.file_info=a.file_info),void 0!==a.patches&&(this.patches=a.patches))};FileDelta.prototype={};
FileDelta.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.file_info=new FileInfo,this.file_info.read(a)):a.skip(b);break;case 2:if(b==Thrift.Type.LIST){c=0;this.patches=[];c=a.readListBegin().size;for(b=0;b<c;++b){var d=null,d=new Patch;d.read(a);this.patches.push(d)}a.readListEnd()}else a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
FileDelta.prototype.write=function(a){a.writeStructBegin("FileDelta");null!==this.file_info&&void 0!==this.file_info&&(a.writeFieldBegin("file_info",Thrift.Type.STRUCT,1),this.file_info.write(a),a.writeFieldEnd());if(null!==this.patches&&void 0!==this.patches){a.writeFieldBegin("patches",Thrift.Type.LIST,2);a.writeListBegin(Thrift.Type.STRUCT,this.patches.length);for(var c in this.patches)this.patches.hasOwnProperty(c)&&(c=this.patches[c],c.write(a));a.writeListEnd();a.writeFieldEnd()}a.writeFieldStop();
a.writeStructEnd()};
ChangeList=function(a){this.removed_files=this.modified_files=this.added_files=this.timestamp=this.user_uuid=this.change_list_uuid=null;a&&(void 0!==a.change_list_uuid&&(this.change_list_uuid=a.change_list_uuid),void 0!==a.user_uuid&&(this.user_uuid=a.user_uuid),void 0!==a.timestamp&&(this.timestamp=a.timestamp),void 0!==a.added_files&&(this.added_files=a.added_files),void 0!==a.modified_files&&(this.modified_files=a.modified_files),void 0!==a.removed_files&&(this.removed_files=a.removed_files))};
ChangeList.prototype={};
ChangeList.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.change_list_uuid=a.readString().value:a.skip(b);break;case 2:b==Thrift.Type.STRING?this.user_uuid=a.readString().value:a.skip(b);break;case 3:b==Thrift.Type.STRING?this.timestamp=a.readString().value:a.skip(b);break;case 4:if(b==Thrift.Type.LIST){c=0;this.added_files=[];c=a.readListBegin().size;for(b=0;b<c;++b){var d=null,
d=new File;d.read(a);this.added_files.push(d)}a.readListEnd()}else a.skip(b);break;case 5:if(b==Thrift.Type.LIST){c=0;this.modified_files=[];c=a.readListBegin().size;for(b=0;b<c;++b)d=null,d=new FileDelta,d.read(a),this.modified_files.push(d);a.readListEnd()}else a.skip(b);break;case 6:if(b==Thrift.Type.LIST){c=0;this.removed_files=[];c=a.readListBegin().size;for(b=0;b<c;++b)d=null,d=new FileInfo,d.read(a),this.removed_files.push(d);a.readListEnd()}else a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
ChangeList.prototype.write=function(a){a.writeStructBegin("ChangeList");null!==this.change_list_uuid&&void 0!==this.change_list_uuid&&(a.writeFieldBegin("change_list_uuid",Thrift.Type.STRING,1),a.writeString(this.change_list_uuid),a.writeFieldEnd());null!==this.user_uuid&&void 0!==this.user_uuid&&(a.writeFieldBegin("user_uuid",Thrift.Type.STRING,2),a.writeString(this.user_uuid),a.writeFieldEnd());null!==this.timestamp&&void 0!==this.timestamp&&(a.writeFieldBegin("timestamp",Thrift.Type.STRING,3),
a.writeString(this.timestamp),a.writeFieldEnd());if(null!==this.added_files&&void 0!==this.added_files){a.writeFieldBegin("added_files",Thrift.Type.LIST,4);a.writeListBegin(Thrift.Type.STRUCT,this.added_files.length);for(var c in this.added_files)this.added_files.hasOwnProperty(c)&&(c=this.added_files[c],c.write(a));a.writeListEnd();a.writeFieldEnd()}if(null!==this.modified_files&&void 0!==this.modified_files){a.writeFieldBegin("modified_files",Thrift.Type.LIST,5);a.writeListBegin(Thrift.Type.STRUCT,
this.modified_files.length);for(var b in this.modified_files)this.modified_files.hasOwnProperty(b)&&(b=this.modified_files[b],b.write(a));a.writeListEnd();a.writeFieldEnd()}if(null!==this.removed_files&&void 0!==this.removed_files){a.writeFieldBegin("removed_files",Thrift.Type.LIST,6);a.writeListBegin(Thrift.Type.STRUCT,this.removed_files.length);for(var d in this.removed_files)this.removed_files.hasOwnProperty(d)&&(d=this.removed_files[d],d.write(a));a.writeListEnd();a.writeFieldEnd()}a.writeFieldStop();
a.writeStructEnd()};
RepoHeader=function(a){this.latest_change_list_uuid=this.creation_timestamp=this.repo_name=this.user_uuid=this.base_repo_uuid=this.repo_uuid=null;a&&(void 0!==a.repo_uuid&&(this.repo_uuid=a.repo_uuid),void 0!==a.base_repo_uuid&&(this.base_repo_uuid=a.base_repo_uuid),void 0!==a.user_uuid&&(this.user_uuid=a.user_uuid),void 0!==a.repo_name&&(this.repo_name=a.repo_name),void 0!==a.creation_timestamp&&(this.creation_timestamp=a.creation_timestamp),void 0!==a.latest_change_list_uuid&&(this.latest_change_list_uuid=
a.latest_change_list_uuid))};RepoHeader.prototype={};
RepoHeader.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.repo_uuid=a.readString().value:a.skip(b);break;case 2:b==Thrift.Type.STRING?this.base_repo_uuid=a.readString().value:a.skip(b);break;case 3:b==Thrift.Type.STRING?this.user_uuid=a.readString().value:a.skip(b);break;case 4:b==Thrift.Type.STRING?this.repo_name=a.readString().value:a.skip(b);break;case 5:b==Thrift.Type.STRING?
this.creation_timestamp=a.readString().value:a.skip(b);break;case 6:b==Thrift.Type.STRING?this.latest_change_list_uuid=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
RepoHeader.prototype.write=function(a){a.writeStructBegin("RepoHeader");null!==this.repo_uuid&&void 0!==this.repo_uuid&&(a.writeFieldBegin("repo_uuid",Thrift.Type.STRING,1),a.writeString(this.repo_uuid),a.writeFieldEnd());null!==this.base_repo_uuid&&void 0!==this.base_repo_uuid&&(a.writeFieldBegin("base_repo_uuid",Thrift.Type.STRING,2),a.writeString(this.base_repo_uuid),a.writeFieldEnd());null!==this.user_uuid&&void 0!==this.user_uuid&&(a.writeFieldBegin("user_uuid",Thrift.Type.STRING,3),a.writeString(this.user_uuid),
a.writeFieldEnd());null!==this.repo_name&&void 0!==this.repo_name&&(a.writeFieldBegin("repo_name",Thrift.Type.STRING,4),a.writeString(this.repo_name),a.writeFieldEnd());null!==this.creation_timestamp&&void 0!==this.creation_timestamp&&(a.writeFieldBegin("creation_timestamp",Thrift.Type.STRING,5),a.writeString(this.creation_timestamp),a.writeFieldEnd());null!==this.latest_change_list_uuid&&void 0!==this.latest_change_list_uuid&&(a.writeFieldBegin("latest_change_list_uuid",Thrift.Type.STRING,6),a.writeString(this.latest_change_list_uuid),
a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};Repo=function(a){this.change_lists=this.repo_header=null;a&&(void 0!==a.repo_header&&(this.repo_header=a.repo_header),void 0!==a.change_lists&&(this.change_lists=a.change_lists))};Repo.prototype={};
Repo.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.repo_header=new RepoHeader,this.repo_header.read(a)):a.skip(b);break;case 2:if(b==Thrift.Type.LIST){c=0;this.change_lists=[];c=a.readListBegin().size;for(b=0;b<c;++b){var d=null,d=new ChangeList;d.read(a);this.change_lists.push(d)}a.readListEnd()}else a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Repo.prototype.write=function(a){a.writeStructBegin("Repo");null!==this.repo_header&&void 0!==this.repo_header&&(a.writeFieldBegin("repo_header",Thrift.Type.STRUCT,1),this.repo_header.write(a),a.writeFieldEnd());if(null!==this.change_lists&&void 0!==this.change_lists){a.writeFieldBegin("change_lists",Thrift.Type.LIST,2);a.writeListBegin(Thrift.Type.STRUCT,this.change_lists.length);for(var c in this.change_lists)this.change_lists.hasOwnProperty(c)&&(c=this.change_lists[c],c.write(a));a.writeListEnd();
a.writeFieldEnd()}a.writeFieldStop();a.writeStructEnd()};Snapshot=function(a){this.files=this.from_change_list=this.repo_info=null;a&&(void 0!==a.repo_info&&(this.repo_info=a.repo_info),void 0!==a.from_change_list&&(this.from_change_list=a.from_change_list),void 0!==a.files&&(this.files=a.files))};Snapshot.prototype={};
Snapshot.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.repo_info=new RepoHeader,this.repo_info.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRUCT?(this.from_change_list=new ChangeList,this.from_change_list.read(a)):a.skip(b);break;case 3:if(b==Thrift.Type.LIST){c=0;this.files=[];c=a.readListBegin().size;for(b=0;b<c;++b){var d=null,d=new File;d.read(a);this.files.push(d)}a.readListEnd()}else a.skip(b);
break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Snapshot.prototype.write=function(a){a.writeStructBegin("Snapshot");null!==this.repo_info&&void 0!==this.repo_info&&(a.writeFieldBegin("repo_info",Thrift.Type.STRUCT,1),this.repo_info.write(a),a.writeFieldEnd());null!==this.from_change_list&&void 0!==this.from_change_list&&(a.writeFieldBegin("from_change_list",Thrift.Type.STRUCT,2),this.from_change_list.write(a),a.writeFieldEnd());if(null!==this.files&&void 0!==this.files){a.writeFieldBegin("files",Thrift.Type.LIST,3);a.writeListBegin(Thrift.Type.STRUCT,
this.files.length);for(var c in this.files)this.files.hasOwnProperty(c)&&(c=this.files[c],c.write(a));a.writeListEnd();a.writeFieldEnd()}a.writeFieldStop();a.writeStructEnd()};OperationFailure=function(a){this.user_message=null;a&&void 0!==a.user_message&&(this.user_message=a.user_message)};Thrift.inherits(OperationFailure,Thrift.TException);OperationFailure.prototype.name="OperationFailure";
OperationFailure.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.user_message=a.readString().value:a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
OperationFailure.prototype.write=function(a){a.writeStructBegin("OperationFailure");null!==this.user_message&&void 0!==this.user_message&&(a.writeFieldBegin("user_message",Thrift.Type.STRING,1),a.writeString(this.user_message),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};FILE_TYPE_UNKNOWN=0;FILE_TYPE_TEXT=1;FILE_TYPE_URL=2;Diff=function(a){this.text=this.diff_type=null;a&&(void 0!==a.diff_type&&(this.diff_type=a.diff_type),void 0!==a.text&&(this.text=a.text))};Diff.prototype={};
Diff.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.I32?this.diff_type=a.readI32().value:a.skip(b);break;case 2:b==Thrift.Type.STRING?this.text=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Diff.prototype.write=function(a){a.writeStructBegin("Diff");null!==this.diff_type&&void 0!==this.diff_type&&(a.writeFieldBegin("diff_type",Thrift.Type.I32,1),a.writeI32(this.diff_type),a.writeFieldEnd());null!==this.text&&void 0!==this.text&&(a.writeFieldBegin("text",Thrift.Type.STRING,2),a.writeString(this.text),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};Span=function(a){this.length=this.from=null;a&&(void 0!==a.from&&(this.from=a.from),void 0!==a.length&&(this.length=a.length))};
Span.prototype={};Span.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.I32?this.from=a.readI32().value:a.skip(b);break;case 2:b==Thrift.Type.I32?this.length=a.readI32().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Span.prototype.write=function(a){a.writeStructBegin("Span");null!==this.from&&void 0!==this.from&&(a.writeFieldBegin("from",Thrift.Type.I32,1),a.writeI32(this.from),a.writeFieldEnd());null!==this.length&&void 0!==this.length&&(a.writeFieldBegin("length",Thrift.Type.I32,2),a.writeI32(this.length),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Patch=function(a){this.diffs=this.to_span=this.from_span=null;a&&(void 0!==a.from_span&&(this.from_span=a.from_span),void 0!==a.to_span&&(this.to_span=a.to_span),void 0!==a.diffs&&(this.diffs=a.diffs))};Patch.prototype={};
Patch.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.from_span=new Span,this.from_span.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRUCT?(this.to_span=new Span,this.to_span.read(a)):a.skip(b);break;case 3:if(b==Thrift.Type.LIST){c=0;this.diffs=[];c=a.readListBegin().size;for(b=0;b<c;++b){var d=null,d=new Diff;d.read(a);this.diffs.push(d)}a.readListEnd()}else a.skip(b);break;
default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Patch.prototype.write=function(a){a.writeStructBegin("Patch");null!==this.from_span&&void 0!==this.from_span&&(a.writeFieldBegin("from_span",Thrift.Type.STRUCT,1),this.from_span.write(a),a.writeFieldEnd());null!==this.to_span&&void 0!==this.to_span&&(a.writeFieldBegin("to_span",Thrift.Type.STRUCT,2),this.to_span.write(a),a.writeFieldEnd());if(null!==this.diffs&&void 0!==this.diffs){a.writeFieldBegin("diffs",Thrift.Type.LIST,3);a.writeListBegin(Thrift.Type.STRUCT,this.diffs.length);for(var c in this.diffs)this.diffs.hasOwnProperty(c)&&
(c=this.diffs[c],c.write(a));a.writeListEnd();a.writeFieldEnd()}a.writeFieldStop();a.writeStructEnd()};DIFF_TYPE_UNKNOWN=0;DIFF_TYPE_INSERT=1;DIFF_TYPE_DELETE=2;DIFF_TYPE_EQUAL=3;Fiber_CreateCord_args=function(a){this.name=this.token=null;a&&(void 0!==a.token&&(this.token=a.token),void 0!==a.name&&(this.name=a.name))};Fiber_CreateCord_args.prototype={};
Fiber_CreateCord_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.token=new Token,this.token.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRING?this.name=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Fiber_CreateCord_args.prototype.write=function(a){a.writeStructBegin("Fiber_CreateCord_args");null!==this.token&&void 0!==this.token&&(a.writeFieldBegin("token",Thrift.Type.STRUCT,1),this.token.write(a),a.writeFieldEnd());null!==this.name&&void 0!==this.name&&(a.writeFieldBegin("name",Thrift.Type.STRING,2),a.writeString(this.name),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Fiber_CreateCord_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Fiber_CreateCord_result.prototype={};
Fiber_CreateCord_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new Cord,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Fiber_CreateCord_result.prototype.write=function(a){a.writeStructBegin("Fiber_CreateCord_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Fiber_GetCord_args=function(a){this.cord_uuid=null;a&&void 0!==a.cord_uuid&&(this.cord_uuid=a.cord_uuid)};Fiber_GetCord_args.prototype={};Fiber_GetCord_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.cord_uuid=a.readString().value:a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Fiber_GetCord_args.prototype.write=function(a){a.writeStructBegin("Fiber_GetCord_args");null!==this.cord_uuid&&void 0!==this.cord_uuid&&(a.writeFieldBegin("cord_uuid",Thrift.Type.STRING,1),a.writeString(this.cord_uuid),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Fiber_GetCord_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Fiber_GetCord_result.prototype={};
Fiber_GetCord_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new Cord,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Fiber_GetCord_result.prototype.write=function(a){a.writeStructBegin("Fiber_GetCord_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Fiber_WriteCord_args=function(a){this.grains=this.cord=null;a&&(void 0!==a.cord&&(this.cord=a.cord),void 0!==a.grains&&(this.grains=a.grains))};Fiber_WriteCord_args.prototype={};
Fiber_WriteCord_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.cord=new Cord,this.cord.read(a)):a.skip(b);break;case 2:if(b==Thrift.Type.LIST){c=0;this.grains=[];c=a.readListBegin().size;for(b=0;b<c;++b){var d=null,d=new Grain;d.read(a);this.grains.push(d)}a.readListEnd()}else a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Fiber_WriteCord_args.prototype.write=function(a){a.writeStructBegin("Fiber_WriteCord_args");null!==this.cord&&void 0!==this.cord&&(a.writeFieldBegin("cord",Thrift.Type.STRUCT,1),this.cord.write(a),a.writeFieldEnd());if(null!==this.grains&&void 0!==this.grains){a.writeFieldBegin("grains",Thrift.Type.LIST,2);a.writeListBegin(Thrift.Type.STRUCT,this.grains.length);for(var c in this.grains)this.grains.hasOwnProperty(c)&&(c=this.grains[c],c.write(a));a.writeListEnd();a.writeFieldEnd()}a.writeFieldStop();
a.writeStructEnd()};Fiber_WriteCord_result=function(a){this.end_of_cord=this.operation_failure=null;a instanceof OperationFailure?this.operation_failure=a:a instanceof EndOfCord?this.end_of_cord=a:a&&(void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure),void 0!==a.end_of_cord&&(this.end_of_cord=a.end_of_cord))};Fiber_WriteCord_result.prototype={};
Fiber_WriteCord_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRUCT?(this.end_of_cord=new EndOfCord,this.end_of_cord.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Fiber_WriteCord_result.prototype.write=function(a){a.writeStructBegin("Fiber_WriteCord_result");null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());null!==this.end_of_cord&&void 0!==this.end_of_cord&&(a.writeFieldBegin("end_of_cord",Thrift.Type.STRUCT,2),this.end_of_cord.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Fiber_CloseCord_args=function(a){this.cord=null;a&&void 0!==a.cord&&(this.cord=a.cord)};Fiber_CloseCord_args.prototype={};Fiber_CloseCord_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.cord=new Cord,this.cord.read(a)):a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Fiber_CloseCord_args.prototype.write=function(a){a.writeStructBegin("Fiber_CloseCord_args");null!==this.cord&&void 0!==this.cord&&(a.writeFieldBegin("cord",Thrift.Type.STRUCT,1),this.cord.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Fiber_CloseCord_result=function(a){this.end_of_cord=this.operation_failure=null;a instanceof OperationFailure?this.operation_failure=a:a instanceof EndOfCord?this.end_of_cord=a:a&&(void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure),void 0!==a.end_of_cord&&(this.end_of_cord=a.end_of_cord))};Fiber_CloseCord_result.prototype={};
Fiber_CloseCord_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRUCT?(this.end_of_cord=new EndOfCord,this.end_of_cord.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Fiber_CloseCord_result.prototype.write=function(a){a.writeStructBegin("Fiber_CloseCord_result");null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());null!==this.end_of_cord&&void 0!==this.end_of_cord&&(a.writeFieldBegin("end_of_cord",Thrift.Type.STRUCT,2),this.end_of_cord.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Fiber_ReadCordGTEIndex_args=function(a){this.index=this.cord=null;a&&(void 0!==a.cord&&(this.cord=a.cord),void 0!==a.index&&(this.index=a.index))};Fiber_ReadCordGTEIndex_args.prototype={};
Fiber_ReadCordGTEIndex_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.cord=new Cord,this.cord.read(a)):a.skip(b);break;case 2:b==Thrift.Type.I32?this.index=a.readI32().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Fiber_ReadCordGTEIndex_args.prototype.write=function(a){a.writeStructBegin("Fiber_ReadCordGTEIndex_args");null!==this.cord&&void 0!==this.cord&&(a.writeFieldBegin("cord",Thrift.Type.STRUCT,1),this.cord.write(a),a.writeFieldEnd());null!==this.index&&void 0!==this.index&&(a.writeFieldBegin("index",Thrift.Type.I32,2),a.writeI32(this.index),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Fiber_ReadCordGTEIndex_result=function(a){this.end_of_cord=this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a instanceof EndOfCord?this.end_of_cord=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure),void 0!==a.end_of_cord&&(this.end_of_cord=a.end_of_cord))};Fiber_ReadCordGTEIndex_result.prototype={};
Fiber_ReadCordGTEIndex_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:if(b==Thrift.Type.LIST){c=0;this.success=[];c=a.readListBegin().size;for(b=0;b<c;++b){var d=null,d=new Grain;d.read(a);this.success.push(d)}a.readListEnd()}else a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRUCT?(this.end_of_cord=
new EndOfCord,this.end_of_cord.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Fiber_ReadCordGTEIndex_result.prototype.write=function(a){a.writeStructBegin("Fiber_ReadCordGTEIndex_result");if(null!==this.success&&void 0!==this.success){a.writeFieldBegin("success",Thrift.Type.LIST,0);a.writeListBegin(Thrift.Type.STRUCT,this.success.length);for(var c in this.success)this.success.hasOwnProperty(c)&&(c=this.success[c],c.write(a));a.writeListEnd();a.writeFieldEnd()}null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,
1),this.operation_failure.write(a),a.writeFieldEnd());null!==this.end_of_cord&&void 0!==this.end_of_cord&&(a.writeFieldBegin("end_of_cord",Thrift.Type.STRUCT,2),this.end_of_cord.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};FiberClient=function(a,c){this.input=a;this.output=c?c:a;this.seqid=0};FiberClient.prototype={};
FiberClient.prototype.CreateCord=function(a,c,b){if(void 0===b)return this.send_CreateCord(a,c),this.recv_CreateCord();var d=this.send_CreateCord(a,c,!0);return this.output.getTransport().jqRequest(this,d,arguments,this.recv_CreateCord)};FiberClient.prototype.send_CreateCord=function(a,c,b){this.output.writeMessageBegin("CreateCord",Thrift.MessageType.CALL,this.seqid);var d=new Fiber_CreateCord_args;d.token=a;d.name=c;d.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(b)};
FiberClient.prototype.recv_CreateCord=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Fiber_CreateCord_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"CreateCord failed: unknown result";};
FiberClient.prototype.GetCord=function(a,c){if(void 0===c)return this.send_GetCord(a),this.recv_GetCord();var b=this.send_GetCord(a,!0);return this.output.getTransport().jqRequest(this,b,arguments,this.recv_GetCord)};FiberClient.prototype.send_GetCord=function(a,c){this.output.writeMessageBegin("GetCord",Thrift.MessageType.CALL,this.seqid);var b=new Fiber_GetCord_args;b.cord_uuid=a;b.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(c)};
FiberClient.prototype.recv_GetCord=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Fiber_GetCord_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"GetCord failed: unknown result";};
FiberClient.prototype.WriteCord=function(a,c,b){if(void 0===b)this.send_WriteCord(a,c),this.recv_WriteCord();else{var d=this.send_WriteCord(a,c,!0);return this.output.getTransport().jqRequest(this,d,arguments,this.recv_WriteCord)}};FiberClient.prototype.send_WriteCord=function(a,c,b){this.output.writeMessageBegin("WriteCord",Thrift.MessageType.CALL,this.seqid);var d=new Fiber_WriteCord_args;d.cord=a;d.grains=c;d.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(b)};
FiberClient.prototype.recv_WriteCord=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Fiber_WriteCord_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.end_of_cord)throw a.end_of_cord;};
FiberClient.prototype.CloseCord=function(a,c){if(void 0===c)this.send_CloseCord(a),this.recv_CloseCord();else{var b=this.send_CloseCord(a,!0);return this.output.getTransport().jqRequest(this,b,arguments,this.recv_CloseCord)}};FiberClient.prototype.send_CloseCord=function(a,c){this.output.writeMessageBegin("CloseCord",Thrift.MessageType.CALL,this.seqid);var b=new Fiber_CloseCord_args;b.cord=a;b.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(c)};
FiberClient.prototype.recv_CloseCord=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Fiber_CloseCord_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.end_of_cord)throw a.end_of_cord;};
FiberClient.prototype.ReadCordGTEIndex=function(a,c,b){if(void 0===b)return this.send_ReadCordGTEIndex(a,c),this.recv_ReadCordGTEIndex();var d=this.send_ReadCordGTEIndex(a,c,!0);return this.output.getTransport().jqRequest(this,d,arguments,this.recv_ReadCordGTEIndex)};
FiberClient.prototype.send_ReadCordGTEIndex=function(a,c,b){this.output.writeMessageBegin("ReadCordGTEIndex",Thrift.MessageType.CALL,this.seqid);var d=new Fiber_ReadCordGTEIndex_args;d.cord=a;d.index=c;d.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(b)};
FiberClient.prototype.recv_ReadCordGTEIndex=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Fiber_ReadCordGTEIndex_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.end_of_cord)throw a.end_of_cord;if(null!==a.success)return a.success;throw"ReadCordGTEIndex failed: unknown result";};
Cord=function(a){this.timestamp=this.user_uuid=this.name=this.uuid=null;a&&(void 0!==a.uuid&&(this.uuid=a.uuid),void 0!==a.name&&(this.name=a.name),void 0!==a.user_uuid&&(this.user_uuid=a.user_uuid),void 0!==a.timestamp&&(this.timestamp=a.timestamp))};Cord.prototype={};
Cord.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.uuid=a.readString().value:a.skip(b);break;case 2:b==Thrift.Type.STRING?this.name=a.readString().value:a.skip(b);break;case 3:b==Thrift.Type.STRING?this.user_uuid=a.readString().value:a.skip(b);break;case 4:b==Thrift.Type.STRING?this.timestamp=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Cord.prototype.write=function(a){a.writeStructBegin("Cord");null!==this.uuid&&void 0!==this.uuid&&(a.writeFieldBegin("uuid",Thrift.Type.STRING,1),a.writeString(this.uuid),a.writeFieldEnd());null!==this.name&&void 0!==this.name&&(a.writeFieldBegin("name",Thrift.Type.STRING,2),a.writeString(this.name),a.writeFieldEnd());null!==this.user_uuid&&void 0!==this.user_uuid&&(a.writeFieldBegin("user_uuid",Thrift.Type.STRING,3),a.writeString(this.user_uuid),a.writeFieldEnd());null!==this.timestamp&&void 0!==
this.timestamp&&(a.writeFieldBegin("timestamp",Thrift.Type.STRING,4),a.writeString(this.timestamp),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};Grain=function(a){this.data=this.channel=null;a&&(void 0!==a.channel&&(this.channel=a.channel),void 0!==a.data&&(this.data=a.data))};Grain.prototype={};
Grain.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.I32?this.channel=a.readI32().value:a.skip(b);break;case 2:b==Thrift.Type.STRING?this.data=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Grain.prototype.write=function(a){a.writeStructBegin("Grain");null!==this.channel&&void 0!==this.channel&&(a.writeFieldBegin("channel",Thrift.Type.I32,1),a.writeI32(this.channel),a.writeFieldEnd());null!==this.data&&void 0!==this.data&&(a.writeFieldBegin("data",Thrift.Type.STRING,2),a.writeString(this.data),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};EndOfCord=function(a){this.end_of_cord=!0;a&&void 0!==a.end_of_cord&&(this.end_of_cord=a.end_of_cord)};Thrift.inherits(EndOfCord,Thrift.TException);
EndOfCord.prototype.name="EndOfCord";EndOfCord.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.BOOL?this.end_of_cord=a.readBool().value:a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
EndOfCord.prototype.write=function(a){a.writeStructBegin("EndOfCord");null!==this.end_of_cord&&void 0!==this.end_of_cord&&(a.writeFieldBegin("end_of_cord",Thrift.Type.BOOL,1),a.writeBool(this.end_of_cord),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};OperationFailure=function(a){this.user_message=null;a&&void 0!==a.user_message&&(this.user_message=a.user_message)};Thrift.inherits(OperationFailure,Thrift.TException);OperationFailure.prototype.name="OperationFailure";
OperationFailure.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.user_message=a.readString().value:a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
OperationFailure.prototype.write=function(a){a.writeStructBegin("OperationFailure");null!==this.user_message&&void 0!==this.user_message&&(a.writeFieldBegin("user_message",Thrift.Type.STRING,1),a.writeString(this.user_message),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};CHANNEL_UNKNOWN=0;CHANNEL_STD_OUT=1;CHANNEL_STD_ERR=2;
Sentinel_CreateUser_args=function(a){this.password=this.new_user_partial=null;a&&(void 0!==a.new_user_partial&&(this.new_user_partial=a.new_user_partial),void 0!==a.password&&(this.password=a.password))};Sentinel_CreateUser_args.prototype={};
Sentinel_CreateUser_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.new_user_partial=new User,this.new_user_partial.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRING?this.password=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Sentinel_CreateUser_args.prototype.write=function(a){a.writeStructBegin("Sentinel_CreateUser_args");null!==this.new_user_partial&&void 0!==this.new_user_partial&&(a.writeFieldBegin("new_user_partial",Thrift.Type.STRUCT,1),this.new_user_partial.write(a),a.writeFieldEnd());null!==this.password&&void 0!==this.password&&(a.writeFieldBegin("password",Thrift.Type.STRING,2),a.writeString(this.password),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Sentinel_CreateUser_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Sentinel_CreateUser_result.prototype={};
Sentinel_CreateUser_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new User,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Sentinel_CreateUser_result.prototype.write=function(a){a.writeStructBegin("Sentinel_CreateUser_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Sentinel_CreateToken_args=function(a){this.password=this.email_address=null;a&&(void 0!==a.email_address&&(this.email_address=a.email_address),void 0!==a.password&&(this.password=a.password))};Sentinel_CreateToken_args.prototype={};
Sentinel_CreateToken_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.email_address=a.readString().value:a.skip(b);break;case 2:b==Thrift.Type.STRING?this.password=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Sentinel_CreateToken_args.prototype.write=function(a){a.writeStructBegin("Sentinel_CreateToken_args");null!==this.email_address&&void 0!==this.email_address&&(a.writeFieldBegin("email_address",Thrift.Type.STRING,1),a.writeString(this.email_address),a.writeFieldEnd());null!==this.password&&void 0!==this.password&&(a.writeFieldBegin("password",Thrift.Type.STRING,2),a.writeString(this.password),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Sentinel_CreateToken_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Sentinel_CreateToken_result.prototype={};
Sentinel_CreateToken_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new Token,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Sentinel_CreateToken_result.prototype.write=function(a){a.writeStructBegin("Sentinel_CreateToken_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Sentinel_CreateSecondaryToken_args=function(a){this.permission_level=this.token=null;a&&(void 0!==a.token&&(this.token=a.token),void 0!==a.permission_level&&(this.permission_level=a.permission_level))};Sentinel_CreateSecondaryToken_args.prototype={};
Sentinel_CreateSecondaryToken_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.token=new Token,this.token.read(a)):a.skip(b);break;case 2:b==Thrift.Type.I32?this.permission_level=a.readI32().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Sentinel_CreateSecondaryToken_args.prototype.write=function(a){a.writeStructBegin("Sentinel_CreateSecondaryToken_args");null!==this.token&&void 0!==this.token&&(a.writeFieldBegin("token",Thrift.Type.STRUCT,1),this.token.write(a),a.writeFieldEnd());null!==this.permission_level&&void 0!==this.permission_level&&(a.writeFieldBegin("permission_level",Thrift.Type.I32,2),a.writeI32(this.permission_level),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Sentinel_CreateSecondaryToken_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Sentinel_CreateSecondaryToken_result.prototype={};
Sentinel_CreateSecondaryToken_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new Token,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Sentinel_CreateSecondaryToken_result.prototype.write=function(a){a.writeStructBegin("Sentinel_CreateSecondaryToken_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Sentinel_CheckToken_args=function(a){this.token=null;a&&void 0!==a.token&&(this.token=a.token)};Sentinel_CheckToken_args.prototype={};Sentinel_CheckToken_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.token=new Token,this.token.read(a)):a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Sentinel_CheckToken_args.prototype.write=function(a){a.writeStructBegin("Sentinel_CheckToken_args");null!==this.token&&void 0!==this.token&&(a.writeFieldBegin("token",Thrift.Type.STRUCT,1),this.token.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Sentinel_CheckToken_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Sentinel_CheckToken_result.prototype={};
Sentinel_CheckToken_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.BOOL?this.success=a.readBool().value:a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Sentinel_CheckToken_result.prototype.write=function(a){a.writeStructBegin("Sentinel_CheckToken_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.BOOL,0),a.writeBool(this.success),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Sentinel_FindUser_args=function(a){this.user_partial=this.token=null;a&&(void 0!==a.token&&(this.token=a.token),void 0!==a.user_partial&&(this.user_partial=a.user_partial))};Sentinel_FindUser_args.prototype={};
Sentinel_FindUser_args.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRUCT?(this.token=new Token,this.token.read(a)):a.skip(b);break;case 2:b==Thrift.Type.STRUCT?(this.user_partial=new User,this.user_partial.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Sentinel_FindUser_args.prototype.write=function(a){a.writeStructBegin("Sentinel_FindUser_args");null!==this.token&&void 0!==this.token&&(a.writeFieldBegin("token",Thrift.Type.STRUCT,1),this.token.write(a),a.writeFieldEnd());null!==this.user_partial&&void 0!==this.user_partial&&(a.writeFieldBegin("user_partial",Thrift.Type.STRUCT,2),this.user_partial.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
Sentinel_FindUser_result=function(a){this.operation_failure=this.success=null;a instanceof OperationFailure?this.operation_failure=a:a&&(void 0!==a.success&&(this.success=a.success),void 0!==a.operation_failure&&(this.operation_failure=a.operation_failure))};Sentinel_FindUser_result.prototype={};
Sentinel_FindUser_result.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 0:b==Thrift.Type.STRUCT?(this.success=new User,this.success.read(a)):a.skip(b);break;case 1:b==Thrift.Type.STRUCT?(this.operation_failure=new OperationFailure,this.operation_failure.read(a)):a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Sentinel_FindUser_result.prototype.write=function(a){a.writeStructBegin("Sentinel_FindUser_result");null!==this.success&&void 0!==this.success&&(a.writeFieldBegin("success",Thrift.Type.STRUCT,0),this.success.write(a),a.writeFieldEnd());null!==this.operation_failure&&void 0!==this.operation_failure&&(a.writeFieldBegin("operation_failure",Thrift.Type.STRUCT,1),this.operation_failure.write(a),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};
SentinelClient=function(a,c){this.input=a;this.output=c?c:a;this.seqid=0};SentinelClient.prototype={};SentinelClient.prototype.CreateUser=function(a,c,b){if(void 0===b)return this.send_CreateUser(a,c),this.recv_CreateUser();var d=this.send_CreateUser(a,c,!0);return this.output.getTransport().jqRequest(this,d,arguments,this.recv_CreateUser)};
SentinelClient.prototype.send_CreateUser=function(a,c,b){this.output.writeMessageBegin("CreateUser",Thrift.MessageType.CALL,this.seqid);var d=new Sentinel_CreateUser_args;d.new_user_partial=a;d.password=c;d.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(b)};
SentinelClient.prototype.recv_CreateUser=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Sentinel_CreateUser_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"CreateUser failed: unknown result";};
SentinelClient.prototype.CreateToken=function(a,c,b){if(void 0===b)return this.send_CreateToken(a,c),this.recv_CreateToken();var d=this.send_CreateToken(a,c,!0);return this.output.getTransport().jqRequest(this,d,arguments,this.recv_CreateToken)};
SentinelClient.prototype.send_CreateToken=function(a,c,b){this.output.writeMessageBegin("CreateToken",Thrift.MessageType.CALL,this.seqid);var d=new Sentinel_CreateToken_args;d.email_address=a;d.password=c;d.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(b)};
SentinelClient.prototype.recv_CreateToken=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Sentinel_CreateToken_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"CreateToken failed: unknown result";};
SentinelClient.prototype.CreateSecondaryToken=function(a,c,b){if(void 0===b)return this.send_CreateSecondaryToken(a,c),this.recv_CreateSecondaryToken();var d=this.send_CreateSecondaryToken(a,c,!0);return this.output.getTransport().jqRequest(this,d,arguments,this.recv_CreateSecondaryToken)};
SentinelClient.prototype.send_CreateSecondaryToken=function(a,c,b){this.output.writeMessageBegin("CreateSecondaryToken",Thrift.MessageType.CALL,this.seqid);var d=new Sentinel_CreateSecondaryToken_args;d.token=a;d.permission_level=c;d.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(b)};
SentinelClient.prototype.recv_CreateSecondaryToken=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Sentinel_CreateSecondaryToken_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"CreateSecondaryToken failed: unknown result";};
SentinelClient.prototype.CheckToken=function(a,c){if(void 0===c)return this.send_CheckToken(a),this.recv_CheckToken();var b=this.send_CheckToken(a,!0);return this.output.getTransport().jqRequest(this,b,arguments,this.recv_CheckToken)};SentinelClient.prototype.send_CheckToken=function(a,c){this.output.writeMessageBegin("CheckToken",Thrift.MessageType.CALL,this.seqid);var b=new Sentinel_CheckToken_args;b.token=a;b.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(c)};
SentinelClient.prototype.recv_CheckToken=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Sentinel_CheckToken_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"CheckToken failed: unknown result";};
SentinelClient.prototype.FindUser=function(a,c,b){if(void 0===b)return this.send_FindUser(a,c),this.recv_FindUser();var d=this.send_FindUser(a,c,!0);return this.output.getTransport().jqRequest(this,d,arguments,this.recv_FindUser)};SentinelClient.prototype.send_FindUser=function(a,c,b){this.output.writeMessageBegin("FindUser",Thrift.MessageType.CALL,this.seqid);var d=new Sentinel_FindUser_args;d.token=a;d.user_partial=c;d.write(this.output);this.output.writeMessageEnd();return this.output.getTransport().flush(b)};
SentinelClient.prototype.recv_FindUser=function(){if(this.input.readMessageBegin().mtype==Thrift.MessageType.EXCEPTION){var a=new Thrift.TApplicationException;a.read(this.input);this.input.readMessageEnd();throw a;}a=new Sentinel_FindUser_result;a.read(this.input);this.input.readMessageEnd();if(null!==a.operation_failure)throw a.operation_failure;if(null!==a.success)return a.success;throw"FindUser failed: unknown result";};
User=function(a){this.student_id=this.permission_level=this.email_address=this.last_name=this.first_name=this.uuid=null;a&&(void 0!==a.uuid&&(this.uuid=a.uuid),void 0!==a.first_name&&(this.first_name=a.first_name),void 0!==a.last_name&&(this.last_name=a.last_name),void 0!==a.email_address&&(this.email_address=a.email_address),void 0!==a.permission_level&&(this.permission_level=a.permission_level),void 0!==a.student_id&&(this.student_id=a.student_id))};User.prototype={};
User.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.uuid=a.readString().value:a.skip(b);break;case 2:b==Thrift.Type.STRING?this.first_name=a.readString().value:a.skip(b);break;case 3:b==Thrift.Type.STRING?this.last_name=a.readString().value:a.skip(b);break;case 4:b==Thrift.Type.STRING?this.email_address=a.readString().value:a.skip(b);break;case 5:b==Thrift.Type.I32?this.permission_level=
a.readI32().value:a.skip(b);break;case 6:b==Thrift.Type.STRING?this.student_id=a.readString().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
User.prototype.write=function(a){a.writeStructBegin("User");null!==this.uuid&&void 0!==this.uuid&&(a.writeFieldBegin("uuid",Thrift.Type.STRING,1),a.writeString(this.uuid),a.writeFieldEnd());null!==this.first_name&&void 0!==this.first_name&&(a.writeFieldBegin("first_name",Thrift.Type.STRING,2),a.writeString(this.first_name),a.writeFieldEnd());null!==this.last_name&&void 0!==this.last_name&&(a.writeFieldBegin("last_name",Thrift.Type.STRING,3),a.writeString(this.last_name),a.writeFieldEnd());null!==
this.email_address&&void 0!==this.email_address&&(a.writeFieldBegin("email_address",Thrift.Type.STRING,4),a.writeString(this.email_address),a.writeFieldEnd());null!==this.permission_level&&void 0!==this.permission_level&&(a.writeFieldBegin("permission_level",Thrift.Type.I32,5),a.writeI32(this.permission_level),a.writeFieldEnd());null!==this.student_id&&void 0!==this.student_id&&(a.writeFieldBegin("student_id",Thrift.Type.STRING,6),a.writeString(this.student_id),a.writeFieldEnd());a.writeFieldStop();
a.writeStructEnd()};Token=function(a){this.permission_level=this.token_uuid=this.user_uuid=null;a&&(void 0!==a.user_uuid&&(this.user_uuid=a.user_uuid),void 0!==a.token_uuid&&(this.token_uuid=a.token_uuid),void 0!==a.permission_level&&(this.permission_level=a.permission_level))};Token.prototype={};
Token.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.user_uuid=a.readString().value:a.skip(b);break;case 2:b==Thrift.Type.STRING?this.token_uuid=a.readString().value:a.skip(b);break;case 3:b==Thrift.Type.I32?this.permission_level=a.readI32().value:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
Token.prototype.write=function(a){a.writeStructBegin("Token");null!==this.user_uuid&&void 0!==this.user_uuid&&(a.writeFieldBegin("user_uuid",Thrift.Type.STRING,1),a.writeString(this.user_uuid),a.writeFieldEnd());null!==this.token_uuid&&void 0!==this.token_uuid&&(a.writeFieldBegin("token_uuid",Thrift.Type.STRING,2),a.writeString(this.token_uuid),a.writeFieldEnd());null!==this.permission_level&&void 0!==this.permission_level&&(a.writeFieldBegin("permission_level",Thrift.Type.I32,3),a.writeI32(this.permission_level),
a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};OperationFailure=function(a){this.user_message=null;a&&void 0!==a.user_message&&(this.user_message=a.user_message)};Thrift.inherits(OperationFailure,Thrift.TException);OperationFailure.prototype.name="OperationFailure";
OperationFailure.prototype.read=function(a){for(a.readStructBegin();;){var c=a.readFieldBegin(),b=c.ftype;if(b==Thrift.Type.STOP)break;switch(c.fid){case 1:b==Thrift.Type.STRING?this.user_message=a.readString().value:a.skip(b);break;case 0:a.skip(b);break;default:a.skip(b)}a.readFieldEnd()}a.readStructEnd()};
OperationFailure.prototype.write=function(a){a.writeStructBegin("OperationFailure");null!==this.user_message&&void 0!==this.user_message&&(a.writeFieldBegin("user_message",Thrift.Type.STRING,1),a.writeString(this.user_message),a.writeFieldEnd());a.writeFieldStop();a.writeStructEnd()};SECONDARY_THRESHOLD=0;USER_THRESHOLD=20;MODERATOR_THRESHOLD=40;ADMIN_THRESHOLD=60;SUPER_THRESHOLD=80;SentinelInternalClient=function(a,c){this.input=a;this.output=c?c:a;this.seqid=0};
SentinelInternalClient.prototype={};var forgeApp=angular.module("forgeApp","ngCookies ngRoute thilenius.tree_view thilenius.content_window thilenius.file_explorer thilenius.history_explorer thilenius.settings_window thilenius.anvil_window thilenius.navbar".split(" ")),forgeApp=angular.module("forgeApp");
forgeApp.config(["$routeProvider",function(a){a.when("/",{templateUrl:"app/components/forge/forge.html",controller:"forgeController"}).when("/login",{templateUrl:"app/components/login/login.html",controller:"loginController"}).when("/fiber/:uuid",{templateUrl:"app/components/fiber/fiber.html",controller:"fiberController"}).when("/crucible/:repoUuid/:clUuid",{templateUrl:"app/components/crucible/crucible.html",controller:"crucibleController"}).otherwise({redirectTo:"/"})}]);forgeApp=angular.module("forgeApp");
forgeApp.controller("crucibleController",["$scope","$rootScope","$routeParams",function(a,c,b,d){c.htmlClass="none";c.bodyClass="none";c.title="Crucible";c=new Thrift.Transport("/api/crucible/");c=new Thrift.Protocol(c);c=new CrucibleClient(c);a.repoUuid=b.repoUuid;a.clUuid=b.clUuid;a.files=[];c.GetRepoById(a.repoUuid,null).fail(function(a,b,c){console.log("Crucible Error: "+c)}).done(function(b){var c=new CrucibleRepo(null,b);a.$apply(function(){a.repoHeader=b.repo_header;a.crucibleRepo=c;a.repoTimestamp=
(new Date(parseInt(b.repo_header.creation_timestamp))).toLocaleString();for(var d=0;d<b.change_lists.length;d++){var h=b.change_lists[d];if(h.change_list_uuid===a.clUuid){a.changeList=h;a.changeListTimestamp=(new Date(parseInt(h.timestamp))).toLocaleString();a.commitNumber=d+1;break}}a.files=c.reconstructFilesForCL(a.clUuid)})})}]);forgeApp=angular.module("forgeApp");
forgeApp.controller("fiberController",["$scope","$rootScope","$routeParams","$sce",function(a,c,b,d){c.htmlClass="none";c.bodyClass="none";c.title="Streaming Fiber";c=new Thrift.Transport("/api/fiber/");c=new Thrift.Protocol(c);var e=new FiberClient(c);a.cordUuid=b.uuid;a.content=[];a.streamState="PENDING";e.GetCord(a.cordUuid,null).fail(function(a,b,c){console.log("Failed to get fiber cord!")}).done(function(b){a.streamState="STREAMING";a.cordStream=new CordStream(e,b);a.cordUrl=a.cordStream.fiberUrl;
a.cord=a.cordStream.cordProto;a.timestamp=(new Date(parseInt(a.cord.timestamp))).toLocaleString();a.$apply();a.cordStream.onGrain(function(b){for(var c=0;c<b.length;c++)a.writeLine(b[c].data);a.$apply()},function(){a.streamState="CLOSED";a.$apply()})});a.escapeCodes={"[0m":"<span class='fiber-text' style='color: white;'>","[31m":"<span class='fiber-text' style='color: #AF0000;'>","[32m":"<span class='fiber-text' style='color: #009800;'>","[33m":"<span class='fiber-text' style='color: #FFC000;'>",
"[36m":"<span class='fiber-text' style='color: #008DCC;'>"};a.writeLine=function(b){b=b.split("\n");0<b.length&&""===b[b.length-1]&&(b=b.slice(0,b.length-1));for(var c=0;c<b.length;c++){var e=""===b[c]?" ":b[c],k;for(k in a.escapeCodes)var l=a.escapeCodes[k],e=e.split(k).join("</span>"+l);e="<span class='fiber-text'>"+e+"</span>";a.content.push(d.trustAsHtml(e))}}}]);forgeApp=angular.module("forgeApp");
forgeApp.controller("forgeController",["$rootScope","$scope","$location","sentinel","crucible","billet",function(a,c,b,d,e,f){c.forgeVersion="undefined"!==typeof FORGE_VERSION?FORGE_VERSION:"unknown";d.tryLoadingFromCookie();c.sentinel=d;c.crucible=e;c.billet=f;c.activeSidebarTab="file";c.fileExplorerControl={};c.contentWindowControl={};c.historyExplorerControl={};c.anvilWindowControl={};c.settingsWindowControl={};c.error=null;c.buildHistory=function(){c.contentWindowControl.commitPending();c.fileExplorerControl.selected&&
c.historyExplorerControl.setRepoFile(c.fileExplorerControl.selected.repo,c.fileExplorerControl.selected.relativePath)};c.editOn=function(){c.fileExplorerControl.selected&&c.contentWindowControl.bindFile(c.fileExplorerControl.selected.repo,c.fileExplorerControl.selected.relativePath,null,!1)};a.$on("error",function(a,b){c.$apply(function(){c.error=b})});a.$on("crucible.repoAdded",function(a,b){c.fileExplorerControl.addRepo(b)});a.$on("fileExplorer.fileSelected",function(a,b,d){c.contentWindowControl.bindFile(b,
d,null,!1);c.contentWindowControl.billet=f;c.autoFormat=function(){c.contentWindowControl.formatCode()}});a.$on("historyExplorer.snapshotSelected",function(a,b,d,e){"history"===c.activeSidebarTab&&c.contentWindowControl.bindFile(b,d,e.change_list_uuid,!0)});a.$on("sentinel.logout",function(a){e.unloadAllRepos()});d.token&&(e.loadAllRepos(),f.init(d.token))}]);forgeApp=angular.module("forgeApp");
forgeApp.controller("loginController",["$location","$rootScope","$scope","sentinel",function(a,c,b,d){c.htmlClass="forge-body";c.bodyClass="forge-body";b.sentinel=d;c.$on("sentinel.login",function(c,d,g){"/login"===a.path()&&(b.sentinel.lastUrl?b.$apply(function(){a.path(b.sentinel.lastUrl);b.sentinel.lastUrl=null}):b.$apply(function(){a.path("/")}))});c.$on("sentinel.error",function(a,c){b.error=c;b.password="";console.log("Sentinel failure: "+c)});b.createAccount=function(){d.createAccount(b.create.firstName,
b.create.lastName,b.create.email,b.create.password)};d.tryLoadingFromCookie()}]);
angular.module("thilenius.ace_editor",[]).directive("atAceEditor",["$rootScope","$timeout","billet",function(a,c,b){return{restrict:"AE",scope:{control:"=",editor:"="},templateUrl:"app/directives/ace_editor/151027.01.0533-ace_editor.htm",link:function(c,e,f){c.editor=ace.edit("editor");c.editor.setTheme("ace/theme/twilight");c.editor.getSession().setMode("ace/mode/c_cpp");c.editor.getSession().setTabSize(2);c.editor.$blockScrolling=Infinity;c.editor.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,
enableLiveAutocompletion:!0});c.editorVisible=!1;c.activeRepo=null;c.relativePath=null;c.showConsole=!1;c.canRun=!0;c.fileSessions={};c.consoleWindowControl={};c.internalControl=c.control||{};a.$watchCollection("editorSettings",function(a,b){a&&(c.editor.setOption("foldStyle",a.foldStyle),c.editor.setOption("fontSize",a.fontSize),c.editor.setOption("selectionStyle",a.fullLineSelection?"line":"text"),c.editor.setOption("highlightActiveLine",a.highlightActiveLine),c.editor.setOption("highlightSelectedWord",
a.highlightSelectedWord),"ace"===a.keyBinding?c.editor.setKeyboardHandler(""):c.editor.setKeyboardHandler("ace/keyboard/"+a.keyBinding),c.editor.setOption("scrollPastEnd",a.scrollPastEnd),c.editor.setOption("showGutter",a.showGutter),c.editor.setOption("theme",a.theme),c.editor.setOption("displayIndentGuides",a.displayIndentGuides),c.editor.setOption("showInvisibles",a.showInvisibles),c.editor.setOption("showPrintMargin",a.showPrintMargin),c.editor.setOption("fadeFoldWidgets",a.fadeFoldWidgets))},
!0);c.internalControl.canEdit=function(a){return!0};c.internalControl.commitPending=function(a){c.activeRepo&&!c.editor.getReadOnly()&&c.activeRepo.commit(c.relativePath,c.editor.getValue(),a)};c.internalControl.resize=function(){c.editor.resize()};c.internalControl.focus=function(){c.editor.focus()};c.internalControl.bindFile=function(a,b,e,f){c.lastStash=new Date;c.activeRepo=a;c.relativePath=b;e?c.editor.setValue(a.reconstructFilesForCL(e)[b].source,1):c.editor.setValue(a.headState[b].source,1);
c.editorVisible=!0;c.restoreFileSession();c.editor.setReadOnly(f);f||(c.changeHandler=function(e){c.lastStash||(c.lastStash=new Date);6E4<=new Date-c.lastStash&&(c.lastStash=new Date,a.commit(b,c.editor.getValue()))},c.editor.on("change",function(a){c.changeHandler(a)}))};c.internalControl.unload=function(){c.changeHandler=function(a){};c.saveFileSession();c.activeRepo&&!c.editor.getReadOnly()&&c.activeRepo.commit(c.relativePath,c.editor.getValue());c.activeRepo=null;c.relativePath=null;c.isLockedFile=
!1};a.$on("billet.activeCord",function(a,b){c.canRun=!1;c.$apply();b.addHandler("close",function(){c.canRun=!0;c.$apply()})});b.currentCord&&b.isOldCordRunning&&(c.canRun=!1,b.currentCord.addHandler("close",function(){c.canRun=!0;c.$apply()}));c.run=function(){c.activeRepo&&c.internalControl.commitPending(function(){b.runCMakeRepo(c.activeRepo.repoProto.repo_header)})};c.stop=function(){c.activeRepo&&b.terminateSession()};c.clean=function(){c.activeRepo&&b.clean(c.activeRepo.repoProto.repo_header)};
c.autoFormat=function(){c.activeRepo&&!c.editor.getReadOnly()&&(c.saveFileSession(),c.editor.setReadOnly(!0),b.clangFormat(c.editor.getValue(),function(a){c.editor.setValue(a,c.editor.getCursorPosition());c.editor.setReadOnly(!1);c.restoreFileSession()},function(a){c.editor.setReadOnly(!1)}))};c.saveFileSession=function(){c.activeRepo&&c.relativePath&&(c.fileSessions[c.activeRepo.repoProto.repo_header.repo_uuid+c.relativePath]={vScroll:c.editor.session.getScrollTop(),hScroll:c.editor.session.getScrollLeft(),
cursorRow:c.editor.selection.getCursor().row,cursorColumn:c.editor.selection.getCursor().column,undoHistory:c.editor.getSession().getUndoManager()})};c.restoreFileSession=function(){c.editor.focus();if(c.activeRepo&&c.relativePath){var a=c.fileSessions[c.activeRepo.repoProto.repo_header.repo_uuid+c.relativePath];a?(c.editor.session.setScrollTop(a.vScroll),c.editor.session.setScrollLeft(a.hScroll),c.editor.selection.moveCursorToPosition({row:a.cursorRow,column:a.cursorColumn}),c.editor.getSession().setUndoManager(a.undoHistory)):
c.editor.getSession().setUndoManager(new ace.UndoManager)}};c.downloadRepoSnapshot=function(){if(c.activeRepo){c.internalControl.commitPending();var a=c.activeRepo.toZipFile(),b=c.activeRepo.repoProto.repo_header.repo_name.split("/")[0],e=new Date,b=b+"-"+e.getFullYear().toString().slice(-2)+("0"+e.getDate()).slice(-2)+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getHours()).slice(-2)+"-"+("0"+e.getMinutes()).slice(-2)+"-"+("0"+e.getSeconds()).slice(-2)+".zip";saveAs(a,b)}}}}}]);
angular.module("thilenius.anvil_window",[]).directive("atAnvilWindow",["$rootScope",function(a){return{restrict:"AE",scope:{control:"="},templateUrl:"app/directives/anvil_window/151027.01.0533-anvil_window.htm",link:function(a,b,d){a.internalControl=a.control||{}}}}]);
angular.module("thilenius.console_window",[]).directive("atConsoleWindow",["$sce","$rootScope","$timeout","billet",function(a,c,b,d){return{restrict:"AE",scope:{control:"=",show:"="},templateUrl:"app/directives/console_window/151027.01.0533-console_window.htm",link:function(e,f,g){e.content=[];e.show=!1;e.internalControl=e.control||{};e.escapeCodes={"[0m":"<span class='console-text' style='color: white;'>","[31m":"<span class='console-text' style='color: #FF0000;'>","[32m":"<span class='console-text' style='color: #00FF00;'>",
"[33m":"<span class='console-text' style='color: yellow;'>","[36m":"<span class='console-text' style='color: #00D8FF;'>"};e.scrollBottom=function(){$("#consoleScroller").animate({scrollTop:$("#consoleScroller")[0].scrollHeight},50)};e.readCordStream=function(a){e.content=[];e.writeLine('Streaming Fiber Cord: <a href="'+a.fiberUrl+'" target="_blank">'+a.fiberUrl+"</a>");e.writeLine(" ");a.onGrain(function(a){for(var b=0;b<a.length;b++)e.writeLine(a[b].data);e.$apply();e.scrollBottom()},function(){})};
e.writeLine=function(b){b=b.split("\n");0<b.length&&""===b[b.length-1]&&(b=b.slice(0,b.length-1));for(var c=0;c<b.length;c++){var d=""===b[c]?" ":b[c],f;for(f in e.escapeCodes)var g=e.escapeCodes[f],d=d.split(f).join("</span>"+g);d="<span class='console-text'>"+d+"</span>";e.content.push(a.trustAsHtml(d))}};c.$on("billet.oldCord",function(a,c){b(function(){e.readCordStream(c)})});c.$on("billet.activeCord",function(a,c){e.show=!0;b(function(){e.readCordStream(c)})});d.currentCord&&e.readCordStream(d.currentCord)}}}]);
angular.module("thilenius.content_window",["thilenius.console_window","thilenius.ace_editor"]).directive("atContentWindow",["$rootScope","$timeout","billet",function(a,c,b){return{restrict:"AE",scope:{control:"="},templateUrl:"app/directives/content_window/151027.01.0533-content_window.htm",link:function(a,b,f){a.activeRepo=null;a.relativePath=null;a.showConsole=!1;a.consoleWindowControl={};a.aceEditorControl={};a.activeEditor=null;a.internalControl=a.control||{};window.onbeforeunload=function(){a.internalControl.commitPending()};
window.addEventListener("beforeunload",function(b){a.internalControl.commitPending()},!1);a.internalControl.commitPending=function(b){a.activeRepo&&a.activeEditor.commitPending(b)};a.$watch("showConsole",function(b,e){a.activeEditor&&(c(function(){a.activeEditor.resize()},0),b||a.activeEditor.focus())});a.internalControl.bindFile=function(b,c,e,f){a.activeEditor&&a.activeEditor.unload();a.bindEditorForFile(c);a.activeRepo=b;a.relativePath=c;a.activeEditor.bindFile(b,c,e,f)};a.bindEditorForFile=function(b){a.aceEditorControl.canEdit(b)?
a.activeEditor=a.aceEditorControl:console.log("Not sure how to open file: "+b)};a.downloadRepoSnapshot=function(){if(a.activeRepo){a.activeEditor.commitPending();var b=a.activeRepo.toZipFile(),c=a.activeRepo.repoProto.repo_header.repo_name.split("/")[0],e=new Date,c=c+"-"+e.getFullYear().toString().slice(-2)+("0"+e.getDate()).slice(-2)+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getHours()).slice(-2)+"-"+("0"+e.getMinutes()).slice(-2)+"-"+("0"+e.getSeconds()).slice(-2)+".zip";saveAs(b,c)}}}}}]);
angular.module("thilenius.file_explorer",[]).directive("atFileExplorer",["$rootScope",function(a){return{restrict:"AE",scope:{control:"="},templateUrl:"app/directives/file_explorer/151027.01.0533-file_explorer.htm",link:function(c,b,d){c.loadedRepos={};c.sortField="date";c.sortOrder="desc";c.fileTree={selected:null,parents:[]};c.internalControl=c.control||{};c.internalControl.selected=null;c.$watch("fileTree.selected",function(b,d){b&&(a.$broadcast("fileExplorer.fileSelected",b.repo,b.relativePath),
c.internalControl.selected=b)});c.internalControl.sortBy=function(a,b){};c.internalControl.addRepo=function(a){if(!c.loadedRepos[a.repoProto.repo_header.repo_uuid]){var b={label:a.repoProto.repo_header.repo_name.split("/")[0],children:[]},d;for(d in a.headState)b.children.push({label:d,repo:a,relativePath:d});c.fileTree.parents.push(b);c.loadedRepos[a.repoProto.repo_header.repo_uuid]=b;c.fileTree.parents=c.fileTree.parents;this.sortBy();c.$apply()}};c.internalControl.removeRepo=function(a){}}}}]);
angular.module("thilenius.history_explorer",[]).directive("atHistoryExplorer",["$rootScope",function(a){return{restrict:"AE",scope:{control:"="},templateUrl:"app/directives/history_explorer/151027.01.0533-history_explorer.htm",link:function(c,b,d){c.canRevert=!1;c.fileRelativePath=null;c.hasSelection=!1;c.repoName=null;c.selectedFile=null;c.historyTree={parents:[]};c.internalControl=c.control||{};c.$watch("historyTree.selected",function(b,d){b&&(c.canRevert=b!==c.historyTree.parents[0].children[0],
a.$broadcast("historyExplorer.snapshotSelected",b.repo,b.relativePath,b.changeList))});c.revertToCl=function(){if(c.selectedFile&&c.canRevert){var a=c.historyTree.selected.repo,b=a.reconstructFilesForCL(c.historyTree.selected.changeList.change_list_uuid)[c.selectedFile].source;c.historyTree.selected.repo.commit(c.selectedFile,b);c.internalControl.setRepoFile(a,c.selectedFile)}};c.internalControl.setRepoFile=function(a,b){if(a&&b){c.hasSelection=!0;var d=a.repoProto,h=c.filterChangelistsAndReverse(d.change_lists,
b);c.repoName=d.repo_header.repo_name;c.fileRelativePath=b;for(var d={parents:[]},k={},l=[],m=0;m<h.length;m++){var v=h[m],t=new Date(parseInt(v.timestamp)),t=t.toLocaleDateString()+" - "+t.getHours()+":00";k[t]||(k[t]=[],l.push(t));k[t].push(v)}for(h=0;h<l.length;h++){m=k[l[h]];v={label:l[h],children:[]};for(t=0;t<m.length;t++){var H=m[t];v.children.push({label:(new Date(parseInt(H.timestamp))).toLocaleTimeString(),repo:a,relativePath:b,changeList:H})}d.parents.push(v)}0<d.parents.length&&(d.parents[0].expanded=
!0,0<d.parents[0].children.length&&(d.selected=d.parents[0].children[0]));c.historyTree=d;c.canRevert=!1;c.selectedFile=b}else c.hasSelection=!1,c.repoName=null,c.fileRelativePath=null};c.filterChangelistsAndReverse=function(a,b){for(var c=[],d=0;d<a.length;d++){for(var k=a[d],l=!1,m=0;m<k.modified_files.length;m++)if(k.modified_files[m].file_info.relative_path===b){l=!0;break}l&&c.unshift(k)}return c}}}}]);
angular.module("thilenius.navbar",[]).directive("atNavbar",["$rootScope","sentinel",function(a,c){return{restrict:"AE",scope:{control:"="},templateUrl:"app/directives/navbar/151027.01.0533-navbar.htm",link:function(a,d,e){a.sentinel=c}}}]);var SETTINGS_COOKIE_KEY="scorch_forge_settings";
angular.module("thilenius.settings_window",[]).directive("atSettingsWindow",["$sce","$rootScope","$cookies",function(a,c,b){return{restrict:"AE",scope:{control:"="},templateUrl:"app/directives/settings_window/151027.01.0533-settings_window.htm",link:function(a,e,f){a.defaultSettings={foldStyle:"markbegin",fontSize:"12px",fullLineSelection:!0,highlightActiveLine:!0,highlightSelectedWord:!0,keyBinding:"ace",scrollPastEnd:!0,showGutter:!0,theme:"ace/theme/twilight",displayIndentGuides:!1,showInvisibles:!1,
showPrintMargin:!0,fadeFoldWidgets:!1};a.settings=jQuery.extend({},a.defaultSettings);c.editorSettings=a.settings;a.resetSettings=function(){c.editorSettings=a.settings=jQuery.extend({},a.defaultSettings)};if(e=b.get(SETTINGS_COOKIE_KEY))e=JSON.parse(e),a.settings=jQuery.extend(a.settings,e);c.$watchCollection("editorSettings",function(c,e){c&&b.put(SETTINGS_COOKIE_KEY,JSON.stringify(a.settings))})}}}]);
angular.module("thilenius.tree_view",[]).directive("atTreeView",[function(){return{restrict:"AE",scope:{tree:"=ngModel"},templateUrl:"app/directives/tree_view/151027.01.0533-tree_view.htm",link:function(a,c,b){}}}]);
var forgeApp=angular.module("forgeApp"),BilletService=function(a,c){this.$rootScope=a;this.fiber=c;var b=new Thrift.Transport("/api/billet/"),b=new Thrift.Protocol(b);this.client=new BilletClient(b);this.isOldCordRunning=!1;this.currentCord=null;document.billet=this;a.$on("billet.error",function(b,c){a.$broadcast("error",c)})};
BilletService.prototype.init=function(a){this.token=a;var c=this;this.client.GetSessionStatus(a,null).fail(function(a,c,e){console.log("Billet error: "+JSON.stringify(e))}).done(function(a){c.isOldCordRunning=a.is_running;if(a.current_or_last_cord&&""!==a.current_or_last_cord.uuid){console.log("Streaming old Fiber Cord: "+a.current_or_last_cord.uuid);var d=c.fiber.fromCord(a.current_or_last_cord);c.currentCord=d;c.$rootScope.$broadcast(a.is_running?"billet.activeCord":"billet.oldCord",d)}})};
BilletService.prototype.runCMakeRepo=function(a){var c=window.location.origin+"#/crucible/"+a.repo_uuid+"/"+a.latest_change_list_uuid,c="echo \"Synced to Crucible CL: <a href='"+c+"' target='_blank'>"+c+'</a>"&& mkdir --parents build && cd build && cmake .. && make && ./runnable';if(this.token){var b=this;this.client.SyncAndExec(this.token,a,c,null).fail(function(a,b,c){console.log("Billet error: "+JSON.stringify(c))}).done(function(a){console.log("Billet result: "+JSON.stringify(a));a=b.fiber.fromCord(a);
b.currentCord=a;b.$rootScope.$broadcast("billet.activeCord",a)})}else this.$rootScope.$broadcast("billet.error","No active token")};BilletService.prototype.terminateSession=function(){this.client.TerminateSession(this.token,null).fail(function(a,c,b){console.log("Billet TerminateSession error: "+JSON.stringify(b))}).done(function(){})};
BilletService.prototype.clean=function(a){if(this.token){var c=this;this.client.SyncAndExec(this.token,a,"rm -rf build/",null).fail(function(a,c,e){console.log("Billet error: "+JSON.stringify(e))}).done(function(a){console.log("Billet result: "+JSON.stringify(a));a=c.fiber.fromCord(a);c.currentCord=a;c.$rootScope.$broadcast("billet.activeCord",a)})}else this.$rootScope.$broadcast("billet.error","No active token")};
BilletService.prototype.clangFormat=function(a,c,b){this.$rootScope.$broadcast("billet.begin");this.client.ClangFormat(a,null).fail(function(a,c,f){b(f)}).done(function(a){c(a)})};
BilletService.prototype.firejqXhrErrorFactory=function(){var a=this;return function(c,b,d){c&&0===c.status?a.$rootScope.$broadcast("billet.error","Status 0 | cannot connect to billet"):d&&d.user_message&&0<d.user_message.length?a.$rootScope.$broadcast("billet.error","Status "+b+" | "+d.user_message):a.$rootScope.$broadcast("billet.error","Status "+b+" | Something isnt right here...")}};forgeApp.factory("billet",["$rootScope","fiber",function(a,c){return new BilletService(a,c)}]);
var forgeApp=angular.module("forgeApp"),blazeService=function(a){this.$rootScope=a;var c=new Thrift.Transport("/api/blaze/"),c=new Thrift.Protocol(c);this.client=new BlazeClient(c);a.$on("blaze.error",function(b,c){a.$broadcast("error",c)})};blazeService.prototype.setMinecraftAccount=function(a,c){var b=this;this.client.SetMinecraftAccount(a,c,null).fail(this.firejqXhrErrorFactory()).done(function(a){b.$rootScope.$broadcast("blaze.account_set",c)})};
blazeService.prototype.actionTargetInvoke=function(a,c,b,d){c=[c,b];c=c.concat(d);for(d=0;d<c.length;d++)b=c[d],"string"!==typeof b&&(c[d]=JSON.stringify(b));var e=this;this.client.ProcessBlazeRequest(a,"action_target_invoke",c,null).fail(this.firejqXhrErrorFactory()).done(function(a){e.$rootScope.$broadcast("blaze.action_result",a)})};
blazeService.prototype.firejqXhrErrorFactory=function(){var a=this;return function(c,b,d){c&&0===c.status?a.$rootScope.$broadcast("blaze.error","Status 0 | cannot connect to blaze"):d&&d.user_message&&0<d.user_message.length?a.$rootScope.$broadcast("blaze.error","Status "+b+" | "+d.user_message):a.$rootScope.$broadcast("blaze.error","Status "+b+" | Something isnt right here...")}};forgeApp.factory("blaze",["$rootScope",function(a){return new blazeService(a)}]);
var CordStream=function(a,c){this.client=a;this.cordProto=c;this.lestIndex=0;this.fiberUrl=window.location.origin+"#/fiber/"+c.uuid;this.callbacks={close:[]}};CordStream.prototype.addHandler=function(a,c){this.callbacks[a].push(c)};
CordStream.prototype.onGrain=function(a,c){this.lastIndex=0;var b=this,d=function(){b.client.ReadCordGTEIndex(b.cordProto,b.lastIndex,null).fail(function(a,f,g){if(g.end_of_cord)for(c(),a=0;a<b.callbacks.close.length;a++)b.callbacks.close[a]();else d()}).done(function(c){b.lastIndex+=c.length;a(c);d()})};d()};CordStream.prototype.write=function(a,c){};CordStream.prototype.close=function(){};
var CrucibleRepo=function(a,c){this.repoProto=c;this.crucible=a;this.differencer=new Differencer;this.nextClId=0;this.headState=this.reconstructFilesForCL()};
CrucibleRepo.prototype.getPendingChangeList=function(a,c){var b=this.headState[a].source,d=new FileDelta;d.file_info=new FileInfo;d.file_info.relative_path=a;d.file_info.modify_timestamp=(new Date).getTime().toString();d.file_info.md5="JS client, no md5";d.patches=this.differencer.patchesFromStrings(b,c);if(0===d.patches.length)return null;b=new ChangeList;b.change_list_uuid="Pending CL: "+this.nextClId++;b.user_uuid="Pending CL";b.timestamp=(new Date).getTime().toString();b.modified_files=[d];b.added_files=
[];b.removed_files=[];return b};CrucibleRepo.prototype.commit=function(a,c,b){var d=this.getPendingChangeList(a,c);if(d){this.repoProto.change_lists.push(d);this.headState=this.reconstructFilesForCL();var e=this;this.crucible.enqueueCommit(this.repoProto.repo_header,d,function(a){e.repoProto.repo_header.latest_change_list_uuid=a.change_list_uuid;d.change_list_uuid=a.change_list_uuid;d.user_uuid=a.user_uuid;d.timestamp=a.timestamp;b&&b()})}else b&&b()};
CrucibleRepo.prototype.reconstructFilesForCL=function(a){for(var c={},b=0;b<this.repoProto.change_lists.length;b++){for(var d=this.repoProto.change_lists[b],e=0;e<d.added_files.length;e++){var f=d.added_files[e];c[f.file_info.relative_path]=jQuery.extend(!0,{},f)}for(e=0;e<d.modified_files.length;e++){var f=d.modified_files[e],g=c[f.file_info.relative_path];g.source=this.differencer.applyPatches(g.source,f.patches)}for(e=0;e<d.removed_files.length;e++)delete c[d.removed_files[e].relative_path];if(a&&
d.change_list_uuid==a)break}return c};CrucibleRepo.prototype.toZipFile=function(){var a=new JSZip,c;for(c in this.headState)a.file(c,this.headState[c].source);return a.generate({type:"blob"})};
var forgeApp=angular.module("forgeApp"),CrucibleService=function(a,c){this.$rootScope=a;this.sentinel=c;var b=new Thrift.Transport("/api/crucible/"),b=new Thrift.Protocol(b);this.client=new CrucibleClient(b);this.repos=[];this.errorState=!1;this.executionPipline=[];a.$on("crucible.error",function(b,c){a.$broadcast("error",c)})};
CrucibleService.prototype.enqueueCommit=function(a,c,b){if(!this.errorState){var d=this;d.$rootScope.$broadcast("crucibe.preCommit",c);this.executionPipline.push(function(){d.client.CommitAndDownstream(d.sentinel.token,a,c,null).fail(d.firejqXhrErrorFactory()).done(function(c){b(c);console.log("CL commited: "+c.change_list_uuid+". At: "+a.latest_change_list_uuid+". Pipline at "+d.executionPipline.length+" items.");d.$rootScope.$broadcast("crucibe.postCommit",c);d.executionPipline.shift();if(0<d.executionPipline.length)d.executionPipline[0]()})});
if(1==d.executionPipline.length)d.executionPipline[0]()}};CrucibleService.prototype.loadRepoFromId=function(a){var c=this;this.client.GetRepoById(a,null).fail(c.firejqXhrErrorFactory()).done(function(a){a=new CrucibleRepo(c,a);c.repos.push(a);c.$rootScope.$broadcast("crucible.repoAdded",a)})};
CrucibleService.prototype.loadAllRepos=function(){if(this.sentinel.token){var a=this;a.client.GetRepoHeadersByUser(a.sentinel.token,null).fail(a.firejqXhrErrorFactory()).done(function(c){for(var b=0;b<c.length;b++)a.loadRepoFromId(c[b].repo_uuid)})}else this.$rootScope.$broadcast("crucible.error","Crucible requires a sentinel token")};CrucibleService.prototype.unloadAllRepos=function(){for(var a=0;a<this.repos.length;a++)this.$rootScope.$broadcast("repoRemoved",this.repos[a]);repos=[]};
CrucibleService.prototype.firejqXhrErrorFactory=function(){var a=this;return function(c,b,d){c&&0===c.status?a.$rootScope.$broadcast("crucible.error","Status 0 | cannot connect to Crucible"):d&&d.user_message&&0<d.user_message.length?a.$rootScope.$broadcast("crucible.error","Status "+b+" | "+d.user_message):a.$rootScope.$broadcast("crucible.error","Status "+b+" | Something isnt right here...")}};forgeApp.factory("crucible",["$rootScope","sentinel",function(a,c){return new CrucibleService(a,c)}]);
var forgeApp=angular.module("forgeApp"),FiberService=function(a,c){this.$rootScope=a;this.sentinel=c;var b=new Thrift.Transport("/api/fiber/"),b=new Thrift.Protocol(b);this.client=new FiberClient(b);a.$on("fiber.error",function(b,c){a.$broadcast("error",c)})};FiberService.prototype.fromCord=function(a){return new CordStream(this.client,a)};
FiberService.prototype.createCord=function(a,c,b){var d=this;d.client.CreateCord(d.sentinel.token,a,null).fail(function(a,c,d){b&&b(d)}).done(function(a){c(new CordStream(d.client,a))})};FiberService.prototype.getCord=function(a,c,b){var d=this;d.client.GetCord(a,null).fail(function(a,c,d){b&&b(d)}).done(function(a){c(new CordStream(d.client,a))})};forgeApp.factory("fiber",["$rootScope","sentinel",function(a,c){return new FiberService(a,c)}]);
var forgeApp=angular.module("forgeApp"),FORGE_COOKIE_KEY="forge_session_token",SentinelService=function(a,c,b){this.$rootScope=a;this.$cookies=c;this.$location=b;c=new Thrift.Transport("/api/sentinel/");c=new Thrift.Protocol(c);this.client=new SentinelClient(c);this.user=this.token=null;a.$on("sentinel.error",function(b,c){a.$broadcast("error",c)})};
SentinelService.prototype.login=function(a,c){var b=this;b.client.CreateToken(a,c,null).fail(b.firejqXhrErrorFactory()).done(function(a){b.token=a;b.$cookies.put(FORGE_COOKIE_KEY,JSON.stringify(b.token));b.loadUserData()})};SentinelService.prototype.logout=function(){this.lastUrl||(this.lastUrl=this.$location.path());this.user=this.token=null;this.$cookies.put(FORGE_COOKIE_KEY,null);this.$rootScope.$broadcast("sentinel.logout");this.$location.path("/login")};
SentinelService.prototype.createAccount=function(a,c,b,d){var e=new User;e.first_name=a;e.last_name=c;e.email_address=b;var f=this;this.client.CreateUser(e,d,null).fail(f.firejqXhrErrorFactory()).done(function(a){f.login(b,d)})};
SentinelService.prototype.tryLoadingFromCookie=function(){if(!this.token||!this.user)if(this.$cookies.get(FORGE_COOKIE_KEY)&&JSON.parse(this.$cookies.get(FORGE_COOKIE_KEY))){this.token=jQuery.extend(new Token,JSON.parse(this.$cookies.get(FORGE_COOKIE_KEY)));var a=this;this.client.CheckToken(this.token,null).fail(function(c,b,d){a.logout()}).done(function(c){c?a.loadUserData():a.token=null})}else this.logout()};
SentinelService.prototype.loadUserData=function(){if(this.token&&!this.user){var a=new User;a.uuid=this.token.user_uuid;var c=this;this.client.FindUser(this.token,a,function(){}).fail(c.firejqXhrErrorFactory()).done(function(a){c.user=a;c.$rootScope.$broadcast("sentinel.login",c.token,c.user)})}};
SentinelService.prototype.firejqXhrErrorFactory=function(){var a=this;return function(c,b,d){c&&0===c.status?a.$rootScope.$broadcast("sentinel.error","Status 0 | cannot connect to Sentinel"):d&&d.user_message&&0<d.user_message.length?a.$rootScope.$broadcast("sentinel.error","Status "+b+" | "+d.user_message):a.$rootScope.$broadcast("sentinel.error","Status "+b+" | Something isnt right here...")}};
forgeApp.factory("sentinel",["$rootScope","$cookies","$location",function(a,c,b){return new SentinelService(a,c,b)}]);var isEmpty=function(a){return a&&0<a.length},isBlank=function(a){return!a||/^\s*$/.test(a)};String.prototype.toPascalCase=function(){return this.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})};
